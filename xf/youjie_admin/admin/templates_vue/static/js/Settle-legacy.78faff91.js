(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Settle"],{"0a0d":function(e,t,a){e.exports=a("e829")},"0a49":function(e,t,a){var n=a("9b43"),i=a("626a"),s=a("4bf8"),r=a("9def"),o=a("cd1c");e.exports=function(e,t){var a=1==e,l=2==e,c=3==e,u=4==e,p=6==e,m=5==e||p,d=t||o;return function(t,o,f){for(var h,b,_=s(t),v=i(_),g=n(o,f,3),y=r(v.length),w=0,C=a?d(t,y):l?d(t,0):void 0;y>w;w++)if((m||w in v)&&(h=v[w],b=g(h,w,_),e))if(a)C[w]=b;else if(b)switch(e){case 3:return!0;case 5:return h;case 6:return w;case 2:C.push(h)}else if(u)return!1;return p?-1:c||u?u:C}}},"0c23":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAMAAAANIilAAAAAS1BMVEVHcExmZmZmZmZlZWVhYWFmZmZmZmZmZmZmZmZlZWVmZmZmZmZlZWVmZmZmZmb///9ra2vBwcFzc3P29vbc3NykpKS1tbWFhYWbm5u4F9NuAAAADnRSTlMA6K2ZC9jA+TUbSnJejght8qgAAAIHSURBVEjHtZfbloMgDEVBrlbxVq39/y8doNgBSRRX2zy2npUNOQlACBS81q2RgipFhTStrjkpDd1UQnVRKFE1ukh/kzRRBj2Vt/OsFaAMUR1n1wyXuvRMHxCL7iREi0i56QrCgOh1pUrEqqoBrSzSWrWsc21XHGKn5pUqF+/JzQWtVZukRt3FiCqmxVUxfbuFs+5ysK3cOl7w8zHAn0/jGq1abamr6JPl3o8TpF3nfo7UnQy7FSde+r4fgdzT3Pf3WKxeHZrYYxitOif32iX5yafWdLc0l3vKmK12yDe82fljeGTkPu9z75TGGXOPmJEDzH6wcFILoCgJOcQc+kMDrk7IQWbPrUkLFTUiR5hdNMQgdgrkGLO3KEGGQCBHmV+VxhrqRY4zux0jFPvLk+PMziYEHyGeHGV2230gduuFfB6JUWy/z4DPY2xxkPf+fCAdGjZMHmgXrEO3Uhmc2e0z2KFvk7Q4M9ah//aEGiPxM0puGwNoyZ2fMXLbkvkwyPyMkNthkI0hoAdh8iYfgGAPQuR+AHJ5OutAcsmzI3JEetCTJ3/csuNmWGekBy15wi2hg25dETMOy5SfNrsjdrh4xH50uBPY4IXXissXGva9q9RHlzirFqXXR1F/9+Jq1UVXZlYjN+6Wnta3/c0zwZZMH1y75Y3/8Gn04aMsPAcbtj0HWYM9B/8AX7CdfXBQYZ0AAAAASUVORK5CYII="},"0fc2":function(e,t,a){},1127:function(e,t,a){"use strict";var n=a("65d2"),i=a.n(n);i.a},1169:function(e,t,a){var n=a("2d95");e.exports=Array.isArray||function(e){return"Array"==n(e)}},1735:function(e,t,a){"use strict";var n=a("6f48"),i=a.n(n);i.a},"1af6":function(e,t,a){var n=a("63b6");n(n.S,"Array",{isArray:a("9003")})},"1c4b":function(e,t,a){},"1e78":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("page-title",{attrs:{"first-title":"ä¸‹å•æœ‰ç¤¼","second-title":"ç¼–è¾‘æ´»åŠ¨"}}),a("div",{staticClass:"wrapper"},[a("el-form",{ref:"AcitveData",staticStyle:{width:"600px"},attrs:{"label-position":"left",model:e.AcitveData,rules:e.rules,"label-width":"140px"}},[a("el-form-item",{attrs:{label:"æ´»åŠ¨åç§°",prop:"cashName"}},[a("el-input",{attrs:{minlength:"3",maxlength:"20"},model:{value:e.AcitveData.cashName,callback:function(t){e.$set(e.AcitveData,"cashName",t)},expression:"AcitveData.cashName"}})],1),a("el-form-item",{attrs:{label:"æ´»åŠ¨æ—¶é—´"}},[a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{prop:"startTime"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime",placeholder:"å¹´-æœˆ-æ—¥ æ—¶:åˆ†",format:"yyyy-MM-dd HH:mm","value-format":"timestamp","picker-options":e.pickerOptions0},model:{value:e.AcitveData.startTime,callback:function(t){e.$set(e.AcitveData,"startTime",t)},expression:"AcitveData.startTime"}})],1)],1),a("el-col",{staticClass:"line",staticStyle:{"text-align":"center"},attrs:{span:2}},[e._v("-")]),a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{prop:"endTime"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime","value-format":"timestamp",placeholder:"å¹´-æœˆ-æ—¥ æ—¶:åˆ†",format:"yyyy-MM-dd HH:mm","picker-options":e.pickerOptions1,"default-time":"23:59:59"},on:{change:e.formatendtime},model:{value:e.AcitveData.endTime,callback:function(t){e.$set(e.AcitveData,"endTime",t)},expression:"AcitveData.endTime"}})],1)],1)],1),a("el-form-item",{staticClass:"cashType",attrs:{label:"æ´»åŠ¨ç±»å‹",prop:"cashType"}},[a("el-row",[a("span",[e._v("ç°é‡‘çº¢åŒ…")])]),a("el-radio-group",{on:{change:e.AmonutCach},model:{value:e.AcitveData.cashType,callback:function(t){e.$set(e.AcitveData,"cashType",t)},expression:"AcitveData.cashType"}},[a("el-row",[a("el-col",{attrs:{span:10}},[a("el-radio",{attrs:{label:1}},[e._v("å›ºå®šé‡‘é¢ ")])],1),a("el-col",{attrs:{span:10}},[a("el-radio",{attrs:{label:2}},[e._v("è®¢å•é‡‘é¢ç™¾åˆ†æ¯” ")])],1)],1),e.Amountflag?a("el-form-item",{staticClass:"radioBox"},[a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.AcitveData.cashAmount0,expression:"AcitveData.cashAmount0",modifiers:{number:!0}}],class:{active:e.iswarn0},attrs:{type:"number",min:"0.01",max:"100",step:"0.01"},domProps:{value:e.AcitveData.cashAmount0},on:{blur:[e.checks,function(t){return e.$forceUpdate()}],input:function(t){t.target.composing||e.$set(e.AcitveData,"cashAmount0",e._n(t.target.value))}}}),a("span",[e._v(" %")]),a("span",{staticClass:"warn"},[e._v("â€˜è®¢å•é‡‘é¢ç™¾åˆ†æ¯”â€™ä¸ºæ”¯ä»˜ç°é‡‘é‡‘é¢çš„ç™¾åˆ†æ¯”")]),a("p",{attrs:{id:"warn_red"}})]):a("el-form-item",{staticClass:"radioBox"},[a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.AcitveData.cashAmount,expression:"AcitveData.cashAmount",modifiers:{number:!0}}],class:{active:e.iswarn},attrs:{type:"number",min:"1",max:"99999999"},domProps:{value:e.AcitveData.cashAmount},on:{blur:[e.checks,function(t){return e.$forceUpdate()}],input:function(t){t.target.composing||e.$set(e.AcitveData,"cashAmount",e._n(t.target.value))}}}),a("span",[e._v(" å…ƒ")]),a("p",{attrs:{id:"warn_red"}})])],1)],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.Amountflag,expression:"Amountflag"}],attrs:{label:"å•æ¬¡æœ€é«˜è¿”ç°é‡‘é¢",prop:"maxSingleCash"}},[a("el-input",{attrs:{min:"1",max:"99999999",maxlength:"8"},model:{value:e.AcitveData.maxSingleCash,callback:function(t){e.$set(e.AcitveData,"maxSingleCash",e._n(t))},expression:"AcitveData.maxSingleCash"}})],1),a("el-form-item",{attrs:{label:"æ´»åŠ¨æ€»é¢",prop:"totalAmount"}},[a("el-input",{attrs:{type:"number",min:"1",max:"99999999",maxlength:"8"},model:{value:e.AcitveData.totalAmount,callback:function(t){e.$set(e.AcitveData,"totalAmount",e._n(t))},expression:"AcitveData.totalAmount"}},[e._v("\n          "+e._s(e.utils.formatMoney(e.AcitveData.totalAmount))+"\n        ")]),a("span",{staticClass:"warn"},[e._v("è¾“å…¥ -1 ä»£è¡¨ä¸é™åˆ¶æ´»åŠ¨é‡‘é¢")])],1),a("el-form-item",{attrs:{label:"æ´»åŠ¨äººç¾¤",prop:"targetUsers"}},[a("el-radio-group",{model:{value:e.AcitveData.targetUsers,callback:function(t){e.$set(e.AcitveData,"targetUsers",t)},expression:"AcitveData.targetUsers"}},[a("el-radio",{attrs:{label:"2"}},[e._v("å…¨éƒ¨")]),a("el-radio",{attrs:{label:"1"}},[e._v("æ–°ç”¨æˆ·")])],1)],1),a("el-form-item",{attrs:{label:"æœ‰ç¤¼å•æ•°"}},[a("el-input",{attrs:{type:"number",min:"0",disabled:""},model:{value:e.AcitveData.maxNumber,callback:function(t){e.$set(e.AcitveData,"maxNumber",e._n(t))},expression:"AcitveData.maxNumber"}}),a("span",{staticClass:"warn"},[e._v("æ´»åŠ¨å¼€å§‹åå¯å‚åŠ ä¸‹å•æœ‰ç¤¼çš„è®¢å•æ•°")])],1),a("el-form-item",{attrs:{label:"æ´»åŠ¨å•†å“",prop:"cashScope"}},[a("el-radio-group",{model:{value:e.AcitveData.cashScope,callback:function(t){e.$set(e.AcitveData,"cashScope",t)},expression:"AcitveData.cashScope"}},[a("el-radio",{attrs:{label:"0",selected:""}},[e._v("å…¨éƒ¨å•†å“")])],1)],1),a("el-form-item",{attrs:{label:"ä¼˜å…ˆçº§",prop:"priority"}},[a("el-input",{attrs:{min:"1",max:"999"},model:{value:e.AcitveData.priority,callback:function(t){e.$set(e.AcitveData,"priority",e._n(t))},expression:"AcitveData.priority"}}),a("span",{staticClass:"warn"},[e._v("è¯·è¾“å…¥1-999æ•°å­—ã€‚å­—æ•°è¶Šå¤§ä¼˜å…ˆçº§è¶Šé«˜ã€‚ä¼˜å…ˆçº§ç›¸åŒçš„æ´»åŠ¨ï¼Œä»¥ä¾¿åŠæ—¶é—´ä¸ºå‡†")])],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.check("AcitveData",e.AcitveData)}}},[e._v("ç¡®å®š")]),a("el-button",{on:{click:e.back}},[e._v("å–æ¶ˆ")])],1)],1)],1)],1)},i=[],s=(a("a481"),a("6b54"),a("06db"),a("e814")),r=a.n(s),o=(a("c5f6"),a("0a0d")),l=a.n(o),c={data:function(){var e=this,t=function(e,t,a){if(!t)return a(new Error("æ´»åŠ¨æ€»é¢ä¸èƒ½ä¸ºç©ºæˆ–è€…0"));-2>t||t>99999999?a(new Error("æ€»é‡‘é¢å–å€¼åŒºé—´ä¸º1-99999999")):a()};return{subm:!0,id:this.$route.params.id?this.$route.params.id:"",AcitveData:{cashName:"",startTime:"",endTime:"",cashAmount:"",cashAmount0:"",cashType:"1",targetUsers:"1",totalAmount:"-1",maxNumber:"1",cashScope:"0",priority:"",maxSingleCash:""},pickerOptions0:{disabledDate:function(t){return""!=e.AcitveData.endTime&&null!=e.AcitveData.endTime?t.getTime()<l()()-864e5||t>e.AcitveData.endTime:t.getTime()<l()()-864e5}},pickerOptions1:{disabledDate:function(t){return t<e.AcitveData.startTime-864e5}},Amountflag:!1,rules:{cashName:[{required:!0,message:"è¯·è¾“å…¥æ´»åŠ¨åç§°",trigger:"blur"},{min:3,max:20,message:"é•¿åº¦åœ¨ 3 åˆ° 20 ä¸ªå­—ç¬¦",trigger:"blur"}],startTime:[{type:"date",required:!0,message:"è¯·é€‰æ‹©å¼€å§‹æ—¶é—´",trigger:"change"}],endTime:[{type:"date",required:!0,message:"è¯·é€‰æ‹©ç»“æŸæ—¶é—´",trigger:"change"}],totalAmount:[{required:!0,validator:t,trigger:"blur"}],targetUsers:[{required:!0,message:"è¯·è¾“å…¥æ´»åŠ¨åç§°",trigger:"blur"}],priority:[{required:!0,type:"number",message:"ä¼˜å…ˆçº§ä¸èƒ½ä¸ºç©º",trigger:"blur"},{type:"number",min:1,max:999,message:"ä¼˜å…ˆçº§åœ¨1-999ä¹‹é—´",trigger:"blur"}],cashType:[{required:!0,message:"è¯·é€‰æ‹©æ´»åŠ¨ç±»å‹",trigger:"change"}],cashScope:[{required:!0,message:"è¯·é€‰æ‹©æ´»åŠ¨ç±»å‹",trigger:"change"}],maxSingleCash:[{required:!0,type:"number",message:"å•æ¬¡æœ€é«˜è¿”ç°é‡‘é¢ä¸èƒ½ä¸ºç©º",trigger:"blur"},{type:"number",min:1,max:99999999,message:"è®¢å•é‡‘é¢åŒºé—´ä¸º1-99999999",trigger:"blur"}]},iswarn:!1,iswarn0:!1}},created:function(){this.acitveDatas(this.id)},methods:{check:function(e,t){var a=this;1==t.cashType?t.maxSingleCash=Number(t.cashAmount):t.cashAmount=t.cashAmount0,this.$refs[e].validate(function(e){if(!e||!a.subm)return a.checks(),console.log("error submit!!"),!1;a.subm=!1,t.startTime=r()(t.startTime/1e3),t.endTime=r()(t.endTime/1e3),a.$api.post("/hd/itzReturnCashActivity/check",t,function(e){if(200===e.status)a.saveForm(t);else{if(30101===e.status)return a.subm=!0,t.startTime=1e3*t.startTime,t.endTime=1e3*t.endTime,void a.$alert(e.message,"æç¤º",{confirmButtonText:"ç¡®å®š",callback:function(){t.cashName=""}});30102===e.status?(a.subm=!1,t.startTime=1e3*t.startTime,t.endTime=1e3*t.endTime,a.$confirm("è¯¥æ—¶é—´æ®µå·²æœ‰è¿”ç°æ´»åŠ¨ï¼Œæ˜¯å¦ç»§ç»­ç¼–è¾‘?","æç¤º",{confirmButtonText:"ç¡®å®š",cancelButtonText:"å–æ¶ˆ",type:"warning"}).then(function(){t.startTime=r()(t.startTime/1e3),t.endTime=r()(t.endTime/1e3),a.saveForm(t)}).catch(function(){a.subm=!0,a.$message({type:"info",message:"å·²å–æ¶ˆç¼–è¾‘"})})):(a.subm=!1,t.startTime=1e3*t.startTime,t.endTime=1e3*t.endTime,a.$message.error({title:"é”™è¯¯",message:e.message}))}},function(e){console.log(e),a.subm=!0,t.startTime=1e3*t.startTime,t.endTime=1e3*t.endTime})})},saveForm:function(e){var t=this;this.$api.put("/hd/itzReturnCashActivity/".concat(e.id," "),e,function(a){200===a.status?(t.$message("ä¿®æ”¹æˆåŠŸ"),t.back()):(e.startTime=1e3*e.startTime,e.endTime=1e3*e.endTime,t.$message.error({title:"é”™è¯¯",message:a.message}))})},resetForm:function(e){this.$refs[e].resetFields()},AmonutCach:function(e){this.subm=!1,this.Amountflag="1"!=e,this.checks()},formatendtime:function(e){var t=this;e&&e<this.AcitveData.startTime&&this.$alert("ç»“æŸæ—¶é—´ä¸èƒ½æ—©äºå¼€å§‹æ—¶é—´","æç¤º",{confirmButtonText:"ç¡®å®š",callback:function(){t.AcitveData.endTime=""}})},acitveDatas:function(e){var t=this;this.$api.get("/hd/itzReturnCashActivity/get/detail/".concat(e),null,function(e){200===e.status?(t.AcitveData=e.data,t.AcitveData.startTime=1e3*t.AcitveData.startTime,t.AcitveData.endTime=1e3*t.AcitveData.endTime,2===t.AcitveData.cashType&&(t.Amountflag=!0,t.AcitveData.cashAmount0=t.AcitveData.cashAmount)):(t.AcitveData.startTime=1e3*t.AcitveData.startTime,t.AcitveData.endTime=1e3*t.AcitveData.endTime,t.$message.error({title:"é”™è¯¯",message:e.message}))})},back:function(){this.$router.go(-1)},thousandBitSeparator:function(e){return e&&(-1!=e.toString().indexOf(".")?e.toString().replace(/(\d)(?=(\d{3})+\.)/g,function(e,t){return t+","}):e.toString().replace(/(\d)(?=(\d{3}))/g,function(e,t){return t+","}))},checks:function(){console.log("check",this.Amountflag);var e="";this.subm=!1,this.iswarn=!0,this.iswarn0=!0,this.Amountflag?(document.getElementById("warn_red").innerHTML="",e=this.AcitveData.cashAmount0,console.log("val",e),""==e?document.getElementById("warn_red").innerHTML="è®¢å•é‡‘é¢ç™¾åˆ†æ¯”ä¸èƒ½ä¸ºç©º":e<.01||e>100?document.getElementById("warn_red").innerHTML="è®¢å•é‡‘é¢ç™¾åˆ†æ¯”å–å€¼åŒºé—´ä¸º0.01-100":(document.getElementById("warn_red").innerHTML="",this.subm=!0,this.iswarn0=!1)):(document.getElementById("warn_red").innerHTML="",e=this.AcitveData.cashAmount,console.log("val",e),""==e?document.getElementById("warn_red").innerHTML="çº¢åŒ…é‡‘é¢ä¸èƒ½ä¸ºç©º":e<1||e>99999999?document.getElementById("warn_red").innerHTML="çº¢åŒ…é‡‘é¢å–å€¼åŒºé—´ä¸º1-99999999":(document.getElementById("warn_red").innerHTML="",this.subm=!0,this.iswarn=!1))}}},u=c,p=(a("41a3"),a("2877")),m=Object(p["a"])(u,n,i,!1,null,"5744a2a5",null);t["default"]=m.exports},"203a":function(e,t,a){"use strict";var n=a("e350"),i=a.n(n);i.a},2065:function(e,t,a){},"20fd":function(e,t,a){"use strict";var n=a("d9f6"),i=a("aebd");e.exports=function(e,t,a){t in e?n.f(e,t,i(0,a)):e[t]=a}},2123:function(e,t,a){"use strict";var n=a("62f4"),i=a.n(n);i.a},"21a6":function(e,t,a){(function(a){var n,i,s;(function(a,r){i=[],n=r,s="function"===typeof n?n.apply(t,i):n,void 0===s||(e.exports=s)})(0,function(){"use strict";function t(e,t){return"undefined"==typeof t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function n(e,t,a){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){o(n.response,t,a)},n.onerror=function(){console.error("could not download file")},n.send()}function i(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function s(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(n){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var r="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof a&&a.global===a?a:void 0,o=r.saveAs||("object"!=typeof window||window!==r?function(){}:"download"in HTMLAnchorElement.prototype?function(e,t,a){var o=r.URL||r.webkitURL,l=document.createElement("a");t=t||e.name||"download",l.download=t,l.rel="noopener","string"==typeof e?(l.href=e,l.origin===location.origin?s(l):i(l.href)?n(e,t,a):s(l,l.target="_blank")):(l.href=o.createObjectURL(e),setTimeout(function(){o.revokeObjectURL(l.href)},4e4),setTimeout(function(){s(l)},0))}:"msSaveOrOpenBlob"in navigator?function(e,a,r){if(a=a||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(t(e,r),a);else if(i(e))n(e,a,r);else{var o=document.createElement("a");o.href=e,o.target="_blank",setTimeout(function(){s(o)})}}:function(e,t,a,i){if(i=i||open("","_blank"),i&&(i.document.title=i.document.body.innerText="downloading..."),"string"==typeof e)return n(e,t,a);var s="application/octet-stream"===e.type,o=/constructor/i.test(r.HTMLElement)||r.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||s&&o)&&"object"==typeof FileReader){var c=new FileReader;c.onloadend=function(){var e=c.result;e=l?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=e:location=e,i=null},c.readAsDataURL(e)}else{var u=r.URL||r.webkitURL,p=u.createObjectURL(e);i?i.location=p:location.href=p,i=null,setTimeout(function(){u.revokeObjectURL(p)},4e4)}});r.saveAs=o.saveAs=o,e.exports=o})}).call(this,a("c8ba"))},"25fc":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"header"},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",[e._v("ä¼˜æƒ åˆ¸")]),a("el-breadcrumb-item",[e._v("ä¼˜æƒ åˆ¸åˆ—è¡¨")])],1)],1),a("div",{staticClass:"button-wrapper"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.addNew()}}},[e._v("åˆ›å»ºä¼˜æƒ åˆ¸")])],1),a("div",{staticClass:"search-wrapper"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.searchParams}},[a("el-form-item",{attrs:{label:"ä¼˜æƒ åˆ¸åç§°"}},[a("el-input",{attrs:{placeholder:"ä¼˜æƒ åˆ¸åç§°"},model:{value:e.searchParams.couponName,callback:function(t){e.$set(e.searchParams,"couponName",t)},expression:"searchParams.couponName"}})],1),a("el-form-item",{attrs:{label:"ä¼˜æƒ åˆ¸çŠ¶æ€"}},[a("el-select",{attrs:{clearable:"",placeholder:"ä¼˜æƒ åˆ¸çŠ¶æ€"},model:{value:e.searchParams.couponStatus,callback:function(t){e.$set(e.searchParams,"couponStatus",t)},expression:"searchParams.couponStatus"}},e._l(e.classList,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.search}},[e._v("æŸ¥è¯¢")]),a("el-button",{on:{click:e.clear}},[e._v("æ¸…ç©º")])],1)],1)],1),a("div",{staticClass:"list-wrapper"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.list}},[a("el-table-column",{attrs:{type:"index",label:"åºå·",width:"50"}}),a("el-table-column",{attrs:{prop:"couponName",label:"ä¼˜æƒ åˆ¸åç§°"}}),a("el-table-column",{attrs:{label:"å·²é¢†å–/å‰©ä½™"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("router-link",{attrs:{to:{name:"couponDetails",params:{id:t.row.id}}}},[a("el-button",{attrs:{type:"text",size:"small"}},[e._v(e._s(t.row.sendCount)+"/"+e._s(t.row.totalCount-t.row.sendCount))])],1)]}}])}),a("el-table-column",{attrs:{prop:"couponStatus",label:"çŠ¶æ€",formatter:e.statusFormat}}),a("el-table-column",{attrs:{prop:"remarks",label:"å¤‡æ³¨"}}),a("el-table-column",{attrs:{label:"æ“ä½œ",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[2==t.row.couponStatus?a("div",[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.del(t.row.id)}}},[e._v("åˆ é™¤")])],1):a("div",[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.edit(t.row)}}},[e._v("ç¼–è¾‘")]),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.toLink(t.row.couponLink)}}},[e._v("é“¾æ¥")]),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.invalid(t.row.id)}}},[e._v("ä½œåºŸ")])],1)]}}])})],1)],1),a("el-pagination",{attrs:{background:"","current-page":e.currentPage,"page-size":e.searchParams.pageSize,layout:"prev, pager, next, jumper",total:e.total},on:{"current-change":e.handleCurrentChange}}),a("el-dialog",{attrs:{title:"ç¼–è¾‘",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"dialogForm",attrs:{model:e.form,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"ä¼˜æƒ åˆ¸åç§°",prop:"couponName"}},[a("el-input",{model:{value:e.form.couponName,callback:function(t){e.$set(e.form,"couponName",t)},expression:"form.couponName"}})],1),a("el-form-item",{attrs:{label:"å‘æ”¾æ€»é‡",prop:"totalCount"}},[a("el-input",{attrs:{disabled:""},model:{value:e.showForm.totalCount,callback:function(t){e.$set(e.showForm,"totalCount",t)},expression:"showForm.totalCount"}})],1),a("el-form-item",{attrs:{label:"ä½¿ç”¨é—¨æ§›",prop:"thresholdType"}},[a("el-radio-group",{attrs:{size:"mini"},model:{value:e.showForm.thresholdType,callback:function(t){e.$set(e.showForm,"thresholdType",t)},expression:"showForm.thresholdType"}},[a("el-radio",{attrs:{label:0,disabled:""}},[e._v("æ— é—¨æ§›")]),a("div",{staticStyle:{"margin-top":"10px"}},[a("el-radio",{attrs:{label:1,disabled:""}},[e._v("è®¢å•æ»¡")])],1)],1),1==e.showForm.thresholdType?a("div",{staticClass:"left_flex"},[a("el-input",{attrs:{disabled:""},model:{value:e.showForm.thresholdAmount,callback:function(t){e.$set(e.showForm,"thresholdAmount",t)},expression:"showForm.thresholdAmount"}},[a("template",{slot:"append"},[e._v("å…ƒ")])],2)],1):e._e()],1),a("el-form-item",{attrs:{label:"ä¼˜æƒ å†…å®¹",prop:"preferentialAmount"}},[a("el-input",{attrs:{disabled:""},model:{value:e.showForm.preferentialAmount,callback:function(t){e.$set(e.showForm,"preferentialAmount",t)},expression:"showForm.preferentialAmount"}},[a("template",{slot:"prepend"},[e._v("å‡")]),a("template",{slot:"append"},[e._v("å…ƒ")])],2)],1),a("el-form-item",{attrs:{label:"æœ‰æ•ˆæœŸ",prop:"order_valid"}},[a("el-radio-group",{attrs:{size:"mini"},model:{value:e.showForm.periodType,callback:function(t){e.$set(e.showForm,"periodType",t)},expression:"showForm.periodType"}},[a("div",{staticStyle:{display:"flex"}},[a("el-radio",{attrs:{label:0,disabled:""}},[e._v("æ—¥æœŸ")]),0==e.showForm.periodType?a("div",{staticStyle:{display:"flex",flex:"1","margin-left":"20px",height:"20px"}},[a("el-input",{staticStyle:{flex:"1"},attrs:{disabled:""},model:{value:e.showForm.periodStartTime,callback:function(t){e.$set(e.showForm,"periodStartTime",t)},expression:"showForm.periodStartTime"}}),a("span",{staticStyle:{"font-size":"14px","line-height":"40px",width:"40px","text-align":"center"}},[e._v("è‡³")]),a("el-input",{staticStyle:{flex:"1"},attrs:{disabled:""},model:{value:e.showForm.periodEndTime,callback:function(t){e.$set(e.showForm,"periodEndTime",t)},expression:"showForm.periodEndTime"}})],1):e._e()],1),a("div",{staticStyle:{"margin-top":"10px",display:"flex",height:"20px"}},[a("el-radio",{attrs:{label:1,disabled:""}},[e._v("é¢†åˆ¸å")]),1==e.showForm.periodType?a("el-input",{staticStyle:{flex:"1","margin-top":"-25px"},attrs:{disabled:""},model:{value:e.showForm.periodType,callback:function(t){e.$set(e.showForm,"periodType",t)},expression:"showForm.periodType"}},[a("template",{slot:"append"},[e._v("å¤©")])],2):e._e()],1)])],1),a("el-form-item",{attrs:{label:"é€‚ç”¨å•†å“",prop:"count"}},[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(t){e.dialogFormVisible2=!0}}},[e._v(e._s(e.showForm.count))])],1),a("el-form-item",{attrs:{label:"é¢†å–äºº",prop:"targetUsers"}},[a("el-radio-group",{attrs:{size:"mini"},model:{value:e.showForm.targetUsers,callback:function(t){e.$set(e.showForm,"targetUsers",t)},expression:"showForm.targetUsers"}},[a("el-radio",{attrs:{label:1,disabled:""}},[e._v("å…¨éƒ¨")]),a("el-radio",{attrs:{label:2,disabled:""}},[e._v("æ–°ç”¨æˆ·")])],1)],1),a("el-form-item",{attrs:{label:"é¢†å–é™åˆ¶",prop:"receiveLimit"}},[a("el-radio-group",{attrs:{size:"mini"},model:{value:e.showForm.receiveLimit,callback:function(t){e.$set(e.showForm,"receiveLimit",t)},expression:"showForm.receiveLimit"}},[a("el-radio",{attrs:{label:-1,disabled:""}},[e._v("ä¸é™")]),a("div",{staticStyle:{"margin-top":"10px"}},[a("el-radio",{attrs:{label:1,disabled:""}},[e._v("æ¬¡æ•°")])],1)],1),1==e.showForm.receiveLimit?a("div",{staticClass:"left_flex"},[a("el-input",{attrs:{disabled:""},model:{value:e.showForm.receiveLimit,callback:function(t){e.$set(e.showForm,"receiveLimit",t)},expression:"showForm.receiveLimit"}})],1):e._e()],1),a("el-form-item",{attrs:{label:"å¤‡æ³¨",prop:"remarks"}},[a("el-input",{model:{value:e.form.remarks,callback:function(t){e.$set(e.form,"remarks",t)},expression:"form.remarks"}})],1),a("el-form-item",{attrs:{label:"ä½¿ç”¨è¯´æ˜",prop:"useDescription"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.form.useDescription,callback:function(t){e.$set(e.form,"useDescription",t)},expression:"form.useDescription"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("å– æ¶ˆ")]),a("el-button",{attrs:{type:"primary"},on:{click:e.submitCoupon}},[e._v("ç¡® å®š")])],1)],1),a("el-dialog",{attrs:{title:"å·²æ·»åŠ å•†å“",visible:e.dialogFormVisible2,width:"80%"},on:{"update:visible":function(t){e.dialogFormVisible2=t}}},[a("div",{staticClass:"search-wrapper"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.searchParams2}},[a("el-form-item",{attrs:{label:"å•†å“è´§å·"}},[a("el-input",{attrs:{placeholder:"å•†å“è´§å·"},model:{value:e.searchParams2.goodsId,callback:function(t){e.$set(e.searchParams2,"goodsId",t)},expression:"searchParams2.goodsId"}})],1),a("el-form-item",{attrs:{label:"å•†å“åç§°"}},[a("el-input",{attrs:{placeholder:"å•†å“åç§°"},model:{value:e.searchParams2.goodsName,callback:function(t){e.$set(e.searchParams2,"goodsName",t)},expression:"searchParams2.goodsName"}})],1),a("el-form-item",{attrs:{label:"å•†å®¶"}},[a("el-input",{attrs:{placeholder:"å•†å®¶"},model:{value:e.searchParams2.suppliersName,callback:function(t){e.$set(e.searchParams2,"suppliersName",t)},expression:"searchParams2.suppliersName"}})],1),a("el-form-item",{attrs:{label:"å•†å“åˆ†ç±»"}},[a("el-cascader",{attrs:{options:e.options,placeholder:"å•†å“åˆ†ç±»",clearable:""},on:{change:e.handleChange},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.search2}},[e._v("æŸ¥è¯¢")]),a("el-button",{on:{click:e.clear2}},[e._v("æ¸…ç©º")])],1)],1)],1),a("div",{staticClass:"list-wrapper"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.list2}},[a("el-table-column",{attrs:{prop:"goodsName",label:"å•†å“åç§°"}}),a("el-table-column",{attrs:{prop:"goodsId",label:"å•†å“ID"}}),a("el-table-column",{attrs:{prop:"catName",label:"å•†å“åˆ†ç±»"}}),a("el-table-column",{attrs:{prop:"shopPrice",label:"å”®ä»·"}}),a("el-table-column",{attrs:{prop:"tokenPrice",label:"ç§¯åˆ†æŠµæ‰£"}}),a("el-table-column",{attrs:{prop:"suppliersName",label:"å•†å®¶"}})],1)],1),a("el-pagination",{attrs:{background:"","current-page":e.currentPage2,"page-size":e.searchParams2.pageSize,layout:"prev, pager, next, jumper",total:e.total2},on:{"current-change":e.handleCurrentChange2}})],1)],1)},i=[],s=(a("3022"),{name:"couponList",data:function(){return{total:0,currentPage:1,searchParams:{pageNumber:1,pageSize:10,couponName:"",couponStatus:""},list:[],classList:{0:"æœªå¼€å§‹",1:"è¿›è¡Œä¸­",2:"å·²å¤±æ•ˆ"},dialogFormVisible:!1,dialogFormVisible2:!1,form:{id:"",couponName:"",remarks:"",useDescription:""},showForm:{},total2:0,currentPage2:1,searchParams2:{pageNumber:1,pageSize:10,couponId:"",goodsId:"",goodsName:"",suppliersName:"",catId:"",catType:""},list2:[],value:[],options:[]}},methods:{getList:function(){var e=this;this.$api.get("hd/itzCoupon/list",this.searchParams,function(t){200==t.status&&(e.list=t.data.rows,e.total=t.data.total)})},getList2:function(){var e=this;this.$api.get("hd/itzCouponGoods/goods/list",this.searchParams2,function(t){200==t.status&&(e.list2=t.data.rows,e.total2=t.data.total)})},getProductList:function(){var e=this;this.$api.get("hd/itzCoupon/category",null,function(t){if(200==t.status){var a=[];t.data.rows.forEach(function(e){var t={value:e.catId,label:e.catName};e.itzCategories.length>0&&(t.children=[],e.itzCategories.forEach(function(e){var a={value:e.catId,label:e.catName};e.itzCategories.length>0&&(a.children=[],e.itzCategories.forEach(function(e){var t={value:e.catId,label:e.catName};a.children.push(t)})),t.children.push(a)})),a.push(t)}),e.options=a}})},statusFormat:function(e,t,a){return this.classList[a]},edit:function(e){var t=this;this.dialogFormVisible=!0,this.form.id=e.id,this.form.couponName=e.couponName,this.form.remarks=e.remarks,this.form.useDescription=e.useDescription,this.$api.get("hd/itzCoupon/info/".concat(e.id),null,function(e){200==e.status&&(t.showForm=e.data.coupon,t.showForm.periodType=0==e.data.coupon.periodType?0:1,t.showForm.periodStartTime=t.utils.formatDate("YYYY-MM-DD HH:mm:ss",1e3*e.data.coupon.periodStartTime),t.showForm.periodEndTime=t.utils.formatDate("YYYY-MM-DD HH:mm:ss",1e3*e.data.coupon.periodEndTime),t.showForm.count=e.data.count,t.showForm.receiveLimit=-1==e.data.coupon.receiveLimit?-1:1)}),this.searchParams2.couponId=e.id,this.getList2()},toLink:function(e){var t=this;this.$alert(e,"ä¼˜æƒ åˆ¸åç§°",{confirmButtonText:"å¤åˆ¶"}).then(function(){var a=document.createElement("input");a.value=e,document.body.appendChild(a),a.select(),document.execCommand("copy"),a.remove(),t.$message({type:"success",message:"å·²å¤åˆ¶åˆ°å‰ªåˆ‡æ¿!"})})},invalid:function(e){var t=this;this.$confirm("ç¡®å®šä½œåºŸè¯¥ä¼˜æƒ åˆ¸å—?(å·²é¢†å–çš„å¯ç»§ç»­ä½¿ç”¨)","ä½œåºŸ",{confirmButtonText:"ç¡®å®š",cancelButtonText:"å–æ¶ˆ"}).then(function(){t.$api.put("hd/itzCoupon/status",{id:e,status:2},function(e){200==e.status&&t.getList()})}).catch(function(){t.$message({type:"info",message:"å·²å–æ¶ˆä½œåºŸ"})})},del:function(e){var t=this;this.$confirm("ç¡®å®šåˆ é™¤è¯¥ä¼˜æƒ åˆ¸å—?","åˆ é™¤",{confirmButtonText:"ç¡®å®š",cancelButtonText:"å–æ¶ˆ"}).then(function(){t.$api.put("hd/itzCoupon/status",{id:e,status:3},function(e){200==e.status&&t.getList()})}).catch(function(){t.$message({type:"info",message:"å·²å–æ¶ˆåˆ é™¤"})})},submitCoupon:function(){var e=this;this.$api.put("hd/itzCoupon/coupon",this.form,function(t){200==t.status&&(e.dialogFormVisible=!1,e.getList())})},handleCurrentChange:function(e){this.searchParams.pageNumber=e,this.getList()},clear:function(){this.searchParams.pageNumber=1,this.searchParams.couponName="",this.searchParams.couponStatus="",this.getList()},search:function(){this.searchParams.pageNumber=1,this.getList()},addNew:function(){this.$router.push({name:"newCoupon"})},handleCurrentChange2:function(e){this.searchParams2.pageNumber=e,this.getList2()},handleChange:function(e){this.searchParams2.catId=e[e.length-1],this.searchParams2.catType=e.length},clear2:function(){this.searchParams2.pageNumber=1,this.searchParams2.goodsName="",this.searchParams2.suppliersName="",this.searchParams2.goodsId="",this.searchParams2.catId="",this.searchParams2.catType="",this.value=[],this.getList2()},search2:function(){this.searchParams2.pageNumber=1,this.getList2()}},created:function(){this.getList(),this.getProductList()}}),r=s,o=(a("a5c9"),a("2877")),l=Object(o["a"])(r,n,i,!1,null,"10016bb8",null);t["default"]=l.exports},"2f37":function(e,t,a){var n=a("63b6");n(n.S,"Date",{now:function(){return(new Date).getTime()}})},3022:function(e,t,a){(function(e){var n=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),a={},n=0;n<t.length;n++)a[t[n]]=Object.getOwnPropertyDescriptor(e,t[n]);return a},i=/%[sdj%]/g;t.format=function(e){if(!C(e)){for(var t=[],a=0;a<arguments.length;a++)t.push(o(arguments[a]));return t.join(" ")}a=1;for(var n=arguments,s=n.length,r=String(e).replace(i,function(e){if("%%"===e)return"%";if(a>=s)return e;switch(e){case"%s":return String(n[a++]);case"%d":return Number(n[a++]);case"%j":try{return JSON.stringify(n[a++])}catch(t){return"[Circular]"}default:return e}}),l=n[a];a<s;l=n[++a])g(l)||!D(l)?r+=" "+l:r+=" "+o(l);return r},t.deprecate=function(a,n){if("undefined"!==typeof e&&!0===e.noDeprecation)return a;if("undefined"===typeof e)return function(){return t.deprecate(a,n).apply(this,arguments)};var i=!1;function s(){if(!i){if(e.throwDeprecation)throw new Error(n);e.traceDeprecation?console.trace(n):console.error(n),i=!0}return a.apply(this,arguments)}return s};var s,r={};function o(e,a){var n={seen:[],stylize:c};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),v(a)?n.showHidden=a:a&&t._extend(n,a),T(n.showHidden)&&(n.showHidden=!1),T(n.depth)&&(n.depth=2),T(n.colors)&&(n.colors=!1),T(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=l),p(n,e,n.depth)}function l(e,t){var a=o.styles[t];return a?"["+o.colors[a][0]+"m"+e+"["+o.colors[a][1]+"m":e}function c(e,t){return e}function u(e){var t={};return e.forEach(function(e,a){t[e]=!0}),t}function p(e,a,n){if(e.customInspect&&a&&P(a.inspect)&&a.inspect!==t.inspect&&(!a.constructor||a.constructor.prototype!==a)){var i=a.inspect(n,e);return C(i)||(i=p(e,i,n)),i}var s=m(e,a);if(s)return s;var r=Object.keys(a),o=u(r);if(e.showHidden&&(r=Object.getOwnPropertyNames(a)),S(a)&&(r.indexOf("message")>=0||r.indexOf("description")>=0))return d(a);if(0===r.length){if(P(a)){var l=a.name?": "+a.name:"";return e.stylize("[Function"+l+"]","special")}if(x(a))return e.stylize(RegExp.prototype.toString.call(a),"regexp");if(A(a))return e.stylize(Date.prototype.toString.call(a),"date");if(S(a))return d(a)}var c,v="",g=!1,y=["{","}"];if(_(a)&&(g=!0,y=["[","]"]),P(a)){var w=a.name?": "+a.name:"";v=" [Function"+w+"]"}return x(a)&&(v=" "+RegExp.prototype.toString.call(a)),A(a)&&(v=" "+Date.prototype.toUTCString.call(a)),S(a)&&(v=" "+d(a)),0!==r.length||g&&0!=a.length?n<0?x(a)?e.stylize(RegExp.prototype.toString.call(a),"regexp"):e.stylize("[Object]","special"):(e.seen.push(a),c=g?f(e,a,n,o,r):r.map(function(t){return h(e,a,n,o,t,g)}),e.seen.pop(),b(c,v,y)):y[0]+v+y[1]}function m(e,t){if(T(t))return e.stylize("undefined","undefined");if(C(t)){var a="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(a,"string")}return w(t)?e.stylize(""+t,"number"):v(t)?e.stylize(""+t,"boolean"):g(t)?e.stylize("null","null"):void 0}function d(e){return"["+Error.prototype.toString.call(e)+"]"}function f(e,t,a,n,i){for(var s=[],r=0,o=t.length;r<o;++r)E(t,String(r))?s.push(h(e,t,a,n,String(r),!0)):s.push("");return i.forEach(function(i){i.match(/^\d+$/)||s.push(h(e,t,a,n,i,!0))}),s}function h(e,t,a,n,i,s){var r,o,l;if(l=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]},l.get?o=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(o=e.stylize("[Setter]","special")),E(n,i)||(r="["+i+"]"),o||(e.seen.indexOf(l.value)<0?(o=g(a)?p(e,l.value,null):p(e,l.value,a-1),o.indexOf("\n")>-1&&(o=s?o.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+o.split("\n").map(function(e){return"   "+e}).join("\n"))):o=e.stylize("[Circular]","special")),T(r)){if(s&&i.match(/^\d+$/))return o;r=JSON.stringify(""+i),r.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(r=r.substr(1,r.length-2),r=e.stylize(r,"name")):(r=r.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),r=e.stylize(r,"string"))}return r+": "+o}function b(e,t,a){var n=e.reduce(function(e,t){return 0,t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0);return n>60?a[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+a[1]:a[0]+t+" "+e.join(", ")+" "+a[1]}function _(e){return Array.isArray(e)}function v(e){return"boolean"===typeof e}function g(e){return null===e}function y(e){return null==e}function w(e){return"number"===typeof e}function C(e){return"string"===typeof e}function k(e){return"symbol"===typeof e}function T(e){return void 0===e}function x(e){return D(e)&&"[object RegExp]"===I(e)}function D(e){return"object"===typeof e&&null!==e}function A(e){return D(e)&&"[object Date]"===I(e)}function S(e){return D(e)&&("[object Error]"===I(e)||e instanceof Error)}function P(e){return"function"===typeof e}function $(e){return null===e||"boolean"===typeof e||"number"===typeof e||"string"===typeof e||"symbol"===typeof e||"undefined"===typeof e}function I(e){return Object.prototype.toString.call(e)}function O(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(a){if(T(s)&&(s=Object({NODE_ENV:"production",VUE_APP_APPSERVER_HOST:"https://api.youjiemall.com",VUE_APP_HDSERVER_HOST:"https://hd.youjiemall.com",VUE_APP_JAVASERVER_HOST:"https://docker.youjiemall.com",VUE_APP_STORENAME:"æœ‰è§£",BASE_URL:"templates_vue/"}).NODE_DEBUG||""),a=a.toUpperCase(),!r[a])if(new RegExp("\\b"+a+"\\b","i").test(s)){var n=e.pid;r[a]=function(){var e=t.format.apply(t,arguments);console.error("%s %d: %s",a,n,e)}}else r[a]=function(){};return r[a]},t.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=_,t.isBoolean=v,t.isNull=g,t.isNullOrUndefined=y,t.isNumber=w,t.isString=C,t.isSymbol=k,t.isUndefined=T,t.isRegExp=x,t.isObject=D,t.isDate=A,t.isError=S,t.isFunction=P,t.isPrimitive=$,t.isBuffer=a("d60a");var L=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function N(){var e=new Date,t=[O(e.getHours()),O(e.getMinutes()),O(e.getSeconds())].join(":");return[e.getDate(),L[e.getMonth()],t].join(" ")}function E(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",N(),t.format.apply(t,arguments))},t.inherits=a("3fb5"),t._extend=function(e,t){if(!t||!D(t))return e;var a=Object.keys(t),n=a.length;while(n--)e[a[n]]=t[a[n]];return e};var M="undefined"!==typeof Symbol?Symbol("util.promisify.custom"):void 0;function j(e,t){if(!e){var a=new Error("Promise was rejected with a falsy value");a.reason=e,e=a}return t(e)}function F(t){if("function"!==typeof t)throw new TypeError('The "original" argument must be of type Function');function a(){for(var a=[],n=0;n<arguments.length;n++)a.push(arguments[n]);var i=a.pop();if("function"!==typeof i)throw new TypeError("The last argument must be of type Function");var s=this,r=function(){return i.apply(s,arguments)};t.apply(this,a).then(function(t){e.nextTick(r,null,t)},function(t){e.nextTick(j,t,r)})}return Object.setPrototypeOf(a,Object.getPrototypeOf(t)),Object.defineProperties(a,n(t)),a}t.promisify=function(e){if("function"!==typeof e)throw new TypeError('The "original" argument must be of type Function');if(M&&e[M]){var t=e[M];if("function"!==typeof t)throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,M,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,a,n=new Promise(function(e,n){t=e,a=n}),i=[],s=0;s<arguments.length;s++)i.push(arguments[s]);i.push(function(e,n){e?a(e):t(n)});try{e.apply(this,i)}catch(r){a(r)}return n}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),M&&Object.defineProperty(t,M,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,n(e))},t.promisify.custom=M,t.callbackify=F}).call(this,a("4362"))},3784:function(e,t,a){"use strict";var n=a("40c8"),i=a.n(n);i.a},"3ce5":function(e,t,a){"use strict";var n=a("0fc2"),i=a.n(n);i.a},"3fb5":function(e,t){"function"===typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var a=function(){};a.prototype=t.prototype,e.prototype=new a,e.prototype.constructor=e}},"40c8":function(e,t,a){},"41a3":function(e,t,a){"use strict";var n=a("5de7"),i=a.n(n);i.a},"42ac":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"header"},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",[e._v(e._s(e.name)+"å¹³å°")]),a("el-breadcrumb-item",[e._v("å‡ºå€Ÿäºº")])],1)],1),a("div",{staticClass:"search-wrapper"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.searchParams}},[a("el-form-item",{attrs:{label:"å‡ºå€Ÿäºº"}},[a("el-input",{attrs:{placeholder:"å‡ºå€Ÿäººæˆ–æ‰‹æœºå·"},model:{value:e.searchParams.userName,callback:function(t){e.$set(e.searchParams,"userName",t)},expression:"searchParams.userName"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.search}},[e._v("æŸ¥è¯¢")]),a("el-button",{on:{click:e.clear}},[e._v("æ¸…ç©º")])],1)],1)],1),a("div",{staticClass:"list-wrapper"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.list}},[a("el-table-column",{attrs:{prop:"userName",label:"å§“å"}}),a("el-table-column",{attrs:{prop:"mobilePhone",label:"æ‰‹æœºå·"}}),a("el-table-column",{attrs:{prop:"totalToken",label:"ä»£ä»˜é¢åº¦"}}),a("el-table-column",{attrs:{prop:"useToken",label:"å·²ä»£ä»˜æ•°é¢"}}),a("el-table-column",{attrs:{prop:"token",label:"å‰©ä½™é¢åº¦"}})],1)],1),a("el-pagination",{attrs:{background:"","current-page":e.currentPage,"page-size":e.searchParams.limit,layout:"prev, pager, next, jumper",total:e.total},on:{"current-change":e.handleCurrentChange}})],1)},i=[],s=a("f499"),r=a.n(s),o=(a("a481"),{name:"LenderList",data:function(){var e=localStorage.getItem("partnerName");return{name:e,total:0,currentPage:1,searchParams:{page:1,limit:10,userName:""},list:[]}},methods:{getList:function(){var e=this;this.replaceDatas(this.searchParams);var t=r()(this.searchParams).replace(/:/g,"=").replace("{","").replace("}","").replace(/,/g,"&").replace(/"/g,"").replace(/\s+/g,"");this.$api.get("hd/itzPartnerUser/page/list?"+t,null,function(t){200==t.status&&(e.list=t.data.rows,e.total=t.data.total)})},replaceDatas:function(e){for(var t in e)""!=e[t]&&null!=e[t]||delete e[t]},handleCurrentChange:function(e){this.searchParams.page=e,this.getList()},clear:function(){this.searchParams.page=1,this.searchParams.size=10,this.searchParams.userName="",this.getList()},search:function(){this.searchParams.page=1,this.getList()}},created:function(){this.getList()}}),l=o,c=(a("ebbc"),a("2877")),u=Object(c["a"])(l,n,i,!1,null,"4695f420",null);t["default"]=u.exports},"446c":function(e,t,a){},"447f":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("page-title",{attrs:{"first-title":"å•†å®¶åˆ—è¡¨","second-title":"å•†å®¶èµ„äº§"}}),a("section",[a("div",{staticClass:"bond-item"},[a("p",[e._v("ä¿è¯é‡‘")]),a("h3",[e._v(e._s(e.bond))])])]),a("section",["all"===e.role||"operater"===e.role?a("div",{staticStyle:{"text-align":"right"}},[a("el-button",{attrs:{type:"primary"},on:{click:e.showAlert}},[e._v("æ‰£å‡ä¿è¯é‡‘")])],1):e._e(),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.isLoading,expression:"isLoading"}],staticStyle:{width:"100%"},attrs:{data:e.bondList,"header-cell-style":{background:"#eef1f6"}}},[a("el-table-column",{attrs:{prop:"addtime",label:"ç”³è¯·æ—¶é—´",formatter:e.dateFormat}}),a("el-table-column",{attrs:{prop:"remark",label:"å¤‡æ³¨"}}),a("el-table-column",{attrs:{prop:"bond_money",label:"é‡‘é¢ï¼ˆå…ƒï¼‰",formatter:e.priceFormat}}),a("el-table-column",{attrs:{prop:"current_bond_money",label:"ä¿è¯é‡‘ä½™é¢ï¼ˆå…ƒï¼‰"}})],1)],1)],1)},i=[],s=(a("06db"),a("cebc")),r=a("afbd"),o=a("9d62"),l=a("2f62"),c={name:"BondInfo",data:function(){return{bond:0,bondList:[],currentPage:1,total:0,cutMoney:0,isLoading:!1}},created:function(){this.getAccount(),this.getBondList()},computed:Object(s["a"])({},Object(l["c"])({suppliers_id:function(e){return e.suppliers.suppliers_id},role:function(e){return e.settle.role}})),methods:{getAccount:function(){var e=this;Object(r["e"])(this.suppliers_id).then(function(t){e.bond=t.bond_money},function(e){console.log(e)})},getBondList:function(){var e=this;this.isLoading=!0,Object(o["m"])(this.suppliers_id,this.currentPage).then(function(t){e.bondList=t.list,e.total=t.paged.total},function(e){console.log(e)}).finally(function(){e.isLoading=!1})},dateFormat:function(e,t){var a=e[t.property];return this.utils.formatDate("YYYY-MM-DD HH:mm:ss",1e3*a)},priceFormat:function(e,t){return 2==e.direction?"-"+e[t.property]:e[t.property]},showAlert:function(){var e=this,t='<p style="">\n                <label style="display:inline-block;width:70px;font-weight:bold">æ‰£å‡é‡‘é¢</label>\n                <input id="bond" name="num"  />\n              </p>\n              <p style="height:28px;line-height:28px;">\n                <label for="bond-add"><input type="radio" name="direction" id="bond-add" value="1" checked>å¢åŠ </label>\n                &ensp;&ensp;\n                <label for="bond-sub"><input type="radio" name="direction" id="bond-sub" value="2">å‡å°‘</label>\n              </p>\n              <p>\n                <label style="display:inline-block;width:70px;font-weight:bold">å¤‡æ³¨</label>\n                <textarea id="remark" name="remark" cols="30" rows="10" style="vertical-align: top;"></textarea>\n              </p>';this.$alert(t,"",{dangerouslyUseHTMLString:!0,showCancelButton:!0,confirmButtonText:"ç¡®å®š",cancelButtonText:"å–æ¶ˆ",beforeClose:function(t,a,n){if("confirm"===t){for(var i=document.getElementById("bond").value,s=document.getElementById("remark").value,r=document.getElementsByName("direction"),l=0,c=0;c<r.length;c++)r[c].checked&&(l=r[c].value);if(!i||!s)return void alert("æ‰£å‡é‡‘é¢å’Œå¤‡æ³¨å¿…å¡«");Object(o["a"])(e.suppliers_id,i,l,s).then(function(t){console.log(t),n(),e.$root.reload()},function(e){alert(e.info)})}else n()}})}}},u=c,p=(a("7ceb"),a("2877")),m=Object(p["a"])(u,n,i,!1,null,"b43596b0",null);t["default"]=m.exports},"469f":function(e,t,a){a("6c1c"),a("1654"),e.exports=a("7d7b")},4729:function(e,t,a){"use strict";var n=a("d4c3"),i=a.n(n);i.a},"47f7":function(e,t,a){},"48de":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"unsettle-detail-container"},[a("page-title",{attrs:{"first-title":"è´¦æˆ·ä¿¡æ¯","second-title":"å¾…ç»“ç®—æ˜ç»†"}}),a("div",{staticClass:"table-02"},[a("el-tabs",{model:{value:e.currentTab,callback:function(t){e.currentTab=t},expression:"currentTab"}},[a("el-tab-pane",{attrs:{label:"è®¢å•æ€»æ”¶å…¥",name:"1"}},[a("v-income",{attrs:{cash:e.cashTotal,huanbi:e.huanbiTotal}}),a("el-table",{attrs:{data:e.incomeData,border:"",stripe:"","header-cell-style":{background:"#eef1f6"}}},[a("el-table-column",{attrs:{label:"è®¢å•å·",prop:"order_sn"}}),a("el-table-column",{attrs:{label:"ä¸‹å•æ—¶é—´",prop:"add_time",formatter:e.fmtTime}}),a("el-table-column",{attrs:{label:"æ”¯ä»˜é‡‘é¢ï¼ˆå…ƒï¼‰",prop:"settlement_all"}}),a("el-table-column",{attrs:{label:"æ”¯ä»˜ç°é‡‘é¢ï¼ˆå…ƒï¼‰",prop:"settlement_cash_no_shipping"}}),1==e.cooperateType?a("el-table-column",{attrs:{label:"æ”¯ä»˜ç§¯åˆ†é¢",prop:"settlement_huanbi"}}):e._e(),a("el-table-column",{attrs:{label:"ç°é‡‘é€€æ¬¾",prop:"settlement_cash_back"}}),1==e.cooperateType?a("el-table-column",{attrs:{label:"ç§¯åˆ†é€€æ¬¾",prop:"settlement_huanbi_back"}}):e._e(),a("el-table-column",{attrs:{label:"è¿è´¹",prop:"shipping_fee"}}),a("el-table-column",{attrs:{label:"è®¢å•çŠ¶æ€",prop:"status"}}),a("el-table-column",{attrs:{label:"æ“ä½œ"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.goDetail(t.row.order_id)}}},[e._v("æŸ¥çœ‹")])]}}])})],1)],1)],1),a("el-pagination",{attrs:{background:"","current-page":e.params.page,layout:"prev, pager, next, jumper",total:e.total},on:{"current-change":e.handleCurrentChange,"update:currentPage":function(t){return e.$set(e.params,"page",t)},"update:current-page":function(t){return e.$set(e.params,"page",t)}}})],1)],1)},i=[],s=a("cebc"),r=a("a2e3"),o=a("8afe"),l=a("9d62"),c=a("2f62"),u=a("79ba"),p={name:"",data:function(){return{currentTab:"1",incomeData:[],cashTotal:0,huanbiTotal:0,params:{suppliers_id:"",page:1,size:10},total:0}},components:{"v-total":r["a"],"v-income":o["a"]},computed:Object(s["a"])({},Object(c["c"])({suppliers_id:function(e){return e.suppliers.suppliers_id},cooperateType:function(e){return e.suppliers.cooperateType}})),created:function(){this.getData()},methods:{getData:function(){var e=this;this.params.suppliers_id=this.suppliers_id,Object(l["j"])(this.params).then(function(t){e.incomeData=t.list,e.cashTotal=t.cash,e.huanbiTotal=t.huanbi,e.incomeData.forEach(function(e){e.status=u["b"][e.status]}),e.total=t.paged.total})},goDetail:function(e){window.location.href="/admin/order.php?act=info&order_id="+e},handleCurrentChange:function(){this.getData()},fmtTime:function(e,t,a){return this.utils.formatDate("YYYY-MM-DD HH:mm:ss",1e3*a)}}},m=p,d=(a("4efe"),a("2877")),f=Object(d["a"])(m,n,i,!1,null,"0d1bca90",null);t["default"]=f.exports},"4ae2":function(e,t,a){},"4efe":function(e,t,a){"use strict";var n=a("47f7"),i=a.n(n);i.a},"4f9b":function(e,t,a){"use strict";var n=a("730e"),i=a.n(n);i.a},"504e":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("page-title",{attrs:{"first-title":"ä¸‹å•æœ‰ç¤¼","second-title":"æ–°å»ºæ´»åŠ¨"}}),a("div",{staticClass:"wrapper"},[a("el-form",{ref:"newAcitveData",staticStyle:{width:"600px"},attrs:{"label-position":"left",model:e.newAcitveData,rules:e.rules,"label-width":"140px"}},[a("el-form-item",{attrs:{label:"æ´»åŠ¨åç§°",prop:"cashName"}},[a("el-input",{attrs:{maxlength:"20"},model:{value:e.newAcitveData.cashName,callback:function(t){e.$set(e.newAcitveData,"cashName",t)},expression:"newAcitveData.cashName"}})],1),a("el-form-item",{attrs:{label:"æ´»åŠ¨æ—¶é—´",required:""}},[a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{prop:"startTime"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime",placeholder:"å¹´-æœˆ-æ—¥ æ—¶:åˆ†",format:"yyyy-MM-dd HH:mm","value-format":"timestamp","picker-options":e.pickerOptions0},model:{value:e.newAcitveData.startTime,callback:function(t){e.$set(e.newAcitveData,"startTime",t)},expression:"newAcitveData.startTime"}})],1)],1),a("el-col",{staticClass:"line",staticStyle:{"text-align":"center"},attrs:{span:2}},[e._v("-")]),a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{prop:"endTime"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime","value-format":"timestamp",placeholder:"å¹´-æœˆ-æ—¥ æ—¶:åˆ†",format:"yyyy-MM-dd HH:mm","picker-options":e.pickerOptions1,"default-time":"23:59:59"},on:{change:e.formatendtime},model:{value:e.newAcitveData.endTime,callback:function(t){e.$set(e.newAcitveData,"endTime",t)},expression:"newAcitveData.endTime"}})],1)],1)],1),a("el-form-item",{staticClass:"cashType",attrs:{label:"æ´»åŠ¨ç±»å‹",prop:"cashType"}},[a("el-row",[a("span",[e._v("ç°é‡‘çº¢åŒ…")])]),a("el-radio-group",{on:{change:e.AmonutCach},model:{value:e.newAcitveData.cashType,callback:function(t){e.$set(e.newAcitveData,"cashType",t)},expression:"newAcitveData.cashType"}},[a("el-row",[a("el-col",{attrs:{span:10}},[a("el-radio",{attrs:{label:"1"}},[e._v("å›ºå®šé‡‘é¢ ")])],1),a("el-col",{attrs:{span:10}},[a("el-radio",{attrs:{label:"2"}},[e._v("è®¢å•é‡‘é¢ç™¾åˆ†æ¯” ")])],1)],1),e.Amountflag?a("el-form-item",{staticClass:"radioBox"},[a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.newAcitveData.cashAmount0,expression:"newAcitveData.cashAmount0",modifiers:{number:!0}}],class:{active:e.iswarn0},attrs:{type:"number",min:"0.01",max:"100",step:"0.01"},domProps:{value:e.newAcitveData.cashAmount0},on:{blur:[e.checks,function(t){return e.$forceUpdate()}],input:function(t){t.target.composing||e.$set(e.newAcitveData,"cashAmount0",e._n(t.target.value))}}}),a("span",[e._v(" %")]),a("span",{staticClass:"warn"},[e._v("â€˜è®¢å•é‡‘é¢ç™¾åˆ†æ¯”â€™ä¸ºæ”¯ä»˜ç°é‡‘é‡‘é¢çš„ç™¾åˆ†æ¯”")]),a("p",{attrs:{id:"warn_red"}})]):a("el-form-item",{staticClass:"radioBox"},[a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.newAcitveData.cashAmount,expression:"newAcitveData.cashAmount",modifiers:{number:!0}}],class:{active:e.iswarn},attrs:{type:"number",min:"1",step:"1"},domProps:{value:e.newAcitveData.cashAmount},on:{blur:[e.checks,function(t){return e.$forceUpdate()}],input:function(t){t.target.composing||e.$set(e.newAcitveData,"cashAmount",e._n(t.target.value))}}}),a("span",[e._v(" å…ƒ")]),a("p",{attrs:{id:"warn_red"}})])],1)],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.Amountflag,expression:"Amountflag"}],attrs:{label:"å•æ¬¡æœ€é«˜è¿”ç°é‡‘é¢",prop:"maxSingleCash"}},[a("el-input",{model:{value:e.newAcitveData.maxSingleCash,callback:function(t){e.$set(e.newAcitveData,"maxSingleCash",e._n(t))},expression:"newAcitveData.maxSingleCash"}})],1),a("el-form-item",{attrs:{label:"æ´»åŠ¨æ€»é¢",prop:"totalAmount"}},[a("el-input",{attrs:{type:"number",min:"1",max:"99999999",maxlength:"8"},model:{value:e.newAcitveData.totalAmount,callback:function(t){e.$set(e.newAcitveData,"totalAmount",e._n(t))},expression:"newAcitveData.totalAmount"}},[e._v("\n          "+e._s(e.utils.formatMoney(e.newAcitveData.totalAmount))+"\n        ")]),a("span",{staticClass:"warn"},[e._v("è¾“å…¥ -1 ä»£è¡¨ä¸é™åˆ¶æ´»åŠ¨é‡‘é¢")])],1),a("el-form-item",{attrs:{label:"æ´»åŠ¨äººç¾¤",prop:"targetUsers"}},[a("el-radio-group",{model:{value:e.newAcitveData.targetUsers,callback:function(t){e.$set(e.newAcitveData,"targetUsers",t)},expression:"newAcitveData.targetUsers"}},[a("el-radio",{attrs:{label:"2"}},[e._v("å…¨éƒ¨")]),a("el-radio",{attrs:{label:"1"}},[e._v("æ–°ç”¨æˆ·")])],1)],1),a("el-form-item",{attrs:{label:"æœ‰ç¤¼å•æ•°"}},[a("el-input",{attrs:{disabled:""},model:{value:e.newAcitveData.maxNumber,callback:function(t){e.$set(e.newAcitveData,"maxNumber",e._n(t))},expression:"newAcitveData.maxNumber"}}),a("span",{staticClass:"warn"},[e._v("æ´»åŠ¨å¼€å§‹åå¯å‚åŠ ä¸‹å•æœ‰ç¤¼çš„è®¢å•æ•°")])],1),a("el-form-item",{attrs:{label:"æ´»åŠ¨å•†å“",prop:"cashScope"}},[a("el-radio-group",{model:{value:e.newAcitveData.cashScope,callback:function(t){e.$set(e.newAcitveData,"cashScope",t)},expression:"newAcitveData.cashScope"}},[a("el-radio",{attrs:{label:"0"}},[e._v("å…¨éƒ¨å•†å“")])],1)],1),a("el-form-item",{attrs:{label:"ä¼˜å…ˆçº§",prop:"priority"}},[a("el-input",{attrs:{type:"number",min:"1",max:"999",maxlength:"3"},model:{value:e.newAcitveData.priority,callback:function(t){e.$set(e.newAcitveData,"priority",e._n(t))},expression:"newAcitveData.priority"}}),a("span",{staticClass:"warn"},[e._v("è¯·è¾“å…¥1-999æ•°å­—ã€‚å­—æ•°è¶Šå¤§ä¼˜å…ˆçº§è¶Šé«˜ã€‚ä¼˜å…ˆçº§ç›¸åŒçš„æ´»åŠ¨ï¼Œä»¥ä¾¿åŠæ—¶é—´ä¸ºå‡†")])],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.check("newAcitveData",e.newAcitveData)}}},[e._v("ç¡®å®š")]),a("el-button",{on:{click:e.back}},[e._v("å–æ¶ˆ")])],1)],1)],1)],1)},i=[],s=a("e814"),r=a.n(s),o=(a("c5f6"),a("0a0d")),l=a.n(o),c={data:function(){var e=this,t=function(e,t,a){if(!t)return a(new Error("æ´»åŠ¨æ€»é¢ä¸èƒ½ä¸ºç©ºæˆ–è€…0"));-2>t||t>99999999?a(new Error("æ€»é‡‘é¢å–å€¼åŒºé—´ä¸º1-99999999")):a()};return{subm:!0,newAcitveData:{cashName:"",startTime:l()()+36e5,endTime:"",cashAmount:"",cashAmount0:"",cashType:"1",targetUsers:"1",totalAmount:"-1",maxNumber:"1",cashScope:"0",priority:"",maxSingleCash:""},iswarn:!1,iswarn0:!1,AcitveData:{},pickerOptions0:{disabledDate:function(t){return""!=e.newAcitveData.endTime&&null!=e.newAcitveData.endTime?t.getTime()<l()()-864e5||t>e.newAcitveData.endTime:t.getTime()<l()()-864e5}},pickerOptions1:{disabledDate:function(t){return t<e.newAcitveData.startTime-864e5}},Amountflag:!1,rules:{cashName:[{required:!0,message:"è¯·è¾“å…¥æ´»åŠ¨åç§°",trigger:"blur"},{min:3,max:20,message:"é•¿åº¦åœ¨ 3 åˆ° 20 ä¸ªå­—ç¬¦",trigger:"blur"}],startTime:[{type:"date",required:!0,message:"è¯·é€‰æ‹©å¼€å§‹æ—¶é—´",trigger:"change"}],endTime:[{type:"date",required:!0,message:"è¯·é€‰æ‹©ç»“æŸæ—¶é—´",trigger:"change"}],totalAmount:[{required:!0,validator:t,trigger:"blur"}],targetUsers:[{required:!0,message:"è¯·è¾“å…¥æ´»åŠ¨åç§°",trigger:"blur"}],priority:[{required:!0,message:"ä¼˜å…ˆçº§ä¸èƒ½ä¸ºç©º",trigger:"blur"},{type:"number",min:1,max:999,message:"ä¼˜å…ˆçº§åœ¨1-999ä¹‹é—´",trigger:"blur"}],cashType:[{required:!0,message:"è¯·é€‰æ‹©æ´»åŠ¨ç±»å‹",trigger:"change"}],maxSingleCash:[{required:!0,type:"number",message:"å•æ¬¡æœ€é«˜è¿”ç°é‡‘é¢ä¸èƒ½ä¸ºç©º",trigger:"blur"},{type:"number",min:1,max:99999999,message:"è®¢å•é‡‘é¢åŒºé—´ä¸º1-99999999",trigger:"blur"}]}}},methods:{check:function(e,t){var a=this;1==t.cashType?t.maxSingleCash=Number(t.cashAmount):t.cashAmount=t.cashAmount0,this.$refs[e].validate(function(e){if(!e||!a.subm)return a.checks(),console.log("error submit!!"),!1;a.subm=!1,t.startTime=r()(t.startTime/1e3),t.endTime=r()(t.endTime/1e3),a.$api.post("/hd/itzReturnCashActivity/check",t,function(e){if(200===e.status)a.submit(t);else{if(30101===e.status)return a.subm=!0,t.startTime=1e3*t.startTime,t.endTime=1e3*t.endTime,void a.$alert(e.message,"æç¤º",{confirmButtonText:"ç¡®å®š",callback:function(){t.cashName=""}});30102===e.status?(t.startTime=1e3*t.startTime,t.endTime=1e3*t.endTime,a.subm=!0,a.$confirm("è¯¥æ—¶é—´æ®µå·²æœ‰è¿”ç°æ´»åŠ¨ï¼Œæ˜¯å¦ç»§ç»­åˆ›å»º?","æç¤º",{confirmButtonText:"ç¡®å®š",cancelButtonText:"å–æ¶ˆ",type:"warning"}).then(function(){t.startTime=r()(t.startTime/1e3),t.endTime=r()(t.endTime/1e3),a.submit(t)}).catch(function(){a.$message({type:"info",message:"å·²å–æ¶ˆæ–°å¢"})})):(a.subm=!0,t.startTime=1e3*t.startTime,t.endTime=1e3*t.endTime)}},function(e){console.log(e),a.subm=!0,t.startTime=1e3*t.startTime,t.endTime=1e3*t.endTime})})},resetForm:function(e){this.$refs[e].resetFields()},submit:function(e){var t=this;this.$refs["newAcitveData"].validate(function(a){if(!a)return console.log("error submit!!"),!1;t.$api.post("/hd/itzReturnCashActivity",e,function(a){200===a.status?(t.$message("æ·»åŠ æˆåŠŸ"),t.back()):(t.$message.error({title:"é”™è¯¯",message:a.message}),e.startTime=1e3*e.startTime,e.endTime=1e3*e.endTime)})})},AmonutCach:function(e){console.log(this.Amountflag),this.subm=!1,this.Amountflag="1"!=e,this.checks()},formatendtime:function(e){var t=this;e&&e<this.newAcitveData.startTime&&this.$alert("ç»“æŸæ—¶é—´ä¸èƒ½æ—©äºå¼€å§‹æ—¶é—´","æç¤º",{confirmButtonText:"ç¡®å®š",callback:function(){t.newAcitveData.endTime=""}})},back:function(){this.$router.go(-1)},checks:function(){console.log("check",this.Amountflag);var e="";this.subm=!1,this.iswarn=!0,this.iswarn0=!0,this.Amountflag?(document.getElementById("warn_red").innerHTML="",e=this.newAcitveData.cashAmount0,console.log("val",e),""==e?document.getElementById("warn_red").innerHTML="è®¢å•é‡‘é¢ç™¾åˆ†æ¯”ä¸èƒ½ä¸ºç©º":e<.01||e>100?document.getElementById("warn_red").innerHTML="è®¢å•é‡‘é¢ç™¾åˆ†æ¯”å–å€¼åŒºé—´ä¸º0.01-100":(document.getElementById("warn_red").innerHTML="",this.subm=!0,this.iswarn0=!1)):(document.getElementById("warn_red").innerHTML="",e=this.newAcitveData.cashAmount,console.log("val",e),""==e?document.getElementById("warn_red").innerHTML="çº¢åŒ…é‡‘é¢ä¸èƒ½ä¸ºç©º":e<1||e>99999999?document.getElementById("warn_red").innerHTML="çº¢åŒ…é‡‘é¢å–å€¼åŒºé—´ä¸º1-99999999":(document.getElementById("warn_red").innerHTML="",this.subm=!0,this.iswarn=!1))}}},u=c,p=(a("4729"),a("2877")),m=Object(p["a"])(u,n,i,!1,null,"2f7cfb34",null);t["default"]=m.exports},"512c":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"pay-cert-container"},[n("img",{attrs:{src:e.url,alt:""}}),n("img",{staticClass:"close",attrs:{src:a("0c23"),alt:""},on:{click:function(t){return e.$router.go(-1)}}})])},i=[],s={name:"",data:function(){return{url:this.$route.query.url||""}}},r=s,o=(a("9469"),a("2877")),l=Object(o["a"])(r,n,i,!1,null,"4ebf0400",null);t["default"]=l.exports},"549b":function(e,t,a){"use strict";var n=a("d864"),i=a("63b6"),s=a("241e"),r=a("b0dc"),o=a("3702"),l=a("b447"),c=a("20fd"),u=a("7cd6");i(i.S+i.F*!a("4ee1")(function(e){Array.from(e)}),"Array",{from:function(e){var t,a,i,p,m=s(e),d="function"==typeof this?this:Array,f=arguments.length,h=f>1?arguments[1]:void 0,b=void 0!==h,_=0,v=u(m);if(b&&(h=n(h,f>2?arguments[2]:void 0,2)),void 0==v||d==Array&&o(v))for(t=l(m.length),a=new d(t);t>_;_++)c(a,_,b?h(m[_],_):m[_]);else for(p=v.call(m),a=new d;!(i=p.next()).done;_++)c(a,_,b?r(p,h,[i.value,_],!0):i.value);return a.length=_,a}})},"54a1":function(e,t,a){a("6c1c"),a("1654"),e.exports=a("95d5")},"5b48":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"header"},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",[e._v(e._s(e.name)+"å¹³å°")]),a("el-breadcrumb-item",[e._v("é¦–é¡µ")])],1)],1),a("div",{staticClass:"content"},[a("ul",[a("li",[a("span",[e._v("æµ£è±†ä½™é¢ï¼š"+e._s(e.balance)+" ä¸ª")]),a("el-button",{attrs:{type:"text"},on:{click:function(t){return e.$router.push({name:"AccountDetails"})}}},[e._v("è´¦æˆ·æ˜ç»†")])],1),a("li",[a("span",[e._v("å·²ä»£ä»˜æ€»é¢ï¼š"+e._s(e.pay)+" æµ£è±†")])]),a("li",[a("span",[e._v("å‡ºå€Ÿäººï¼š"+e._s(e.lender)+" äºº")]),a("el-button",{attrs:{type:"text"},on:{click:function(t){return e.$router.push({name:"LenderList"})}}},[e._v("æŸ¥çœ‹")])],1)]),a("div",{staticClass:"note"},[e._v("å……å€¼è¯·è”ç³»"+e._s(e.storeName)+"å•†åŸå·¥ä½œäººå‘˜")])])])},i=[],s=(a("7f7f"),a("f499")),r=a.n(s),o=(a("a481"),{name:"HomePage",data:function(){return{name:"",balance:0,pay:0,lender:0,params:{page:1,limit:10}}},methods:{getList:function(){var e=this,t=r()(this.params).replace(/:/g,"=").replace("{","").replace("}","").replace(/,/g,"&").replace(/"/g,"").replace(/\s+/g,"");this.$api.get("hd/itzPartner/page/list?"+t,null,function(t){200==t.status&&(e.name=t.data.rows[0].partnerName,e.balance=t.data.rows[0].token,e.pay=t.data.rows[0].useToken,e.lender=t.data.rows[0].lendNum,localStorage.setItem("partnerName",e.name))})}},created:function(){this.getList()}}),l=o,c=(a("ccc5"),a("2877")),u=Object(c["a"])(l,n,i,!1,null,"380bde17",null);t["default"]=u.exports},"5c4c":function(e,t,a){},"5d2d":function(e,t,a){},"5d6b":function(e,t,a){var n=a("e53d").parseInt,i=a("a1ce").trim,s=a("e692"),r=/^[-+]?0[xX]/;e.exports=8!==n(s+"08")||22!==n(s+"0x16")?function(e,t){var a=i(String(e),3);return n(a,t>>>0||(r.test(a)?16:10))}:n},"5d73":function(e,t,a){e.exports=a("469f")},"5d7b":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("page-title",{attrs:{"first-title":"æ´»åŠ¨ç»Ÿè®¡"}}),a("section",{staticClass:"search-wrapper"},[a("el-row",[a("div",{staticClass:"grid-content bg-purple"},[e._v("\n        æ´»åŠ¨åç§°ï¼š\n        "),a("span",[e._v(e._s(e.namelist.cashName))])])]),a("el-row",[a("el-col",{attrs:{span:5}},[a("div",{staticClass:"grid-content bg-purple"},[e._v("\n          æ´»åŠ¨æ€»é¢ï¼š\n          "),a("span",[e._v(" "+e._s(e.Amounts(e.namelist.totalAmount)))])])]),a("el-col",{directives:[{name:"show",rawName:"v-show",value:e.showM,expression:"showM"}],attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[e._v("\n          æ´»åŠ¨æ‰€å‰©ä½™é¢ï¼š\n          "),a("span",[e._v("ï¿¥ "+e._s(e.utils.formatMoney(e.namelist.surplusAmount)))])])]),a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[e._v("\n          æ€»è®¢å•æ•°ï¼š\n          "),a("span",[e._v(e._s(e.namelist.orderTotal))])])]),a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[e._v("\n          å·²è¿”ç°å•æ•°ï¼š\n          "),a("span",[e._v(e._s(e.namelist.cashTotal))])])]),a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[e._v("\n          å·²è¿”ç°é‡‘é¢ï¼š\n          "),a("span",[e._v("ï¿¥ "+e._s(e.utils.formatMoney(e.namelist.cashAmount)))])])])],1)],1),a("div",{staticClass:"search-wrapper"},[a("el-form",{attrs:{size:"small","label-position":"left","label-width":"100px"},model:{value:e.params,callback:function(t){e.params=t},expression:"params"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"è®¢å•å·"}},[a("el-input",{attrs:{placeholder:"ç²¾å‡†æŸ¥è¯¢",clearable:""},model:{value:e.params.orderSn,callback:function(t){e.$set(e.params,"orderSn",t)},expression:"params.orderSn"}})],1)],1),a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"ä¸‹å•æ—¶é—´"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"timestamp",type:"daterange","range-separator":"è‡³","start-placeholder":"å¼€å§‹æ—¥æœŸ","end-placeholder":"ç»“æŸæ—¥æœŸ","default-time":["00:00:00","23:59:59"]},model:{value:e.timeinterval,callback:function(t){e.timeinterval=t},expression:"timeinterval"}})],1)],1)],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"æ‰‹æœºå·"}},[a("el-input",{attrs:{placeholder:"ç²¾å‡†æŸ¥è¯¢",clearable:""},model:{value:e.params.mobile,callback:function(t){e.$set(e.params,"mobile",t)},expression:"params.mobile"}})],1)],1),a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"è¿”ç°çŠ¶æ€"}},[a("el-select",{attrs:{placeholder:"çŠ¶æ€"},model:{value:e.params.cashFlag,callback:function(t){e.$set(e.params,"cashFlag",t)},expression:"params.cashFlag"}},e._l(e.statusList,function(e){return a("el-option",{key:e.id,staticStyle:{width:"100%"},attrs:{label:e.name,value:e.id}})}),1)],1)],1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.search}},[e._v("æŸ¥è¯¢")]),a("el-button",{attrs:{type:"primary"},on:{click:e.clear}},[e._v("æ¸…ç©º")])],1)],1)],1),a("div",{staticClass:"list-wrapper"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.list}},[a("el-table-column",{attrs:{prop:"orderSn",label:"è®¢å•å·"}}),a("el-table-column",{attrs:{prop:"consignee",label:"ç”¨æˆ·å"}}),a("el-table-column",{attrs:{prop:"mobile",label:"æ‰‹æœºå·"}}),a("el-table-column",{attrs:{prop:"addTime",label:"ä¸‹å•æ—¶é—´",formatter:e.dateFormat}}),a("el-table-column",{attrs:{prop:"payTime",label:"æ”¯ä»˜æ—¶é—´",formatter:e.dateFormat}}),a("el-table-column",{attrs:{prop:"returnCash",label:"ç°é‡‘çº¢åŒ…é‡‘é¢",formatter:e.crashFormat}}),a("el-table-column",{attrs:{prop:"cashFlagStr",label:"è¿”ç°çŠ¶æ€"}})],1)],1),a("el-pagination",{attrs:{background:"","current-page":e.currentPage,"page-size":e.params.limit,layout:"prev, pager, next, jumper",total:e.total},on:{"current-change":e.handleCurrentChange}})],1)},i=[],s=a("c6a9"),r={name:"activityStatistics",data:function(){return{currentPage:0,timeinterval:"",total:0,showM:!1,params:{id:this.$route.params.id?this.$route.params.id:"",page:1,limit:10,orderSn:"",mobile:"",cashFlag:"",startOrderTime:"",endOrderTime:""},list:[],namelist:[],statusList:s["a"]}},created:function(){this.getList()},mounted:function(){},methods:{getList:function(){var e=this;this.timeinterval&&0!=this.timeinterval.length?(this.params.startOrderTime=this.timeinterval[0]/1e3,this.params.endOrderTime=this.timeinterval[1]/1e3):(this.params.startOrderTime="",this.params.endOrderTime=""),this.$api.post("/hd/itzReturnCashActivity/get/records",this.params,function(t){200===t.status?(e.list=t.data.itzCashActivityRecordsVoList,e.namelist=t.data,e.total=t.data.total):e.$message.error({title:"é”™è¯¯",message:t.message})})},clear:function(){this.timeinterval="",this.params={id:this.$route.params.id?this.$route.params.id:"",page:1,limit:10,orderSn:"",mobile:"",cashFlag:"-1",startOrderTime:"",endOrderTime:""},this.currentPage=1,this.total=0},search:function(){this.params.page=1,this.getList()},handleCurrentChange:function(e){this.params.page=e,this.getList()},dateFormat:function(e,t){var a=e[t.property];return a?this.utils.formatDate("YYYY-MM-DD HH:mm",1e3*a):"æœªæ”¯ä»˜"},crashFormat:function(e,t){var a=e[t.property];return a?"ï¿¥ "+a:a},Amounts:function(e){return"-1"==e?(this.showM=!1,"ä¸é™"):(this.showM=!0,"ï¿¥"+this.utils.formatMoney(e))}},watch:{}},o=r,l=(a("7556"),a("2877")),c=Object(l["a"])(o,n,i,!1,null,"a69ef31a",null);t["default"]=c.exports},"5db3":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"account-balance-container"},[a("page-title",{attrs:{"first-title":"è´¦æˆ·ä¿¡æ¯","second-title":"è´¦æˆ·ä½™é¢æ˜ç»†"}}),a("div",{staticClass:"list-wrapper"},[a("el-tabs",{attrs:{type:"border-card"},on:{"tab-click":e.changeTab},model:{value:e.currentTab,callback:function(t){e.currentTab=t},expression:"currentTab"}},[a("el-tab-pane",{attrs:{label:"ç°é‡‘",name:"1"}},[a("el-table",{attrs:{data:e.balanceData,border:"",stripe:"","header-cell-style":{background:"#eef1f6"}}},[a("el-table-column",{attrs:{label:"å‘ç”Ÿæ—¶é—´",prop:"addtime",formatter:e.fmtTime}}),a("el-table-column",{attrs:{label:"ç±»å‹",prop:"type_name"}}),a("el-table-column",{attrs:{label:"å¤‡æ³¨",prop:"remark"}}),a("el-table-column",{attrs:{label:"é‡‘é¢",prop:"format_cash",formatter:e.fmtMoney}}),a("el-table-column",{attrs:{label:"ä½™é¢",prop:"current_cash_money"}})],1)],1),1==e.cooperateType?a("el-tab-pane",{attrs:{label:"ç§¯åˆ†",name:"0"}},[a("el-table",{attrs:{data:e.balanceData,border:"",stripe:"","header-cell-style":{background:"#eef1f6"}}},[a("el-table-column",{attrs:{label:"å‘ç”Ÿæ—¶é—´",prop:"addtime",formatter:e.fmtTime}}),a("el-table-column",{attrs:{label:"ç±»å‹",prop:"type_name"}}),a("el-table-column",{attrs:{label:"å¤‡æ³¨",prop:"remark"}}),a("el-table-column",{attrs:{label:"é‡‘é¢",prop:"format_huanbi",formatter:e.fmtMoney}}),a("el-table-column",{attrs:{label:"ä½™é¢",prop:"current_huanbi_money"}})],1)],1):e._e()],1)],1),a("el-pagination",{attrs:{background:"","current-page":e.params.page,layout:"prev, pager, next, jumper",total:e.total},on:{"current-change":e.handleCurrentChange,"update:currentPage":function(t){return e.$set(e.params,"page",t)},"update:current-page":function(t){return e.$set(e.params,"page",t)}}})],1)},i=[],s=(a("c5f6"),a("cebc")),r=a("2f62"),o=a("9d62"),l={name:"",data:function(){return{currentTab:"1",balanceData:[],params:{suppliers_id:"",page:1,size:10,cash_is:1},total:0}},computed:Object(s["a"])({},Object(r["c"])({suppliers_id:function(e){return e.suppliers.suppliers_id},cooperateType:function(e){return e.suppliers.cooperateType}}),{fmtParams:function(){return this.params.cash_is=Number(this.currentTab),this.params.suppliers_id=this.suppliers_id,this.params}}),created:function(){this.getData()},methods:{getData:function(){var e=this;Object(o["i"])(this.fmtParams).then(function(t){e.balanceData=t.list,e.total=t.paged.total})},changeTab:function(){this.balanceData=[],this.params.page=1,this.getData()},handleCurrentChange:function(){this.getData()},fmtTime:function(e,t,a){return this.utils.formatDate("YYYY-MM-DD HH:mm:ss",1e3*a)},fmtMoney:function(e,t,a){var n=1==e["direction"]?"+":"-";return a>0?n+a:0}}},c=l,u=(a("adba"),a("2877")),p=Object(u["a"])(c,n,i,!1,null,"41459884",null);t["default"]=p.exports},"5de7":function(e,t,a){},"60eb":function(e,t,a){"use strict";var n=a("d38a"),i=a.n(n);i.a},"62f4":function(e,t,a){},"633a":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("section",[a("div",{staticClass:"btn-wrapper"},[a("el-button",{on:{click:e.goBack}},[e._v("è¿”å›")])],1),a("div",{staticClass:"table-head"},[a("h1",[e._v("çŠ¶æ€ï¼š"+e._s(e.status))])]),a("div",{staticClass:"table-wrapper"},[[e.settleInfo.status===e.STATUS.UNCONFIRM?a("el-button",{staticClass:"right",on:{click:e.confirm}},[e._v("ç¡®è®¤")]):a("el-button",{staticClass:"right",attrs:{type:"info",disabled:""}},[e._v("å·²ç¡®è®¤")])],a("h2",{staticClass:"t-center"},[e._v("ç»“ç®—å•")]),e.settleInfo.status===e.STATUS.UNCONFIRM?a("p",{staticClass:"t-center"},[e._v("\n        ç»“ç®—æ—¶é—´ï¼š"+e._s(e._f("convertTime")(1e3*e.settleInfo.settlement_start))+"â€”â€”"+e._s(e._f("convertTime")(1e3*e.settleInfo.settlement_end))+"\n      ")]):e._e(),a("div",{staticClass:"t-head"},[a("p",{staticClass:"line-item"},[a("label",[e._v("åˆ›å»ºæ—¶é—´ï¼š")]),e._v(e._s(e._f("convertTime")(1e3*e.settleInfo.addtime)))]),a("p",{staticClass:"line-item"},[a("label",[e._v("æ”¶æ¬¾å•ä½ï¼š")]),e._v(e._s(e.settleInfo.pay_company))]),a("p",{staticClass:"line-item"},[a("label",[e._v("æ”¶æ¬¾äººï¼š")]),e._v(e._s(e.settleInfo.payee))]),a("p",{staticClass:"line-item"},[e.settleInfo.remit_type===e.PAYTYPE.ALIPAY?a("label",[e._v("æ”¯ä»˜å®è´¦å·ï¼š")]):e._e(),a("label",{attrs:{"V-else":""}},[e._v("é“¶è¡Œè´¦æˆ·ï¼š")]),e._v("\n          "+e._s(e.settleInfo.remit_account)+"\n        ")])]),a("div",{staticClass:"t-body clearfix"},[e.settleInfo.commission_type===e.COMMISSIONTYPE.SLAES?[a("div",{staticClass:"t-body-left"},[a("h2",[e._v("ç°é‡‘")]),a("p",[a("span",[e._v("å¾…ç¡®è®¤é‡‘é¢ï¼ˆå°å†™ï¼‰")]),a("label",[e._v(e._s(e.utils.formatMoney(e.settleInfo.all_cash_income-e.settleInfo.all_cash_expend)))])]),a("p",[a("span",[e._v("é”€å”®é¢ä½£é‡‘ï¼ˆå…¨æ¬¾ï¼‰")]),a("label",[e._v(e._s(e.utils.formatMoney(e.settleInfo.sales_service_fee)))])]),a("p",[a("span",[e._v("æŠ½å–ä¿è¯é‡‘")]),a("label",[e._v(e._s(e.utils.formatMoney(e.settleInfo.bond)))])]),a("p",[a("span",[e._v("å®é™…ç»“ç®—é‡‘é¢ï¼ˆå°å†™ï¼‰")]),a("label",[e._v(e._s(e.utils.formatMoney(e.settleInfo.cash_real_pay)))])]),a("p",[a("span",[e._v("é‡‘é¢ï¼ˆå¤§å†™ï¼‰")]),a("label",[e._v(e._s(this.utils.getCapMoney(e.settleInfo.cash_real_pay)))])])]),1==e.cooperateType?a("div",{staticClass:"t-body-right"},[a("h2",[e._v("ç§¯åˆ†")]),a("p",[a("span",[e._v("å¾…ç¡®è®¤é‡‘é¢ï¼ˆå°å†™ï¼‰")]),a("label",[e._v(e._s(e.utils.formatMoney(e.settleInfo.all_huanbi_income-e.settleInfo.all_huanbi_expend)))])]),a("p",[a("span",[e._v("å®é™…ç»“ç®—é‡‘é¢ ï¼ˆå°å†™ï¼‰")]),a("label",[e._v(e._s(e.utils.formatMoney(e.settleInfo.huanbi_real_pay)))])]),a("p",[a("span",[e._v("é‡‘é¢ï¼ˆå¤§å†™ï¼‰")]),a("label",[e._v(e._s(this.utils.getCapMoney(e.settleInfo.huanbi_real_pay)))])])]):e._e()]:[a("div",{staticClass:"t-body-left"},[a("h2",[e._v("ç°é‡‘")]),a("p",[a("span",[e._v("å¾…ç¡®è®¤é‡‘é¢ï¼ˆå°å†™ï¼‰")]),a("label",[e._v(e._s(e.utils.formatMoney(e.settleInfo.all_cash_income-e.settleInfo.all_cash_expend)))])]),a("p",[a("span",[e._v("æ‰£é™¤ä½£é‡‘ï¼ˆç°é‡‘ï¼‰")]),a("label",[e._v(e._s(e.utils.formatMoney(e.settleInfo.cash_service_fee)))])]),a("p",[a("span",[e._v("æ‰£é™¤äº¤æ˜“è´¹ç”¨ï¼ˆç°é‡‘ï¼‰")]),a("label",[e._v(e._s(e.utils.formatMoney(e.settleInfo.cash_income_fee)))])]),a("p",[a("span",[e._v("æŠ½å–ä¿è¯é‡‘ï¼ˆç°é‡‘ï¼‰")]),a("label",[e._v(e._s(e.utils.formatMoney(e.settleInfo.bond)))])]),a("p",[a("span",[e._v("æ‰£é™¤æ‰“æ¬¾è´¹ç”¨ï¼ˆç°é‡‘ï¼‰")]),a("label",[e._v(e._s(e.utils.formatMoney(e.settleInfo.cash_remit_fee)))])]),a("p",[a("span",[e._v("å®é™…ç»“ç®—é‡‘é¢ï¼ˆå°å†™ï¼‰")]),a("label",[e._v(e._s(e.utils.formatMoney(e.settleInfo.cash_real_pay)))])]),a("p",[a("span",[e._v("é‡‘é¢ï¼ˆå¤§å†™ï¼‰")]),a("label",[e._v(e._s(this.utils.getCapMoney(e.settleInfo.cash_real_pay)))])])]),1==e.cooperateType?a("div",{staticClass:"t-body-right"},[a("h2",[e._v("ç§¯åˆ†")]),a("p",[a("span",[e._v("å¾…ç¡®è®¤é‡‘é¢ï¼ˆå°å†™ï¼‰")]),a("label",[e._v(e._s(e.utils.formatMoney(e.settleInfo.all_huanbi_income-e.settleInfo.all_huanbi_expend)))])]),a("p",[a("span",[e._v("æ‰£é™¤ç§¯åˆ†ä½£é‡‘ï¼ˆä¸ªï¼‰")]),a("label",[e._v(e._s(e.utils.formatMoney(e.settleInfo.huanbi_service_fee)))])]),a("p",[a("span",[e._v("æ‰£é™¤ç§¯åˆ†äº¤æ˜“è´¹ç”¨ï¼ˆäººï¼‰")]),a("label",[e._v(e._s(e.utils.formatMoney(e.settleInfo.huanbi_income_fee)))])]),a("p",[a("span",[e._v("æ‰£é™¤ç§¯åˆ†æ‰“æ¬¾è´¹ç”¨ï¼ˆäººï¼‰")]),a("label",[e._v(e._s(e.utils.formatMoney(e.settleInfo.huanbi_remit_fee)))])]),a("p",[a("span",[e._v("å®é™…ç»“ç®—é‡‘é¢ ï¼ˆå°å†™ï¼‰")]),a("label",[e._v(e._s(e.utils.formatMoney(e.settleInfo.huanbi_real_pay)))])]),a("p",[a("span",[e._v("é‡‘é¢ï¼ˆå¤§å†™ï¼‰")]),a("label",[e._v(e._s(this.utils.getCapMoney(e.settleInfo.huanbi_real_pay)))])])]):e._e()]],2),e.settleInfo.status?a("h3",{staticStyle:{"padding-left":"20px"}},[e._v("\n        ç»“ç®—æ—¶é—´ï¼š"+e._s(e._f("convertTime")(1e3*e.settleInfo.settlement_start))+"â€”â€”"+e._s(e._f("convertTime")(1e3*e.settleInfo.settlement_end))+"\n      ")]):e._e(),a("div",{staticClass:"t-bottom clearfix"},[a("div",{staticClass:"t-bottom-left"},[e._v("å¾…ç»“ç®—ç¼–å·")]),a("p",{staticClass:"t-bottom-right"},e._l(e.settleInfo.statement_no,function(t,n){return a("span",{key:n},[e._v(e._s(t))])}),0)])],2)])])},i=[],s=(a("c5f6"),a("cebc")),r=a("2f62"),o=a("fef7"),l=a("9d62"),c={name:"SettlementInfo",data:function(){return{STATUS:o["i"],PAYTYPE:o["f"],COMMISSIONTYPE:o["b"],multi_statement_id:this.$route.params.id?this.$route.params.id:"",settleInfo:{}}},created:function(){this.getStatementInfo()},computed:Object(s["a"])({},Object(r["c"])({cooperateType:function(e){return e.suppliers.cooperateType}}),{status:function(){return o["j"][this.settleInfo.status]}}),methods:Object(s["a"])({},Object(r["b"])({saveCooperateType:"saveCooperateType"}),{getStatementInfo:function(){var e=this;Object(l["r"])(this.multi_statement_id).then(function(t){e.settleInfo=t,e.saveCooperateType(t.cooperate_type)},function(e){console.log(e)})},confirm:function(){var e=this,t={};t["multi_statement_id"]=this.settleInfo.multi_statement_id,t["bond"]=this.settleInfo.bond,t["use_cash_service_fee"]=Number(this.settleInfo.cash_service_fee)?1:0,t["use_cash_income_fee"]=Number(this.settleInfo.cash_income_fee)?1:0,t["use_cash_remit_fee"]=Number(this.settleInfo.cash_remit_fee)?1:0,t["use_huanbi_service_fee"]=Number(this.settleInfo.huanbi_service_fee)?1:0,t["use_huanbi_income_fee"]=Number(this.settleInfo.huanbi_income_fee)?1:0,t["use_huanbi_remit_fee"]=Number(this.settleInfo.huanbi_remit_fee)?1:0,t["create_log"]=this.settleInfo.create_log,Object(l["c"])(t).then(function(t){e.$alert(t.info,"",{callback:function(){e.$root.reload()}})},function(t){e.$alert(t.errorMsg)})},goBack:function(){this.$router.go(-1)}})},u=c,p=(a("60eb"),a("2877")),m=Object(p["a"])(u,n,i,!1,null,"2985860e",null);t["default"]=m.exports},"65d2":function(e,t,a){},"67e2":function(e,t,a){},"6f48":function(e,t,a){},"70cb":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("page-title",{attrs:{"first-title":"å•†å®¶åˆ—è¡¨","second-title":"å•†å®¶èµ„äº§"}}),a("section",[e.isEdit?[a("div",{staticClass:"settle-setting-wrapper"},[a("el-form",{ref:"infoForm",attrs:{model:e.info_edit,rules:e.rules,"validate-on-rule-change":e.ruleFix,"label-width":"150px"}},[a("div",{staticClass:"info-item"},[a("p",{staticClass:"title"},[e._v("ç»“ç®—ä¿¡æ¯è®¾ç½®")]),a("el-form-item",{attrs:{label:"æ”¶æ¬¾å•ä½",prop:"pay_company"}},[a("el-input",{attrs:{size:"small"},model:{value:e.info_edit.pay_company,callback:function(t){e.$set(e.info_edit,"pay_company",t)},expression:"info_edit.pay_company"}})],1),a("el-form-item",{attrs:{label:"æ”¶æ¬¾äºº",prop:"payee"}},[a("el-input",{attrs:{size:"small"},model:{value:e.info_edit.payee,callback:function(t){e.$set(e.info_edit,"payee",t)},expression:"info_edit.payee"}})],1)],1),e.info.cooperate_type==e.COOPERATE_TYPE.COR_RESIDENT?a("div",{staticClass:"info-item"},[a("el-form-item",{attrs:{label:"ç§¯åˆ†æ˜¯å¦ç»“ç®—",prop:"remit_type"}},[a("el-switch",{attrs:{"active-value":e.HUANBI_SETTLEMENT.SETTLEMENT,"inactive-value":e.HUANBI_SETTLEMENT.UNSETTLEMENT},model:{value:e.info_edit.is_huanbi_settlement,callback:function(t){e.$set(e.info_edit,"is_huanbi_settlement",t)},expression:"info_edit.is_huanbi_settlement"}})],1)],1):e._e(),a("div",{staticClass:"info-item"},[a("p",{staticClass:"title"},[e._v("æ±‡æ¬¾æ–¹å¼è®¾ç½®")]),a("div",{staticClass:"pay-wrapper"},[a("el-form-item",{attrs:{label:"æ”¯ä»˜å®æ”¶æ¬¾",prop:"remit_type"}},[a("el-switch",{attrs:{"active-value":e.PAYTYPE.ALIPAY,"inactive-value":e.PAYTYPE.BANK},model:{value:e.info_edit.remit_type,callback:function(t){e.$set(e.info_edit,"remit_type",t)},expression:"info_edit.remit_type"}})],1),e.info_edit.remit_type==e.PAYTYPE.ALIPAY?[a("el-form-item",{attrs:{label:"æ”¯ä»˜å®è´¦å·",prop:"remit_account"}},[a("el-input",{attrs:{size:"small"},model:{value:e.info_edit.remit_account,callback:function(t){e.$set(e.info_edit,"remit_account",t)},expression:"info_edit.remit_account"}})],1)]:e._e()],2),a("div",{staticClass:"pay-wrapper"},[a("el-form-item",{attrs:{label:"é“¶è¡Œæ”¶æ¬¾",prop:"remit_type"}},[a("el-switch",{attrs:{"active-value":e.PAYTYPE.BANK,"inactive-value":e.PAYTYPE.ALIPAY},model:{value:e.info_edit.remit_type,callback:function(t){e.$set(e.info_edit,"remit_type",t)},expression:"info_edit.remit_type"}})],1),e.info_edit.remit_type==e.PAYTYPE.BANK?[a("el-form-item",{attrs:{label:"å¼€æˆ·é“¶è¡Œ",prop:"open_bank"}},[a("el-input",{attrs:{size:"small"},model:{value:e.info_edit.open_bank,callback:function(t){e.$set(e.info_edit,"open_bank",t)},expression:"info_edit.open_bank"}})],1),a("el-form-item",{attrs:{label:"é€‰æ‹©é“¶è¡Œ",prop:"bank"}},[a("el-select",{attrs:{filterable:""},model:{value:e.info_edit.bank,callback:function(t){e.$set(e.info_edit,"bank",t)},expression:"info_edit.bank"}},e._l(e.bank_list,function(e){return a("el-option",{key:e.short,attrs:{label:e.name,value:e.short}})}),1),a("span",{staticStyle:{color:"#8888","padding-left":"20px"}},[e._v("æ”¯æŒè¾“å…¥æœç´¢")])],1),a("el-form-item",{attrs:{label:"é“¶è¡Œè´¦å·",prop:"remit_account"}},[a("el-input",{attrs:{size:"small"},model:{value:e.info_edit.remit_account,callback:function(t){e.$set(e.info_edit,"remit_account",t)},expression:"info_edit.remit_account"}})],1)]:e._e()],2)]),a("div",{staticClass:"info-item"},[a("p",{staticClass:"title"},[e._v("ç»“ç®—è®¾ç½®")]),a("el-form-item",{attrs:{prop:"commission_type"}},[a("el-radio",{attrs:{label:e.COMMISSIONTYPE.SLAES},model:{value:e.info_edit.commission_type,callback:function(t){e.$set(e.info_edit,"commission_type",t)},expression:"info_edit.commission_type"}},[e._v("é”€å”®é¢ä½£é‡‘")]),a("el-radio",{attrs:{label:e.COMMISSIONTYPE.CASHHUAN},model:{value:e.info_edit.commission_type,callback:function(t){e.$set(e.info_edit,"commission_type",t)},expression:"info_edit.commission_type"}},[e._v("ç°é‡‘ç§¯åˆ†ä½£é‡‘")])],1),e.info_edit.commission_type===e.COMMISSIONTYPE.SLAES?[a("el-form-item",{attrs:{label:"é”€å”®é¢ä½£é‡‘ï¼ˆå…¨æ¬¾ï¼‰",prop:"cash_service_percent"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{size:"small"},model:{value:e.info_edit.sales_service_percent,callback:function(t){e.$set(e.info_edit,"sales_service_percent",t)},expression:"info_edit.sales_service_percent"}}),e._v("%\n              ")],1)]:[a("el-form-item",{attrs:{label:"ç°é‡‘ä½£é‡‘",prop:"cash_service_percent"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{size:"small"},model:{value:e.info_edit.cash_service_percent,callback:function(t){e.$set(e.info_edit,"cash_service_percent",t)},expression:"info_edit.cash_service_percent"}}),e._v("%\n              ")],1),a("el-form-item",{attrs:{label:"ç§¯åˆ†ä½£é‡‘",prop:"huanbi_service_percent"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{size:"small"},model:{value:e.info_edit.huanbi_service_percent,callback:function(t){e.$set(e.info_edit,"huanbi_service_percent",t)},expression:"info_edit.huanbi_service_percent"}}),e._v("%\n              ")],1),a("el-form-item",{attrs:{label:"æ”¶å…¥æ‰‹ç»­è´¹",prop:"cash_income_percent"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{size:"small"},model:{value:e.info_edit.cash_income_percent,callback:function(t){e.$set(e.info_edit,"cash_income_percent",t)},expression:"info_edit.cash_income_percent"}}),e._v("%\n              ")],1),a("el-form-item",{attrs:{label:"ç§¯åˆ†äº¤æ˜“æ‰‹ç»­è´¹",prop:"huanbi_income_percent"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{size:"small"},model:{value:e.info_edit.huanbi_income_percent,callback:function(t){e.$set(e.info_edit,"huanbi_income_percent",t)},expression:"info_edit.huanbi_income_percent"}}),e._v("%\n              ")],1),a("el-form-item",{attrs:{label:"æ‰“æ¬¾æ‰‹ç»­è´¹",prop:"cash_remit_percent"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{size:"small"},model:{value:e.info_edit.cash_remit_percent,callback:function(t){e.$set(e.info_edit,"cash_remit_percent",t)},expression:"info_edit.cash_remit_percent"}}),e._v("%\n              ")],1),a("el-form-item",{attrs:{label:"æ‰“æ¬¾æ‰‹ç»­è´¹",prop:"huanbi_remit_percent"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{size:"small"},model:{value:e.info_edit.huanbi_remit_percent,callback:function(t){e.$set(e.info_edit,"huanbi_remit_percent",t)},expression:"info_edit.huanbi_remit_percent"}}),e._v("%\n              ")],1)]],2),a("div",{staticClass:"info-item"},[a("p",{staticClass:"title"},[e._v("ç”Ÿæˆå¯¹è´¦å•è®¾ç½®")]),a("div",{staticClass:"account-statement"},[a("p",[a("el-radio",{attrs:{label:2},model:{value:e.info_edit.create_multi_method,callback:function(t){e.$set(e.info_edit,"create_multi_method",t)},expression:"info_edit.create_multi_method"}},[e._v("è‡ªåŠ¨")]),a("span",{staticClass:"tip"},[e._v("åˆ°è¾¾ç»“ç®—æ—¶é—´ï¼ˆæ¯å‘¨å››0ç‚¹ï¼‰ç³»ç»Ÿè‡ªåŠ¨ç”Ÿæˆå¯¹è´¦å•")])],1),a("p",[a("el-radio",{attrs:{label:1},model:{value:e.info_edit.create_multi_method,callback:function(t){e.$set(e.info_edit,"create_multi_method",t)},expression:"info_edit.create_multi_method"}},[e._v("æ‰‹åŠ¨")]),a("span",{staticClass:"tip"},[e._v("é€‰æ‹©æ—¥å¯¹è´¦å•ï¼Œç”Ÿæˆæœ¬æœŸå¯¹è´¦å•")])],1)]),2==e.info_edit.create_multi_method?a("div",{staticClass:"bond-limit"},[a("p",{staticClass:"title"},[e._v("ä¿è¯é‡‘é¢åº¦")]),a("span",{staticClass:"required-tip"},[e._v("*")]),a("el-input",{attrs:{size:"small",clearable:""},model:{value:e.info_edit.bond_amount,callback:function(t){e.$set(e.info_edit,"bond_amount",t)},expression:"info_edit.bond_amount"}}),e._v("Â Â å…ƒ\n            ")],1):e._e()]),a("div",{staticClass:"btn-box",staticStyle:{"text-align":"center"}},[a("el-button",{attrs:{type:"primary"},on:{click:e.save}},[e._v("ä¿å­˜")]),a("el-button",{on:{click:e.cancel}},[e._v("å–æ¶ˆ")])],1)])],1)]:[a("el-button",{staticStyle:{float:"right"},attrs:{type:"primary"},on:{click:e.editInfo}},[e._v("ç¼–è¾‘")]),a("div",{staticClass:"info-item"},[a("p",{staticClass:"title"},[e._v("ç»“ç®—ä¿¡æ¯è®¾ç½®")]),a("p",{staticClass:"item-line"},[a("span",[e._v("æ”¶æ¬¾å•ä½")]),a("label",[e._v(e._s(e.info.pay_company))])]),a("p",{staticClass:"item-line"},[a("span",[e._v("æ”¶æ¬¾äºº")]),a("label",[e._v(e._s(e.info.payee))])])]),e.info.cooperate_type==e.COOPERATE_TYPE.COR_RESIDENT?a("div",{staticClass:"info-item"},[a("p",{staticClass:"title"},[e._v("ç§¯åˆ†æ˜¯å¦ç»“ç®—")]),a("p",{staticClass:"item-line"},[a("label",[e._v(e._s(e.HUANBI_SETTLEMENT_TXT[e.info.is_huanbi_settlement]))])])]):e._e(),a("div",{staticClass:"info-item"},[a("p",{staticClass:"title"},[e._v("æ±‡æ¬¾æ–¹å¼è®¾ç½®")]),e.info.remit_type==e.PAYTYPE.BANK?[a("p",{staticClass:"item-line"},[a("span",[e._v("å¼€æˆ·é“¶è¡Œ")]),a("label",[e._v(e._s(e.info.open_bank))])]),a("p",{staticClass:"item-line"},[a("span",[e._v("æ”¶æ¬¾é“¶è¡Œ")]),a("label",[e._v(e._s(e.bankName))])]),a("p",{staticClass:"item-line"},[a("span",[e._v("é“¶è¡Œè´¦å·")]),a("label",[e._v(e._s(e.info.remit_account))])])]:[a("p",{staticClass:"item-line"},[a("span",[e._v("æ”¯ä»˜å®è´¦å·")]),a("label",[e._v(e._s(e.info.remit_account))])])]],2),a("div",{staticClass:"info-item"},[a("p",{staticClass:"title"},[e._v("ç»“ç®—è®¾ç½®")]),e.info.commission_type===e.COMMISSIONTYPE.SLAES?[a("p",{staticClass:"item-line"},[a("span",[e._v("é”€å”®é¢ä½£é‡‘ï¼ˆå…¨æ¬¾ï¼‰")]),a("label",[e._v(e._s(e.info.sales_service_percent)+"%")])])]:[a("p",{staticClass:"item-line"},[a("span",[e._v("ç°é‡‘ä½£é‡‘")]),a("label",[e._v(e._s(e.info.cash_service_percent)+"%")]),a("span",[e._v("ç§¯åˆ†ä½£é‡‘")]),a("label",[e._v(e._s(e.info.huanbi_service_percent)+"%")])]),a("p",{staticClass:"item-line"},[a("span",[e._v("æ”¶å…¥æ‰‹ç»­è´¹")]),a("label",[e._v(e._s(e.info.cash_income_percent)+"%")]),a("span",[e._v("ç§¯åˆ†äº¤æ˜“æ‰‹ç»­è´¹")]),a("label",[e._v(e._s(e.info.huanbi_income_percent)+"%")])]),a("p",{staticClass:"item-line"},[a("span",[e._v("æ‰“æ¬¾æ‰‹ç»­è´¹")]),a("label",[e._v(e._s(e.info.cash_remit_percent)+"%")]),a("span",[e._v("æ‰“æ¬¾æ‰‹ç»­è´¹")]),a("label",[e._v(e._s(e.info.huanbi_remit_percent)+"%")])])]],2),a("div",{staticClass:"info-item"},[a("p",{staticClass:"title"},[e._v("ç”Ÿæˆå¯¹è´¦å•è®¾ç½®")]),a("p",{staticClass:"item-line"},[a("span",[e._v("ç”Ÿæˆæ–¹å¼")]),a("label",[e._v(e._s(1==e.info.create_multi_method?"æ‰‹åŠ¨":"è‡ªåŠ¨"))])])]),2==e.info.create_multi_method?a("div",{staticClass:"info-item"},[a("p",{staticClass:"title"},[e._v("ä¿è¯é‡‘é¢åº¦")]),a("p",{staticClass:"item-line"},[a("span",[e._v("ä¿è¯é‡‘")]),a("label",[e._v(e._s(e.info.bond_amount)+"å…ƒ")])])]):e._e()]],2)],1)},i=[],s=(a("06db"),a("7f7f"),a("cebc")),r=a("2f62"),o=a("9d62"),l=a("fef7"),c={name:"SettleSetting",data:function(){return{isEdit:!1,ruleFix:!0,PAYTYPE:l["f"],COMMISSIONTYPE:l["b"],COOPERATE_TYPE:l["c"],HUANBI_SETTLEMENT_TXT:l["e"],HUANBI_SETTLEMENT:l["d"],info:{},info_edit:{},bank_list:[],rules:{pay_company:[{required:!0,message:"è¯·è¾“å…¥æ”¶æ¬¾å•ä½",trigger:"blur"}],payee:[{required:!0,message:"è¯·è¾“å…¥æ”¶æ¬¾äºº",trigger:"blur"}],remit_account:[{required:!0,message:"è¯·è¾“å…¥æ±‡æ¬¾è´¦å·",trigger:"blur"}],open_bank:[{required:!0,message:"è¯·è¾“å…¥å¼€æˆ·é“¶è¡Œ",trigger:"blur"}],bank:[{required:!0,message:"è¯·é€‰æ‹©é“¶è¡Œ",trigger:"blur"}],cash_service_percent:[{required:!0,message:"è¯·è¾“å…¥ç°é‡‘ç»“ç®—ä½£é‡‘å æ¯”",trigger:"blur"}],huanbi_service_percent:[{required:!0,message:"è¯·è¾“å…¥ç§¯åˆ†ç»“ç®—ä½£é‡‘",trigger:"blur"}],cash_income_percent:[{required:!0,message:"è¯·è¾“å…¥ç°é‡‘æ”¶å…¥æ‰‹ç»­è´¹",trigger:"blur"}],huanbi_income_percent:[{required:!0,message:"è¯·è¾“å…¥ç§¯åˆ†æ”¶å…¥æ‰‹ç»­è´¹",trigger:"blur"}],cash_remit_percent:[{required:!0,message:"è¯·è¾“å…¥ç°é‡‘æ‰“æ¬¾æ‰‹ç»­è´¹",trigger:"blur"}],huanbi_remit_percent:[{required:!0,message:"è¯·è¾“å…¥ç§¯åˆ†æ±‡æ¬¾æ‰‹ç»­è´¹",trigger:"blur"}]}}},created:function(){this.getInfo()},computed:Object(s["a"])({},Object(r["c"])({suppliers_id:function(e){return e.suppliers.suppliers_id}}),{bankName:function(){var e=this,t="";if(this.info.bank&&this.bank_list.length){var a=this.bank_list.filter(function(t){return t.short===e.info.bank});t=a[0].name}return t}}),methods:Object(s["a"])({},Object(r["b"])({saveBankList:"saveBankList"}),{getInfo:function(){var e=this;Object(o["n"])(this.suppliers_id).then(function(t){e.info=t,e.bank_list=t.bank_list,e.saveBankList(t.bank_list)},function(e){console.log(e)})},editInfo:function(){this.info_edit=Object(s["a"])({},this.info),this.isEdit=!0},cancel:function(){this.isEdit=!1,this.info_edit={}},save:function(){var e=this;this.$refs["infoForm"].validate(function(t){if(!t)return!1;e.submit()})},submit:function(){var e=this,t={};if(t["suppliers_id"]=this.suppliers_id,t["pay_company"]=this.info_edit.pay_company,t["payee"]=this.info_edit.payee,t["remit_account"]=this.info_edit.remit_account,t["bank"]=this.info_edit.bank,t["open_bank"]=this.info_edit.open_bank,t["remit_type"]=this.info_edit.remit_type,t["commission_type"]=this.info_edit.commission_type,t["is_huanbi_settlement"]=this.info_edit.is_huanbi_settlement,this.info_edit.commission_type===l["b"].SLAES?(t["cash_service_percent"]=t["huanbi_service_percent"]=t["cash_income_percent"]=t["huanbi_income_percent"]=t["cash_remit_percent"]=t["huanbi_remit_percent"]=0,t["sales_service_percent"]=this.info_edit.sales_service_percent):(t["cash_service_percent"]=this.info_edit.cash_service_percent,t["huanbi_service_percent"]=this.info_edit.huanbi_service_percent,t["cash_income_percent"]=this.info_edit.cash_income_percent,t["huanbi_income_percent"]=this.info_edit.huanbi_income_percent,t["cash_remit_percent"]=this.info_edit.cash_remit_percent,t["huanbi_remit_percent"]=this.info_edit.huanbi_remit_percent,t["sales_service_percent"]=0),t["create_multi_method"]=this.info_edit.create_multi_method,t["bond_amount"]=this.info_edit.bond_amount,2!=this.info_edit.create_multi_method||this.info_edit.bond_amount){var a=this.$loading({lock:!0,text:"ä¿å­˜ä¸­",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});Object(o["v"])(t).then(function(t){console.log(t),e.isEdit=!1},function(e){console.log(e)}).finally(function(){e.getInfo(),a.close()})}else this.$message.error("è¯·è¾“å…¥ä¿è¯é‡‘é¢åº¦")}})},u=c,p=(a("3ce5"),a("2877")),m=Object(p["a"])(u,n,i,!1,null,"1d1760b3",null);t["default"]=m.exports},"730e":function(e,t,a){},7445:function(e,t,a){var n=a("63b6"),i=a("5d6b");n(n.G+n.F*(parseInt!=i),{parseInt:i})},7514:function(e,t,a){"use strict";var n=a("5ca1"),i=a("0a49")(5),s="find",r=!0;s in[]&&Array(1)[s](function(){r=!1}),n(n.P+n.F*r,"Array",{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a("9c6c")(s)},7556:function(e,t,a){"use strict";var n=a("446c"),i=a.n(n);i.a},"75d4":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("section",[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",[e._v("å¯è½¬è´¦ç§¯åˆ†æ¥è‡ªç§¯åˆ†æç°è´¦æˆ·ï¼Œè¿™éƒ¨åˆ†ç§¯åˆ†æ¥è‡ªäºç»“ç®—çš„ç§¯åˆ†ä½™é¢ã€‚è½¬è´¦ç§¯åˆ†å®Œæˆåï¼Œæ— æ³•å›åˆ°ç§¯åˆ†æç°è´¦æˆ·")])],1)],1),a("section",{staticClass:"shop-info"},[a("span",{staticClass:"clearfix",staticStyle:{float:"right",color:"#409eff",cursor:"pointer","margin-top":"10px"},on:{click:e.goRecord}},[e._v("æŸ¥çœ‹è½¬è´¦è®°å½•>")]),a("p",[a("span",[e._v("åº—é“ºåç§°ï¼š")]),a("label",[e._v(e._s(e.info.shop_name))])]),a("p",[a("span",[e._v("ç§¯åˆ†è´¦æˆ·ï¼š")]),a("label",[e._v(e._s(e.info.remit_account))]),a("span",{staticStyle:{"font-size":"12px",color:"#9c9c9c","margin-left":"10px"}},[e._v("ç§¯åˆ†ä½™é¢ä¸­ç»“ç®—çš„ç§¯åˆ†")])]),a("p",[a("span",[e._v("å¯è½¬è´¦ç§¯åˆ†ï¼ˆä¸ªï¼‰ï¼š")]),a("label",[e._v(e._s(e.huanbi_remit))]),a("span",[e._v("å¯è½¬è´¦ç§¯åˆ†ï¼ˆä¸ªï¼‰ï¼š")]),a("label",[e._v(e._s(e.huanbi_money))])]),a("p",[a("span",[e._v("æœ¬æ¬¡è½¬è´¦")]),a("span",[a("el-input",{attrs:{size:"small",maxlength:"10"},model:{value:e.withSurplus,callback:function(t){e.withSurplus=t},expression:"withSurplus"}})],1),a("label",{staticStyle:{color:"#409EFF","font-weight":"normal",cursor:"pointer"},on:{click:e.getAll}},[e._v("å…¨é¢è½¬è´¦")])]),a("p",[a("span",[e._v("åˆ°è´¦æ¢æ¢æ³¨å†Œæ‰‹æœºå· ï¼š")]),a("label",[e._v(e._s(e.info.bind_user_phone))])]),a("el-button",{staticStyle:{width:"200px"},attrs:{type:"primary",loading:e.isLoading},on:{click:e.submit}},[e._v("æäº¤")]),e._m(0)],1)])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"warn-wrapper"},[a("p",[e._v("æ³¨ï¼šç§¯åˆ†æç°è´¦æˆ·ä¸­çš„ç§¯åˆ†ç”¨é€”")]),a("p",[e._v("1ï¼‰å‘æ”¾ä¼˜æƒ åˆ¸")]),a("p",[e._v("2ï¼‰è½¬è®©è´­ä¹°ä»¥ç‰©æŠµå€ºå•†å“")])])}],s=(a("06db"),a("c5f6"),a("cebc")),r=a("2f62"),o=a("afbd"),l={name:"SettlementInfo",data:function(){return{info:{},huanbi_remit:0,huanbi_money:0,withSurplus:"",isLoading:!1}},created:function(){this.getWithdrawalInfo()},computed:Object(s["a"])({},Object(r["c"])({suppliers_id:function(e){return e.suppliers.suppliers_id}})),methods:{getWithdrawalInfo:function(){var e=this;Object(o["g"])(this.suppliers_id).then(function(t){e.info=t},function(e){console.log(e)}),Object(o["e"])(this.suppliers_id).then(function(t){e.huanbi_money=e.utils.formatFloat(t.huanbi_money,!0)},function(e){console.log(e)})},getAll:function(){this.withSurplus=this.huanbi_money},goRecord:function(){this.$router.push({name:"WithdrawalRecord"})},submit:function(){var e=this,t=Number(this.withSurplus);!t||t<0?this.$alert("è¯·è¾“å…¥æ­£ç¡®çš„æç°é‡‘é¢"):(this.isLoading=!0,Object(o["p"])(this.suppliers_id,this.withSurplus).then(function(t){e.$alert(t.info,"",{callback:function(){e.$router.push({name:"WithdrawalRecord"})}})},function(t){e.$alert(t.errorMsg)}).finally(function(){e.isLoading=!1}))}}},c=l,u=(a("a15b"),a("2877")),p=Object(u["a"])(c,n,i,!1,null,"4185da36",null);t["default"]=p.exports},"75fc":function(e,t,a){"use strict";var n=a("a745"),i=a.n(n);function s(e){if(i()(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}var r=a("774e"),o=a.n(r),l=a("c8bb"),c=a.n(l);function u(e){if(c()(Object(e))||"[object Arguments]"===Object.prototype.toString.call(e))return o()(e)}function p(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function m(e){return s(e)||u(e)||p()}a.d(t,"a",function(){return m})},7719:function(e,t,a){},7741:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("page-title",{attrs:{"first-title":"ç»“ç®—å•åˆ—è¡¨"}}),a("section",{staticClass:"search-wrapper"},[a("el-form",{attrs:{inline:!0,model:e.params}},[a("el-form-item",{attrs:{label:"ç»“ç®—å•çŠ¶æ€"}},[a("el-select",{staticStyle:{width:"140px"},attrs:{clearable:"",placeholder:""},model:{value:e.params.status,callback:function(t){e.$set(e.params,"status",t)},expression:"params.status"}},e._l(e.SETTLE_SETTLEMENT_STATUS,function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.value}})}),1)],1),"supplier"!==e.role?a("el-form-item",{attrs:{label:"å•†å®¶åç§°"}},[a("el-input",{staticStyle:{width:"230px"},attrs:{placeholder:"è¯·è¾“å…¥å•†å®¶åç§°"},model:{value:e.params.suppliers_name,callback:function(t){e.$set(e.params,"suppliers_name",t)},expression:"params.suppliers_name"}})],1):e._e()],1),a("el-form",[a("el-form-item",{attrs:{label:"ç»“ç®—å•ç”Ÿæˆæ—¶é—´"}},[a("el-date-picker",{staticStyle:{width:"140px"},attrs:{placeholder:"å¼€å§‹æ—¶é—´",type:"date","value-format":"timestamp"},model:{value:e.params.addtime_min,callback:function(t){e.$set(e.params,"addtime_min",t)},expression:"params.addtime_min"}}),e._v("\n        -\n        "),a("el-date-picker",{staticStyle:{width:"140px"},attrs:{placeholder:"ç»“æŸæ—¶é—´",type:"date","value-format":"timestamp"},model:{value:e.params.addtime_max,callback:function(t){e.$set(e.params,"addtime_max",t)},expression:"params.addtime_max"}}),a("div",{staticClass:"radio-wrapper"},[a("el-radio-group",{attrs:{size:"small"},on:{change:e.selecttime},model:{value:e.timeselect,callback:function(t){e.timeselect=t},expression:"timeselect"}},e._l(e.timelist,function(t,n){return a("el-radio-button",{key:n,attrs:{label:t.value}},[e._v("\n              "+e._s(t.name)+"\n            ")])}),1)],1)],1),[a("el-button",{attrs:{type:"primary"},on:{click:e.search}},[e._v("æœç´¢")]),a("el-button",{on:{click:e.clear}},[e._v("æ¸…ç©ºç­›é€‰æ¡ä»¶")])]],2)],1),a("section",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.isLoading,expression:"isLoading"}],staticStyle:{width:"100%"},attrs:{data:e.listDate,border:"",stripe:"","header-cell-style":{background:"#eef1f6"}}},[a("el-table-column",{attrs:{prop:"multi_log_id",label:"ç»“ç®—ID"}}),"supplier"!==e.role?a("el-table-column",{key:Math.random(),attrs:{prop:"suppliers_name",label:"å•†å®¶åç§°"}}):e._e(),a("el-table-column",{attrs:{prop:"addtime",label:"ç»“ç®—å•ç”Ÿæˆæ—¶é—´",formatter:e.timeFormat}}),a("el-table-column",{attrs:{prop:"cash_pay",label:"ç°é‡‘åº”ä»˜é‡‘é¢"}}),a("el-table-column",{attrs:{prop:"cash_real_pay",label:"ç°é‡‘å®ä»˜é‡‘é¢"}}),a("el-table-column",{attrs:{label:"ç»“ç®—æ—¶é—´"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(e.dateFormatCol(t.row.settlement_start))+" --- "),a("br"),e._v(e._s(e.dateFormatCol(t.row.settlement_end))+"\n        ")]}}])}),a("el-table-column",{attrs:{prop:"status",label:"ç»“ç®—å•çŠ¶æ€",formatter:e.statusFormat}}),a("el-table-column",{attrs:{prop:"endtime",label:"æ‰“æ¬¾æ—¶é—´",formatter:e.dateFormat}}),a("el-table-column",{attrs:{label:"æ‰“æ¬¾å‡­è¯"},scopedSlots:e._u([{key:"default",fn:function(t){return[1!=t.row.status?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.previewProof(t.row.format_pay_cert)}}},[e._v("æŸ¥çœ‹")]):e._e()]}}])}),a("el-table-column",{attrs:{prop:"remark",label:"å¤‡æ³¨"}}),"supplier"!==e.role?a("el-table-column",{key:Math.random(),attrs:{label:"æ“ä½œ"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.showSupplierInfo(t.row)}}},[e._v("å•†å®¶è´¦å·")]),1==t.row.status&&e.pay_cert_upload_allow?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.showMoney(t.row.multi_log_id)}}},[e._v("å®Œæˆ")]):e._e(),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.printPert(t.row.multi_log_id)}}},[e._v("æ‰“å°")])]}}],null,!1,493160796)}):e._e()],1),a("el-pagination",{attrs:{background:"","current-page":e.params.page,"page-size":e.params.size,layout:"prev, pager, next, jumper",total:e.total},on:{"current-change":e.handleCurrentChange,"update:currentPage":function(t){return e.$set(e.params,"page",t)},"update:current-page":function(t){return e.$set(e.params,"page",t)}}})],1),a("div",{staticClass:"suppliers-account"},[e.suppliersInfo.multi_statement_id?a("el-dialog",{attrs:{title:"å•†å®¶æ”¶æ¬¾è´¦å·",visible:e.showAccountInfo,center:"",width:"50%"},on:{"update:visible":function(t){e.showAccountInfo=t}}},[1==e.suppliersInfo.remit_type?a("div",{staticClass:"account-info"},[a("p",[a("span",{staticClass:"title"},[e._v("æ”¶æ¬¾äººï¼š")]),a("span",{staticClass:"detail"},[e._v(e._s(e.suppliersInfo.payee))])]),a("p",[a("span",{staticClass:"title"},[e._v("æ”¶æ¬¾åç§°ï¼š")]),a("span",{staticClass:"detail"},[e._v(e._s(e.suppliersInfo.pay_company))])]),a("p",[a("span",{staticClass:"title"},[e._v("æ”¯ä»˜å®ï¼š")]),a("span",{staticClass:"detail"},[e._v(e._s(e.suppliersInfo.remit_account))])])]):a("div",{staticClass:"account-info"},[a("p",[a("span",{staticClass:"title"},[e._v("æ”¶æ¬¾äººï¼š")]),a("span",{staticClass:"detail"},[e._v(e._s(e.suppliersInfo.payee))])]),a("p",[a("span",{staticClass:"title"},[e._v("æ”¶æ¬¾åç§°ï¼š")]),a("span",{staticClass:"detail"},[e._v(e._s(e.suppliersInfo.pay_company))])]),a("p",[a("span",{staticClass:"title"},[e._v("é“¶è¡Œåç§°ï¼š")]),a("span",{staticClass:"detail"},[e._v(e._s(e.suppliersInfo.bank))])]),a("p",[a("span",{staticClass:"title"},[e._v("å¼€æˆ·è¡Œï¼š")]),a("span",{staticClass:"detail"},[e._v(e._s(e.suppliersInfo.open_bank))])]),a("p",[a("span",{staticClass:"title"},[e._v("é“¶è¡Œå¡å·ï¼š")]),a("span",{staticClass:"detail"},[e._v(e._s(e.suppliersInfo.remit_account))])])])]):e._e()],1),a("div",{staticClass:"finish-making-money"},[a("el-dialog",{attrs:{visible:e.showMakeMoney,center:"",width:"50%"},on:{"update:visible":function(t){e.showMakeMoney=t}}},[a("div",{staticClass:"make-money-info"},[a("el-form",[a("el-form-item",{attrs:{label:"ç°é‡‘å®ä»˜é‡‘é¢"}},[a("el-input",{model:{value:e.submitParams.cash_real_pay,callback:function(t){e.$set(e.submitParams,"cash_real_pay",t)},expression:"submitParams.cash_real_pay"}})],1),a("el-form-item",{attrs:{label:"è¯·ä¸Šä¼ æ‰“æ¬¾å‡­è¯"}},[a("el-upload",{ref:"uploadImg",staticClass:"upload-demo",attrs:{action:"#","auto-upload":!1}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("ç‚¹å‡»ä¸Šä¼ ")])],1)],1),a("el-form-item",{attrs:{label:"å¤‡æ³¨"}},[a("el-input",{attrs:{type:"textarea",placeholder:"100å­—ä»¥å†…"},model:{value:e.submitParams.remark,callback:function(t){e.$set(e.submitParams,"remark",t)},expression:"submitParams.remark"}})],1)],1),a("div",{staticClass:"btn-box"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.confirm}},[e._v("ç¡®å®š")]),a("el-button",{attrs:{type:"default",size:"small"},on:{click:function(t){e.showMakeMoney=!1}}},[e._v("å–æ¶ˆ")])],1)],1)])],1)],1)},i=[],s=(a("7f7f"),a("e814")),r=a.n(s),o=(a("6b54"),a("06db"),a("f499")),l=a.n(o),c=a("cebc"),u=a("9d62"),p=a("fef7"),m=a("2f62"),d=a("21a6"),f={name:"WaitSettle",data:function(){return{showAccountInfo:!1,showMakeMoney:!1,SETTLE_SETTLEMENT_STATUS:p["h"],timelist:p["k"],params:{addtime_min:"",addtime_max:"",suppliers_name:"",status:"",page:1,size:10},total:0,timeselect:"",listDate:[],suppliersInfo:{},isLoading:!1,submitParams:{multi_log_id:"",cash_real_pay:"",pay_cert:"",remark:""},pay_cert_upload_allow:!1}},computed:Object(c["a"])({},Object(m["c"])({role:function(e){return e.settle.role},cooperateType:function(e){return e.suppliers.cooperateType}}),{fmtParams:function(){var e=JSON.parse(l()(this.params));return e.addtime_min.toString().length>10&&(e.addtime_min=r()(e.addtime_min/1e3)),e.addtime_max.toString().length>10&&(e.addtime_max=r()(e.addtime_max/1e3)),e}}),created:function(){this.getSettleList(),this.getRole()},methods:Object(c["a"])({},Object(m["b"])({saveRole:"saveRole",saveCooperateType:"saveCooperateType"}),{getRole:function(){var e=this;Object(u["o"])().then(function(t){e.saveRole(t.role),t.cooperate_type&&e.saveCooperateType(t.cooperate_type)},function(e){console.log(e)})},getSettleList:function(){var e=this;this.isLoading=!0,Object(u["l"])(this.fmtParams).then(function(t){e.listDate=t.list,e.total=t.paged.total,e.pay_cert_upload_allow=t.pay_cert_upload_allow}).finally(function(){e.isLoading=!1})},selecttime:function(e){var t,a=(new Date).getTime(),n=new Date((new Date).toLocaleDateString()).getTime(),i=new Date((new Date).toLocaleDateString()).getTime()-864e5,s=new Date((new Date).toLocaleDateString()).getTime()-6048e5,r=new Date((new Date).toLocaleDateString()).getTime()-2592e6,o=a;e?1===e?(t=i,o=n-1):7===e?t=s:30===e&&(t=r):t=n,this.params.addtime_min=t,this.params.addtime_max=o,this.getStateList()},search:function(){this.params.page=1,this.getSettleList()},clear:function(){for(var e in this.timeselect="",this.params)this.params[e]="";this.params.page=1,this.params.size=10,this.getSettleList()},dateFormat:function(e,t){var a=e[t.property];return a>0?this.utils.formatDate("YYYY-MM-DD HH:mm:ss",1e3*a):""},timeFormat:function(e,t){var a=e[t.property];return a>0?this.utils.formatDate("YYYY-MM-DD",1e3*a):""},dateFormatCol:function(e){return this.utils.formatDate("YYYY-MM-DD",1e3*e)},statusFormat:function(e,t,a){var n="";return this.SETTLE_SETTLEMENT_STATUS.forEach(function(e){e.value==a&&(n=e.name)}),n},previewProof:function(e){e?this.$router.push({name:"PreviewPayCert",query:{url:e}}):this.$message.error("æœªä¸Šä¼ æ‰“æ¬¾å‡­è¯")},showSupplierInfo:function(e){this.showAccountInfo=!0,this.suppliersInfo=e.multi},showMoney:function(e){this.showMakeMoney=!0,this.submitParams.multi_log_id=e},handleCurrentChange:function(){this.getSettleList()},confirm:function(){var e=this.$refs.uploadImg.uploadFiles,t=new FileReader,a=this;t.addEventListener("load",function(){a.submitParams.pay_cert=this.result,Object(u["w"])(a.submitParams).then(function(e){if(console.log(e),e){for(var t in a.$message.success("æ‰“æ¬¾å®Œæˆ"),a.$refs.uploadImg.clearFiles(),a.submitParams)a.submitParams[t]="";a.showMakeMoney=!1,a.getSettleList()}},function(e){a.$message.error(e.errorMsg)})},!1),t.readAsDataURL(e[0].raw)},printPert:function(e){var t=this;Object(u["u"])({multi_log_id:e}).then(function(e){var a=t.utils.formatDate("YYYY-MM-DD",(new Date).getTime());Object(d["saveAs"])(new Blob([e.data]),e.filename||a+"æ‰“æ¬¾å‡­è¯.pdf")})}})},h=f,b=(a("8ff2"),a("4f9b"),a("2877")),_=Object(b["a"])(h,n,i,!1,null,"7c451acc",null);t["default"]=_.exports},"774e":function(e,t,a){e.exports=a("d2d5")},"78ef":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"header"},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",[e._v("ä¼˜æƒ åˆ¸")]),a("el-breadcrumb-item",[e._v("ç¼–è¾‘ä¼˜æƒ åˆ¸")])],1)],1),a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.newCouponLoading,expression:"newCouponLoading"}],staticClass:"list-wrapper"},[a("el-form",{ref:"newCouponData",attrs:{"label-position":"center",model:e.newCouponData,rules:e.rules,"label-width":"110px"}},[a("el-form-item",{attrs:{label:"ä¼˜æƒ åˆ¸åç§°ï¼š",prop:"couponName"}},[a("el-input",{staticStyle:{width:"30%"},attrs:{type:"text",placeholder:"ä¼˜æƒ åˆ¸åç§°"},on:{input:function(t){return e.checkTel("coupon",t)}},model:{value:e.newCouponData.couponName,callback:function(t){e.$set(e.newCouponData,"couponName","string"===typeof t?t.trim():t)},expression:"newCouponData.couponName"}})],1),a("el-form-item",{attrs:{label:"å‘æ”¾æ€»é‡ï¼š",prop:"totalCount"}},[a("el-input",{staticStyle:{width:"30%"},attrs:{type:"text",disabled:e.isDisabled,placeholder:"å‘æ”¾æ•°é‡"},on:{input:function(t){return e.checkTel("amount",t)}},model:{value:e.newCouponData.totalCount,callback:function(t){e.$set(e.newCouponData,"totalCount","string"===typeof t?t.trim():t)},expression:"newCouponData.totalCount"}})],1),a("el-form-item",{attrs:{label:"ä½¿ç”¨é—¨æ§›ï¼š",prop:"thresholdType"}},[a("el-radio-group",{attrs:{disabled:e.isDisabled,size:"mini"},model:{value:e.newCouponData.thresholdType,callback:function(t){e.$set(e.newCouponData,"thresholdType",t)},expression:"newCouponData.thresholdType"}},[a("el-radio",{attrs:{label:0}},[e._v("æ— é—¨æ§›")]),a("div",{staticStyle:{"margin-top":"10px"}},[a("el-radio",{attrs:{label:1}},[e._v("è®¢å•æ»¡")])],1)],1),1==e.newCouponData.thresholdType?a("el-form-item",{staticClass:"left_flex",attrs:{prop:"thresholdAmount"}},[a("el-input",{staticStyle:{width:"80%"},attrs:{type:"text",disabled:e.isDisabled,placeholder:"é‡‘é¢( 0.1-999999.99 )"},on:{input:function(t){return e.checkTel("reduction",t)}},model:{value:e.newCouponData.thresholdAmount,callback:function(t){e.$set(e.newCouponData,"thresholdAmount","string"===typeof t?t.trim():t)},expression:"newCouponData.thresholdAmount"}}),e._v("\n          å…ƒ")],1):e._e()],1),a("el-form-item",{attrs:{label:"ä¼˜æƒ å†…å®¹ï¼š",prop:"preferentialAmount"}},[a("span",{staticStyle:{"margin-right":"10px"}},[e._v("å‡")]),a("el-input",{staticStyle:{width:"120px"},attrs:{type:"text",disabled:e.isDisabled,placeholder:"é‡‘é¢(å…ƒ)"},on:{input:function(t){return e.checkTel("couponPro",t)}},model:{value:e.newCouponData.preferentialAmount,callback:function(t){e.$set(e.newCouponData,"preferentialAmount","string"===typeof t?t.trim():t)},expression:"newCouponData.preferentialAmount"}}),a("span",{staticStyle:{"margin-left":"10px"}},[e._v("å…ƒ")])],1),a("el-form-item",{attrs:{label:"æœ‰æ•ˆæœŸï¼š",prop:"order_valid",required:""}},[a("el-radio-group",{attrs:{disabled:e.isDisabled,size:"mini"},model:{value:e.newCouponData.order_valid,callback:function(t){e.$set(e.newCouponData,"order_valid",t)},expression:"newCouponData.order_valid"}},[a("div",{staticStyle:{"margin-bottom":"10px"}},[a("el-radio",{attrs:{label:0}},[e._v("é€‰æ—¥æœŸ")]),0==e.newCouponData.order_valid?a("el-form-item",{staticStyle:{display:"inline-block"},attrs:{prop:"time_value"}},[a("el-date-picker",{attrs:{disabled:e.isDisabled,type:"datetimerange","range-separator":"è‡³","start-placeholder":"å¼€å§‹æ—¥æœŸ","end-placeholder":"ç»“æŸæ—¥æœŸ"},on:{change:e.optTime},model:{value:e.time_value,callback:function(t){e.time_value=t},expression:"time_value"}})],1):e._e()],1),a("div",{staticClass:"coup_time"},[a("el-radio",{attrs:{label:2}},[e._v("é¢†åŠµå")]),2==e.newCouponData.order_valid?a("el-form-item",{staticStyle:{display:"inline-block"},attrs:{prop:"periodType"}},[a("el-input",{staticStyle:{width:"100px"},attrs:{type:"text",disabled:e.isDisabled,placeholder:"1-999"},on:{input:function(t){return e.checkTel("timeDay",t)}},model:{value:e.newCouponData.periodType,callback:function(t){e.$set(e.newCouponData,"periodType","string"===typeof t?t.trim():t)},expression:"newCouponData.periodType"}})],1):e._e()],1)]),2==e.newCouponData.order_valid?a("div",{staticClass:"left_flex",staticStyle:{"vertical-align":"bottom","margin-left":"10px"}},[e._v("\n          å¤©\n        ")]):e._e()],1),a("el-form-item",{attrs:{label:"é€‚ç”¨å•†å“ï¼š",prop:"applicableGoods"}},[e.isDisabled?[a("span",{staticStyle:{color:"#41a5e1",cursor:"pointer"},on:{click:function(t){e.dialogTableVisible=!0,e.goodsType=!0}}},[e._v(e._s(e.addAmount))])]:[a("el-radio-group",{attrs:{size:"mini"},model:{value:e.newCouponData.applicableGoods,callback:function(t){e.$set(e.newCouponData,"applicableGoods",t)},expression:"newCouponData.applicableGoods"}},[a("div",{staticClass:"coup_time"},[a("el-radio",{attrs:{label:2}},[e._v("æŒ‡å®šå•†å“")]),a("el-button",{staticClass:"input-box",attrs:{type:"primary",size:"small"}},[e._v("\n                æ‰¹é‡å¯¼å…¥å•†å“\n                "),a("input",{ref:"referenceUpload",attrs:{type:"file"},on:{change:function(t){return e.ossUpload(t)}}})])],1)]),a("div",{staticStyle:{"margin-left":"100px"}},[a("el-button",{staticClass:"input-box",attrs:{type:"text",size:"small"}},[a("a",{attrs:{href:e.down}},[e._v("ä¸‹è½½æ¨¡æ¿")])])],1),a("div",{staticClass:"add-online"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.dialogTableVisible=!0,e.goodsType=!1}}},[e._v("æ‰¹é‡æ·»åŠ å•†å“")]),a("span",{staticClass:"goods-in"},[e._v("å·²æ·»åŠ å•†å“ï¼š")]),a("span",{staticStyle:{color:"#41a5e1",cursor:"pointer"},on:{click:function(t){e.dialogTableVisible=!0,e.goodsType=!0}}},[e._v(e._s(e.addAmount))])],1)]],2),a("el-form-item",{attrs:{label:"é¢†å–äººï¼š",prop:"targetUsers"}},[a("el-radio-group",{attrs:{disabled:e.isDisabled,size:"mini"},model:{value:e.newCouponData.targetUsers,callback:function(t){e.$set(e.newCouponData,"targetUsers",t)},expression:"newCouponData.targetUsers"}},[a("el-radio",{attrs:{label:1}},[e._v("å…¨éƒ¨")]),a("el-radio",{attrs:{label:2}},[e._v("æ–°ç”¨æˆ·")])],1)],1),a("el-form-item",{attrs:{label:"é¢†å–é™åˆ¶ï¼š",prop:"order_number"}},[a("el-radio-group",{attrs:{disabled:e.isDisabled,size:"mini"},model:{value:e.newCouponData.order_number,callback:function(t){e.$set(e.newCouponData,"order_number",t)},expression:"newCouponData.order_number"}},[a("el-radio",{attrs:{label:-1}},[e._v("ä¸é™")]),a("div",{staticStyle:{"margin-top":"10px"}},[a("el-radio",{attrs:{label:2}},[e._v("æ¬¡æ•°")]),2==e.newCouponData.order_number?a("el-form-item",{staticStyle:{display:"inline-block"},attrs:{prop:"receiveLimit"}},[a("el-input",{staticStyle:{width:"100px"},attrs:{type:"text",disabled:e.isDisabled,placeholder:"1-99"},on:{input:function(t){return e.checkTel("receive",t)}},model:{value:e.newCouponData.receiveLimit,callback:function(t){e.$set(e.newCouponData,"receiveLimit","string"===typeof t?t.trim():t)},expression:"newCouponData.receiveLimit"}})],1):e._e()],1)],1)],1),a("el-form-item",{attrs:{label:"ä½¿ç”¨è¯´æ˜ï¼š",prop:"useDescription"}},[a("el-input",{staticStyle:{width:"300px"},attrs:{type:"textarea",autosize:{minRows:2,maxRows:4},placeholder:"è¯·è¾“å…¥å†…å®¹",maxlength:"60"},model:{value:e.newCouponData.useDescription,callback:function(t){e.$set(e.newCouponData,"useDescription",t)},expression:"newCouponData.useDescription"}})],1),a("el-form-item",{attrs:{label:"å¤‡æ³¨ï¼š"}},[a("el-input",{staticStyle:{width:"300px"},attrs:{type:"textarea",autosize:{minRows:2,maxRows:4},placeholder:"è¯·è¾“å…¥å†…å®¹",maxlength:"60"},model:{value:e.newCouponData.remarks,callback:function(t){e.$set(e.newCouponData,"remarks",t)},expression:"newCouponData.remarks"}})],1),a("div",{staticStyle:{width:"80%",margin:"0 auto","text-align":"center"}},[a("el-button",{staticStyle:{margin:"0 20px"},on:{click:function(t){return e.resetForm("newCouponData")}}},[e._v("å–æ¶ˆ")]),a("el-button",{staticStyle:{margin:"0 20px"},attrs:{type:"primary"},on:{click:function(t){return e.submitForm("newCouponData")}}},[e._v("ç¡®è®¤")])],1)],1)],1),a("el-dialog",{attrs:{title:"å•†å“åˆ—è¡¨",visible:e.dialogTableVisible,width:"90%"},on:{"update:visible":function(t){e.dialogTableVisible=t}}},[e.dialogTableVisible?a("goods-online",{attrs:{isdisabled:e.goodsType,couponid:e.newCouponData.id,operate:e.isDisabled},on:{"add-goods":e.addGoodsOnline}}):e._e()],1)],1)},i=[],s=(a("7f7f"),a("5d73")),r=a.n(s),o=a("e814"),l=a.n(o),c=(a("a481"),a("91bd")),u=a("ccd9"),p={name:"editCoupon",components:{goodsOnline:c["a"]},data:function(){var e=this,t=function(t,a,n){null==e.time_value?n(new Error("è¯·é€‰æ‹©æœ‰æ•ˆæœŸé™")):n()};return{newCoupon:!1,newCouponData:{id:"",couponName:"",totalCount:"",thresholdAmount:"",preferentialAmount:"",order_valid:0,periodType:"",periodStartTime:"",periodEndTime:"",applicableGoods:2,targetUsers:1,receiveLimit:"",useDescription:"",remarks:"",instructions:"0",thresholdType:0,order_number:1},rules:{couponName:[{required:!0,message:"è¯·è¾“å…¥ä¼˜æƒ åˆ¸åç§°ï¼",trigger:"blur"},{min:3,max:15,message:"é•¿åº¦3~15ä¸ªå­—ç¬¦",trigger:"blur"}],totalCount:{required:!0,message:"è¯·è¾“å…¥0-99999999æ•´æ•°ï¼",trigger:"blur"},thresholdType:{required:!0,message:"è¯·é€‰æ‹©ä½¿ç”¨æ¡ä»¶ï¼",trigger:"change"},preferentialAmount:{required:!0,message:"è¯·è¾“å…¥0.1-999999.99çš„æ•°å­—",trigger:"blur"},time_value:{validator:t,trigger:"blur"},periodType:{required:!0,message:"è¯·é€‰æ‹©å¤±æ•ˆå¤©æ•°ï¼",trigger:"blur"},thresholdAmount:{required:!0,message:"è¯·å¡«å†™æ»¡å‡é‡‘é¢ï¼",trigger:"blur"},receiveLimit:{required:!0,message:"è¯·å¡«å†™æ¬¡æ•°ï¼",trigger:"blur"},applicableGoods:{required:!0,message:"è¯·é€‰æ‹©é€‚ç”¨å•†å“ï¼",trigger:"change"},targetUsers:{required:!0,message:"è¯·é€‰æ‹©é¢†åˆ¸äººï¼",trigger:"change"},order_number:{required:!0,message:"è¯·é€‰æ‹©é¢†å–é™åˆ¶ï¼",trigger:"change"},useDescription:{required:!0,message:"è¯·å¡«å†™ä½¿ç”¨è¯´æ˜ï¼",trigger:"blur"}},newCouponLoading:!1,isShowAdem:!0,down:"#",time_value:null,addAmount:0,dialogTableVisible:!1,goodsType:!1,isDisabled:!1}},methods:{addGoodsOnline:function(e){this.$message.success(e),this.dialogTableVisible=!1,this.getAmount()},getAmount:function(){var e=this;this.$api.get("hd/itzCouponGoods/page/list",{couponId:this.newCouponData.id,page:1,limit:10},function(t){200==t.status&&(e.addAmount=t.data.total)})},getList:function(){var e=this;this.$api.get("hd/itzCoupon/info/".concat(this.$route.params.id),null,function(t){200==t.status&&(e.addAmount=t.data.count,e.newCouponData.couponName=t.data.coupon.couponName,e.newCouponData.totalCount=t.data.coupon.totalCount,e.newCouponData.thresholdType=t.data.coupon.thresholdType,e.newCouponData.thresholdAmount=1==t.data.coupon.thresholdType?t.data.coupon.thresholdAmount:"",e.newCouponData.preferentialAmount=t.data.coupon.preferentialAmount,e.newCouponData.periodType=0==t.data.coupon.periodType?"":t.data.coupon.periodType,e.newCouponData.targetUsers=t.data.coupon.targetUsers,e.newCouponData.receiveLimit=-1==t.data.coupon.receiveLimit?"":t.data.coupon.receiveLimit,e.newCouponData.useDescription=t.data.coupon.useDescription,e.newCouponData.remarks=t.data.coupon.remarks,e.newCouponData.order_valid=0==t.data.coupon.periodType?0:2,e.newCouponData.order_number=-1==t.data.coupon.receiveLimit?-1:2,e.time_value=0==t.data.coupon.periodType?[1e3*t.data.coupon.periodStartTime,1e3*t.data.coupon.periodEndTime]:null,e.optTime())})},checkTel:function(e,t){"coupon"==e?this.newCouponData.couponName=this.utils.checkTel("15",t):"amount"==e?this.newCouponData.totalCount=this.utils.checkTel("8",t).replace(/[^\d]+/g,""):"reduction"==e?this.newCouponData.thresholdAmount=this.utils.checkTel("9",t).replace(/^\D*([1-9]\d*\.?\d{0,2})?.*$/,"$1"):"couponPro"==e?this.newCouponData.preferentialAmount=this.utils.checkTel("9",t).replace(/^\D*([1-9]\d*\.?\d{0,2})?.*$/,"$1"):"timeDay"==e?this.newCouponData.periodType=this.utils.checkTel("3",t).replace(/[^\d]+/g,""):"receive"==e&&(this.newCouponData.receiveLimit=this.utils.checkTel("2",t).replace(/[^\d]+/g,""))},optTime:function(){var e=this.time_value?this.time_value:[];e.length>0?(this.newCouponData.periodStartTime=this.utils.format_date(e[0],"-1")/1e3,this.newCouponData.periodEndTime=this.utils.format_date(e[1],"-1")/1e3):(this.newCouponData.periodStartTime="",this.newCouponData.periodEndTime="")},submit:function(e){var t=this;0==this.newCouponData.thresholdType&&(this.newCouponData.thresholdAmount=""),2==this.newCouponData.order_valid?(this.newCouponData.periodStartTime=l()((new Date).getTime()/1e3),this.newCouponData.periodEndTime=0):0==this.newCouponData.order_valid&&(this.newCouponData.periodType=0),-1==this.newCouponData.order_number&&(this.newCouponData.receiveLimit=-1),this.newCouponLoading=!0,this.$api.put("hd/itzCoupon/"+this.newCouponData.id,this.newCouponData,function(e){200===e.status&&(t.newCoupon=!1,t.newCouponLoading=!1,t.$message.success("ä¿®æ”¹æˆåŠŸï¼"),setTimeout(function(){t.$router.push({name:"couponList"})},2e3))},function(e){t.$message.error(e),t.newCouponLoading=!1})},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){return e?2==t.newCouponData.applicableGoods&&0==t.addAmount?(t.$message.error("è¯·æ·»åŠ å•†å“ï¼"),!1):void t.submit():(console.log("error submit!!"),!1)})},resetForm:function(e){this.newCoupon=!1,this.$refs[e].resetFields(),this.$router.push({name:"couponList"})},ossUpload:function(e){var t=this,a=e.target.files,n=!0,i=!1,s=void 0;try{for(var o,l=r()(a);!(n=(o=l.next()).done);n=!0){var c=o.value;if(c.name&&-1==c.name.indexOf(".csv"))return t.$message.error("è¯·ä¸Šä¼  .CSV æ–‡ä»¶"),!1}}catch(p){i=!0,s=p}finally{try{n||null==l.return||l.return()}finally{if(i)throw s}}t.online_loading=!0;var u=new FormData;u.append("goodsFile",a[0]),u.append("id",this.newCouponData.id),t.newCouponLoading=!0,t.$api.post("hd/itzCoupon/goods/csv",u,function(e){200===e.status&&(t.newCouponLoading=!1,t.$message.success("æ–‡ä»¶ä¸Šä¼ æˆåŠŸï¼"),t.$refs.referenceUpload.value=null,t.getAmount())},function(e){console.log(e),t.newCouponLoading=!1})}},created:function(){for(var e in this.isDisabled=1==this.$route.params.status,this.newCouponData.id=this.$route.params.id,this.getList(),u["a"])"hd/"==u["a"][e].key&&(this.down=u["a"][e].val+"/coupon-template(UTF-8).csv")}},m=p,d=(a("ae3a"),a("2877")),f=Object(d["a"])(m,n,i,!1,null,"5472477c",null);t["default"]=f.exports},"79ba":function(e,t,a){"use strict";a.d(t,"b",function(){return n}),a.d(t,"c",function(){return i}),a.d(t,"a",function(){return s});var n=["å¾…æ”¯ä»˜","å¾…å‘è´§","é…é€ä¸­","å¾…è¯„ä»·","å·²å®Œæˆ","å·²å–æ¶ˆ","é…è´§ä¸­"],i=[{name:"ä»Š",value:0},{name:"æ˜¨",value:1},{name:"è¿‘7å¤©",value:7},{name:"è¿‘30å¤©",value:30}],s=[{id:1,name:"å¾…å¯¹è´¦"},{id:2,name:"å¯¹è´¦ä¸­"},{id:3,name:"å·²å®Œæˆ"}]},"7ceb":function(e,t,a){"use strict";var n=a("80af"),i=a.n(n);i.a},"7d7b":function(e,t,a){var n=a("e4ae"),i=a("7cd6");e.exports=a("584a").getIterator=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return n(t.call(e))}},"7de9":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("page-title",{attrs:{"first-title":"ç½‘è´·å¹³å°åˆ—è¡¨"}}),a("div",{staticClass:"button-wrapper"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.activityAdd("add")}}},[e._v("æ·»åŠ å¹³å°")])],1),a("div",{staticClass:"search-wrapper"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[a("el-form-item",{attrs:{label:"å¹³å°åç§°"}},[a("el-input",{attrs:{placeholder:"å¹³å°åç§°"},model:{value:e.params.partnerName,callback:function(t){e.$set(e.params,"partnerName",t)},expression:"params.partnerName"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(t){return e.getActivityList()}}},[e._v("æœç´¢")]),a("el-button",{attrs:{type:"primary",icon:"el-icon-refresh"},on:{click:function(t){return e.clear()}}},[e._v("æ¸…ç©º")])],1),a("el-form-item",{staticStyle:{float:"right"}},[a("el-button",{attrs:{type:"primary"}},[a("a",{staticStyle:{color:"#fff"},attrs:{href:e.down,download:"å‡ºå€Ÿäººæ¨¡æ¿.csv"}},[e._v("ä¸‹è½½å‡ºå€Ÿäººæ¨¡æ¿")])])],1)],1)],1),a("div",{staticClass:"list-wrapper"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.online_loading,expression:"online_loading"}],staticStyle:{width:"100%"},attrs:{data:e.onlineArr,stripe:"","header-cell-style":{background:"#eef1f6"}}},[a("el-table-column",{attrs:{align:"center",type:"index",label:"åºå·"}}),a("el-table-column",{attrs:{align:"center",prop:"partnerId",label:"ID"}}),a("el-table-column",{attrs:{align:"center",prop:"account",label:"è´¦å·"}}),a("el-table-column",{attrs:{align:"center",prop:"partnerName",label:"ç½‘è´·å¹³å°"}}),a("el-table-column",{attrs:{align:"center",prop:"mobile",label:"æ‰‹æœºå·"}}),a("el-table-column",{attrs:{align:"center",prop:"useToken",label:"å·²ä»£ä»˜æ•°é¢"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("router-link",{attrs:{to:{name:"paymentDetails",params:{partners:t.row.partnerName}}}},[a("span",[e._v(e._s(t.row.useToken))])])]}}])}),a("el-table-column",{attrs:{align:"center",prop:"token",label:"æµ£è±†ä½™é¢"}}),a("el-table-column",{attrs:{align:"center",prop:"lendNum",label:"å‡ºå€Ÿäººæ•°"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("router-link",{attrs:{to:{name:"lenderLists",params:{partners:t.row.partnerName}}}},[a("span",[e._v(e._s(t.row.lendNum))])])]}}])}),a("el-table-column",{attrs:{align:"center",prop:"createdAt",label:"æ·»åŠ æ—¶é—´"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.utils.format_date(t.row.createdAt)))])]}}])}),a("el-table-column",{attrs:{align:"center",label:"æ“ä½œ"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticClass:"input-box",attrs:{type:"text",size:"small"}},[e._v("\n            å¯¼å…¥å‡ºå€Ÿäºº\n            "),a("input",{attrs:{type:"file"},on:{change:function(a){return e.ossUpload(a,t.row)}}})]),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.editTokenClick(t.row)}}},[e._v("å¢å‡æµ£è±†")]),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.activityAdd("edit",t.row)}}},[e._v("ç¼–è¾‘")])]}}])})],1)],1),a("el-pagination",{attrs:{background:"","current-page":e.currentPage,"page-size":e.params.limit,layout:"prev, pager, next, jumper",total:e.total},on:{"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t}}}),e.addPlatform?a("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:e.addPlatform_loading,expression:"addPlatform_loading"}],attrs:{title:e.titleName,visible:e.addPlatform,width:"40%","close-on-click-modal":!1},on:{"update:visible":function(t){e.addPlatform=t}}},[a("el-form",{ref:"form",attrs:{model:e.add_Platform,"label-width":"100px",size:"mini"}},[a("el-form-item",{attrs:{label:"ç½‘è´·å¹³å°ï¼š"}},[a("el-input",{staticStyle:{width:"60%"},attrs:{type:"text"},model:{value:e.add_Platform.partnerName,callback:function(t){e.$set(e.add_Platform,"partnerName","string"===typeof t?t.trim():t)},expression:"add_Platform.partnerName"}})],1),a("el-form-item",{attrs:{label:"è´¦å·ï¼š"}},[a("el-input",{staticStyle:{width:"60%"},attrs:{type:"text",disabled:"edit"==e.add_Platform.istype},model:{value:e.add_Platform.account,callback:function(t){e.$set(e.add_Platform,"account","string"===typeof t?t.trim():t)},expression:"add_Platform.account"}})],1),a("el-form-item",{attrs:{label:"åˆå§‹å¯†ç ï¼š"}},[a("el-input",{staticStyle:{width:"60%"},attrs:{type:"text"},model:{value:e.add_Platform.password,callback:function(t){e.$set(e.add_Platform,"password","string"===typeof t?t.trim():t)},expression:"add_Platform.password"}})],1),a("el-form-item",{attrs:{label:"å¯†ç ç¡®è®¤ï¼š"}},[a("el-input",{staticStyle:{width:"60%"},attrs:{type:"text"},model:{value:e.add_Platform.passwordConfirm,callback:function(t){e.$set(e.add_Platform,"passwordConfirm","string"===typeof t?t.trim():t)},expression:"add_Platform.passwordConfirm"}})],1),a("el-form-item",{attrs:{label:"æ‰‹æœºå·ï¼š"}},[a("el-input",{staticStyle:{width:"60%"},attrs:{type:"number"},on:{input:function(t){return e.checkTel("phone",t)}},model:{value:e.add_Platform.mobile,callback:function(t){e.$set(e.add_Platform,"mobile","string"===typeof t?t.trim():t)},expression:"add_Platform.mobile"}})],1),"edit"!=e.add_Platform.istype?a("el-form-item",{attrs:{label:"èµ é€æµ£è±†ï¼š"}},[a("el-input",{staticStyle:{width:"60%"},attrs:{type:"number"},on:{input:function(t){return e.checkTel("token",t)}},model:{value:e.add_Platform.token,callback:function(t){e.$set(e.add_Platform,"token","string"===typeof t?t.trim():t)},expression:"add_Platform.token"}})],1):e._e(),a("div",{staticClass:"antion-footer"},[a("el-button",{on:{click:function(t){e.addPlatform=!1}}},[e._v("å– æ¶ˆ")]),a("el-button",{attrs:{type:"primary",loading:e.addBtn},on:{click:e.submit}},[e._v("ç¡® å®š")])],1)],1)],1):e._e(),e.kidneyBean?a("el-dialog",{attrs:{title:"ä¿®æ”¹æµ£è±†",visible:e.kidneyBean,width:"30%","close-on-click-modal":!1},on:{"update:visible":function(t){e.kidneyBean=t}}},[a("el-form",{ref:"form",attrs:{model:e.editToken,"label-width":"100px",size:"mini"}},[a("el-form-item",{attrs:{label:"æµ£è±†ï¼š"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{type:"number",placeholder:"è¾“å…¥è´Ÿæ•°ä¸ºå‡å°‘æµ£è±†",maxlength:"8"},on:{input:function(t){return e.checkTel("token",t)}},model:{value:e.editToken.token,callback:function(t){e.$set(e.editToken,"token","string"===typeof t?t.trim():t)},expression:"editToken.token"}})],1),a("div",{staticClass:"antion-footer"},[a("el-button",{on:{click:function(t){e.kidneyBean=!1}}},[e._v("å– æ¶ˆ")]),a("el-button",{attrs:{type:"primary",loading:e.editBtn},on:{click:e.increaseOrDecrease}},[e._v("ç¡® å®š")])],1)],1)],1):e._e()],1)},i=[],s=(a("7f7f"),a("5d73")),r=a.n(s),o=a("f499"),l=a.n(o),c=(a("a481"),a("ccd9")),u={name:"RetailActivityList",data:function(){return{onlineArr:[],currentPage:1,params:{partnerName:"",page:1,limit:10},add_Platform:{partnerName:"",token:"",account:"",password:"",passwordConfirm:"",mobile:"",partnerId:""},total:0,addPlatform_loading:!1,addPlatform:!1,kidneyBean:!1,addBtn:!1,editBtn:!1,editToken:{token:"",partnerId:""},fileList3:[],titleName:"",online_loading:!1,down:""}},created:function(){for(var e in this.getActivityList(),c["a"])"hd/"==c["a"][e].key&&(this.down=c["a"][e].val+"/template(UTF-8).csv")},methods:{checkTel:function(e,t){"phone"==e?this.add_Platform.mobile.length>11&&(this.add_Platform.mobile=this.add_Platform.mobile.slice(0,11)):"token"==e&&(0==t&&(this.editToken.token=""),this.editToken.token.length>8&&(this.editToken.token=this.editToken.token.slice(0,8)))},replaceDatas:function(e){for(var t in e)""!=e[t]&&null!=e[t]||delete e[t]},getActivityList:function(){var e=this;this.replaceDatas(this.params);var t=l()(this.params).replace(/:/g,"=").replace("{","").replace("}","").replace(/,/g,"&").replace(/"/g,"").replace(/\s+/g,"");this.$api.get("hd/itzPartner/page/list?"+t,null,function(t){200===t.status&&(e.onlineArr=t.data.rows,e.$set(e.onlineArr,t.data.rows),e.total=t.data.total)})},handleCurrentChange:function(e){this.params.page=e,this.getActivityList()},activityAdd:function(e,t){console.log(t),"add"==e?(this.add_Platform={istype:"add",partnerName:"",token:"",account:"",password:"",passwordConfirm:"",mobile:"",partnerId:""},this.titleName="æ·»åŠ å¹³å°"):"edit"==e&&(this.add_Platform={istype:"edit",partnerName:t.partnerName,token:t.token,account:t.account,password:"",passwordConfirm:"",mobile:t.mobile,partnerId:t.partnerId},this.titleName="ä¿®æ”¹å¹³å°"),this.addPlatform=!0},clear:function(){this.page=1,this.limit=10;var e=this.params;e.partnerName="",this.getActivityList()},ossUpload:function(e,t){var a=this;console.log(e.target.files,t);var n=this,i=e.target.files,s=!0,o=!1,l=void 0;try{for(var c,u=r()(i);!(s=(c=u.next()).done);s=!0){var p=c.value;p.name&&-1==!p.name.indexOf(".csv")&&n.$message.error(".CSV æ–‡ä»¶")}}catch(d){o=!0,l=d}finally{try{s||null==u.return||u.return()}finally{if(o)throw l}}n.online_loading=!0;var m=new FormData;m.append("file",i[0]),n.$api.post("hd/upload/"+t.partnerId,m,function(e){console.log(e),200===e.status&&(n.online_loading=!1,n.$message.success("æ–‡ä»¶ä¸Šä¼ æˆåŠŸï¼"),a.getActivityList())})},editTokenClick:function(e){console.log(e),this.kidneyBean=!0,this.editToken={token:"",partnerId:e.partnerId}},increaseOrDecrease:function(){var e=this;this.editBtn=!0;var t=this.editToken;return this.editToken.token?this.editToken.token&&this.editToken.token.length>8?(this.$message.error("æµ£è±†æœ€å¤§æ•°é‡æ”¯æŒå…«ä½æ•°ï¼"),!1):void this.$api.put("hd/itzPartner/huandou",t,function(t){console.log(t),200===t.status&&(e.$message.success("æ–°å¢æˆåŠŸ"),e.editBtn=!1,e.kidneyBean=!1,e.getActivityList())}):(this.$message.error("æµ£è±†æ•°é‡ä¸èƒ½ä¸ºç©ºï¼"),!1)},submit:function(){var e=this;if("add"==this.add_Platform.istype){if(!this.add_Platform.partnerName)return this.$message.error("åˆä½œå¹³å°åç§°ä¸èƒ½ä¸ºç©ºï¼"),!1;if(!this.add_Platform.account)return this.$message.error("åˆä½œè´¦å·ä¸èƒ½ä¸ºç©ºï¼"),!1;if(!this.add_Platform.account)return this.$message.error("å¹³å°è´¦å·ä¸èƒ½ä¸ºç©ºï¼"),!1;if(!this.add_Platform.password)return this.$message.error("å¯†ç ä¸èƒ½ä¸ºç©ºï¼"),!1;if(this.add_Platform.password!=this.add_Platform.passwordConfirm)return this.$message.error("ä¸¤æ¬¡è¾“å…¥çš„å¯†ç ä¸ä¸€è‡´ï¼"),!1;var t=/^1[3456789]\d{9}$/;if(!this.add_Platform.mobile)return this.$message.error("è¯·è¾“å…¥æ‰‹æœºå·ï¼"),!1;if(!t.test(this.add_Platform.mobile))return this.$message.error("æ‰‹æœºå·æ ¼å¼ä¸æ­£ç¡®ï¼"),!1;if(!this.add_Platform.token)return this.$message.error("æµ£è±†æ•°é‡ä¸èƒ½ä¸ºç©ºï¼"),!1;if(this.add_Platform.token&&this.add_Platform.token.length>8)return this.$message.error("æµ£è±†æœ€å¤§æ•°é‡æ”¯æŒå…«ä½æ•°ï¼"),!1;var a=this.add_Platform;this.addBtn=!0,this.$api.post("hd/itzPartner/info",a,function(t){console.log(t),200===t.status&&(e.$message.success("æ–°å¢æˆåŠŸ"),e.addBtn=!1,e.addPlatform=!1,e.getActivityList())})}else if("edit"==this.add_Platform.istype){this.addBtn=!0;var n=this.add_Platform;this.$api.put("hd/itzPartner/info",n,function(t){200===t.status&&(e.$message.success("ä¿®æ”¹å®Œæˆï¼"),e.addBtn=!1,e.addPlatform=!1,e.getActivityList())})}}},watch:{addPlatform:function(e){var t=this;!1!==e&&"false"!==e||(console.log("é‡ç½®add_Platform"),t.add_Platform={istype:"",partnerName:"",token:"",account:"",password:"",passwordConfirm:"",mobile:"",partnerId:""},t.addBtn=!1)},kidneyBean:function(e){var t=this;!1!==e&&"false"!==e||(console.log("ä¿®æ”¹æµ£è±†"),t.editToken={token:"",partnerId:""},t.editBtn=!1)}}},p=u,m=(a("c819"),a("2877")),d=Object(m["a"])(p,n,i,!1,null,"1f39fe6a",null);t["default"]=d.exports},"80af":function(e,t,a){},8455:function(e,t,a){},"8afe":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"income-table-container"},[a("div",{staticClass:"left-cash"},[a("el-row",[a("el-col",{attrs:{span:12}},[e._v("ç°é‡‘æ”¶å…¥é‡‘é¢")]),a("el-col",{attrs:{span:12}},[e._v(e._s(e.cash))])],1)],1),1==e.cooperateType?a("div",{staticClass:"right-hb"},[a("el-row",[a("el-col",{attrs:{span:12}},[e._v("ç§¯åˆ†æ”¶å…¥é‡‘é¢")]),a("el-col",{attrs:{span:12}},[e._v(e._s(e.huanbi))])],1)],1):e._e()])},i=[],s=a("cebc"),r=a("2f62"),o={name:"",props:["cash","huanbi"],data:function(){return{}},computed:Object(s["a"])({},Object(r["c"])({cooperateType:function(e){return e.suppliers.cooperateType}})),created:function(){},methods:{}},l=o,c=(a("a1c2"),a("2877")),u=Object(c["a"])(l,n,i,!1,null,"09854508",null);t["a"]=u.exports},"8c01":function(e,t,a){},"8ff2":function(e,t,a){"use strict";var n=a("5c4c"),i=a.n(n);i.a},9009:function(e,t,a){},"90f8":function(e,t,a){"use strict";var n=a("8455"),i=a.n(n);i.a},9141:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wait-confirm-detail-container"},[a("page-title",{attrs:{"first-title":"å¯¹è´¦å•åˆ—è¡¨","second-title":"è¯¦æƒ…"}}),a("div",{staticClass:"total-wrapper"},[a("div",{staticClass:"account-info"},[a("div",{staticClass:"account-left"},[e._v("çŠ¶æ€ï¼š"+e._s(e.fmtStatus(e.infoData.status)))]),a("div",{staticClass:"account-right"},[a("span",[e._v("å¯¹è´¦å•ç¼–å·ï¼š")]),a("span",[e._v(e._s(e.infoData.multi_statement_id))]),a("span",{staticClass:"settle-time"},[e._v("ç»“ç®—æ—¶é—´ï¼š")]),a("span",[e._v(e._s(e._f("convertTime")(1e3*e.infoData.settlement_start))+" â€”â€”\n          "+e._s(e._f("convertTime")(1e3*e.infoData.settlement_end)))])])]),e.infoData.multi_statement_id?a("v-total",{attrs:{info:e.infoData}}):e._e(),e.infoData.status&&4!=e.infoData.status?a("div",{staticClass:"btn-box"},[e.isOperater?a("el-button",{attrs:{type:"warning"},on:{click:e.goEdit}},[e._v("é‡æ–°ç¼–è¾‘")]):e._e(),e.isSuppliers||e.isFinance?a("el-button",{attrs:{type:"warning"},on:{click:e.hasDiff}},[e._v("æœ‰å¼‚è®®")]):e._e(),e.isOperater||e.isSuppliers||e.isFinance?a("el-button",{attrs:{type:"primary"},on:{click:e.confirm}},[e._v("ç¡®è®¤")]):e._e()],1):e._e()],1),a("div",{staticClass:"bill-detail-wrapper"},[a("div",{staticClass:"account-info"},[a("div",{staticClass:"account-right"},[a("span",{staticClass:"title"},[e._v("è´¦å•æ˜ç»†")]),a("span",[e._v("æ—¥è´¦å•ç¼–å·ï¼š")]),e.infoData.statement_no?a("span",[e._v(e._s(e.infoData.statement_no.join(", ")))]):e._e()])]),a("div",{staticClass:"btn-box"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.exportSettlement}},[e._v("å¯¼å‡ºè´¦å•")])],1),a("el-tabs",{on:{"tab-click":e.changeTab},model:{value:e.params.type,callback:function(t){e.$set(e.params,"type",t)},expression:"params.type"}},[a("el-tab-pane",{attrs:{label:"è®¢å•æ€»æ”¶å…¥",name:"1"}},[a("el-table",{attrs:{data:e.listData,border:"",stripe:"","header-cell-style":{background:"#eef1f6"}}},[a("el-table-column",{attrs:{prop:"order_sn",label:"è®¢å•å·"}}),a("el-table-column",{attrs:{prop:"add_time",label:"ä¸‹å•æ—¶é—´",formatter:e.fmtTime}}),a("el-table-column",{attrs:{label:"æ”¯ä»˜é‡‘é¢ï¼ˆå…ƒï¼‰"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.order_type?a("span",[e._v(e._s(t.row.total_amount))]):a("span",[e._v(e._s(t.row.goods_amount))])]}}])}),a("el-table-column",{attrs:{label:"æ”¯ä»˜ç°é‡‘é¢ï¼ˆå…ƒï¼‰"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.order_type?a("span",[e._v(e._s(t.row.real_money_paid))]):a("span",[e._v(e._s(t.row.money_paid))])]}}])}),1==e.cooperateType?a("el-table-column",{attrs:{label:"æ”¯ä»˜ç§¯åˆ†é¢"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.order_type?a("span",[e._v(e._s(t.row.real_surplus))]):a("span",[e._v(e._s(t.row.surplus))])]}}],null,!1,4031455201)}):e._e(),a("el-table-column",{attrs:{prop:"real_cash_back",label:"ç°é‡‘é€€æ¬¾"}}),1==e.cooperateType?a("el-table-column",{attrs:{prop:"real_surplus_back",label:"ç§¯åˆ†é€€æ¬¾"}}):e._e(),a("el-table-column",{attrs:{prop:"shipping_fee",label:"è¿è´¹"}}),a("el-table-column",{attrs:{prop:"showStatus",label:"è®¢å•çŠ¶æ€"}}),a("el-table-column",{attrs:{label:"æ“ä½œ"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.goDetail(t.row.order_id)}}},[e._v("æŸ¥çœ‹")])]}}])})],1)],1),a("el-tab-pane",{attrs:{label:"è®¢å•æ€»æ”¯å‡º",name:"2"}},[a("el-table",{attrs:{data:e.listData,border:"",stripe:"","header-cell-style":{background:"#eef1f6"}}},[a("el-table-column",{attrs:{prop:"order_sn",label:"è®¢å•å·"}}),a("el-table-column",{attrs:{prop:"add_time",label:"ä¸‹å•æ—¶é—´",formatter:e.fmtTime}}),a("el-table-column",{attrs:{prop:"totalBack",label:"æ”¯å‡ºé‡‘é¢ï¼ˆå…ƒï¼‰"}}),a("el-table-column",{attrs:{prop:"cash_back",label:"æ”¯å‡ºç°é‡‘é¢ï¼ˆå…ƒï¼‰"}}),1==e.cooperateType?a("el-table-column",{attrs:{prop:"surplus_back",label:"æ”¯å‡ºç§¯åˆ†é¢"}}):e._e(),a("el-table-column",{attrs:{prop:"showStatus",label:"è®¢å•çŠ¶æ€"}}),a("el-table-column",{attrs:{label:"æ“ä½œ"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.goDetail(t.row.order_id)}}},[e._v("æŸ¥çœ‹")])]}}])})],1)],1)],1),a("el-pagination",{attrs:{background:"","current-page":e.params.page,layout:"prev, pager, next, jumper",total:e.total},on:{"current-change":e.handleCurrentChange,"update:currentPage":function(t){return e.$set(e.params,"page",t)},"update:current-page":function(t){return e.$set(e.params,"page",t)}}})],1),a("div",{staticClass:"operate-wrapper"},[a("a",{on:{click:e.switchOperate}},[e._v("æ“ä½œè¯¦æƒ…")]),e.showOperate?a("v-operate",{attrs:{actionlist:e.actionList}}):e._e()],1),a("div",{staticClass:"different-idea"},[a("el-dialog",{attrs:{visible:e.showDialog,title:e.isFinance&&!e.isFinanceHasDiff?"è¯·å¡«å†™å¤‡æ³¨":"æäº¤åæ‚¨çš„å¯¹è´¦å•å°†é€€å›è‡³è¿è¥"},on:{"update:visible":function(t){e.showDialog=t}}},[a("div",{staticClass:"idea-content"},[a("span",{staticStyle:{color:"red","margin-right":"10px"}},[e._v("*")]),a("el-input",{attrs:{type:"textarea",placeholder:"è¯·å¡«å†™å¤‡æ³¨ï¼Œ100å­—ä»¥å†…"},model:{value:e.remark,callback:function(t){e.remark=t},expression:"remark"}})],1),a("div",{staticClass:"btn-box"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.submitDiff}},[e._v("æäº¤")]),a("el-button",{attrs:{type:"default",size:"small"},on:{click:function(t){e.showDialog=!1}}},[e._v("å–æ¶ˆ")])],1)])],1)],1)},i=[],s=(a("7f7f"),a("cebc")),r=a("9d62"),o=a("a2e3"),l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"operate-record-container"},[a("el-table",{attrs:{data:e.actionlist,border:"",stripe:"","header-cell-style":{background:"#eef1f6"}}},[a("el-table-column",{attrs:{label:"æ—¥æœŸ",prop:"addtime",formatter:e.fmtTime}}),a("el-table-column",{attrs:{label:"æ“ä½œäºº",prop:"user_name"}}),a("el-table-column",{attrs:{label:"æ“ä½œ",prop:"action"}}),a("el-table-column",{attrs:{label:"å¤‡æ³¨",prop:"remark"}})],1)],1)},c=[],u={name:"",props:["actionlist"],data:function(){return{}},computed:{},created:function(){},methods:{fmtTime:function(e,t,a){return this.utils.formatDate("YYYY-MM-DD HH:mm:ss",1e3*a)}}},p=u,m=(a("ce70"),a("2877")),d=Object(m["a"])(p,l,c,!1,null,"06d39de1",null),f=d.exports,h=a("8afe"),b=a("21a6"),_=a("2f62"),v=a("fef7"),g={name:"",data:function(){return{params:{multi_statement_id:this.$route.query.id||"",type:"1",page:1,size:10},total:0,infoData:{},incomeData:[],expendData:[],listData:[],actionList:[],showOperate:!1,showDialog:!1,remark:"",statusList:v["g"],isFinanceHasDiff:!1}},components:{"v-total":o["a"],"v-operate":f,"v-income":h["a"]},computed:Object(s["a"])({},Object(_["c"])({role:function(e){return e.settle.role},cooperateType:function(e){return e.suppliers.cooperateType},suppliers_id:function(e){return e.suppliers.suppliers_id}}),{isOperater:function(){return("all"==this.role||"operater"==this.role)&&1==this.infoData.status},isSuppliers:function(){return("all"==this.role||"supplier"==this.role)&&2==this.infoData.status},isFinance:function(){return("all"==this.role||"finance"==this.role)&&3==this.infoData.status}}),created:function(){this.getInfo(),this.getList(),this.getAction()},methods:{getInfo:function(){var e=this;Object(r["r"])(this.params.multi_statement_id).then(function(t){e.infoData=t||{}})},getList:function(){var e=this;Object(r["p"])(this.params).then(function(t){e.total=t.paged.total,e.listData=t.list})},getAction:function(){var e=this;Object(r["k"])({multi_statement_id:this.params.multi_statement_id}).then(function(t){e.actionList=t||[]})},switchOperate:function(){this.showOperate=!this.showOperate},goEdit:function(){this.$router.push({name:"SettlementAdd",params:{id:this.params.multi_statement_id},query:{isedit:!0}})},goDetail:function(e){window.location.href="/admin/order.php?act=info&order_id="+e},exportSettlement:function(){var e=this;Object(r["e"])({suppliers_id:this.suppliers_id,multi_statement_id:this.params.multi_statement_id}).then(function(t){var a=e.utils.formatDate("YYYY-MM-DD",(new Date).getTime());Object(b["saveAs"])(new Blob([t.data]),t.filename||a+"ç»“ç®—å•.xls")},function(e){console.log(e)})},changeTab:function(){this.getList()},handleCurrentChange:function(){this.getList()},fmtTime:function(e,t,a){return this.utils.formatDate("YYYY-MM-DD HH:mm:ss",1e3*a)},submitDiff:function(){var e=this;this.remark?this.isFinance&&!this.isFinanceHasDiff?Object(r["g"])({multi_statement_id:this.params.multi_statement_id,remit_log:this.remark}).then(function(t){e.$message.success("ç¡®è®¤æˆåŠŸ"),e.showDialog=!1,e.isFinanceHasDiff=!1,e.getInfo(),e.getAction()},function(t){e.$message.error(t.errorMsg)}):this.isFinance&&this.isFinanceHasDiff?Object(r["h"])({multi_statement_id:this.params.multi_statement_id,remark:this.remark}).then(function(t){e.$message.success("å·²é€€å›è‡³è¿è¥"),e.showDialog=!1,e.getInfo(),e.getAction()},function(t){e.$message.error(t.errorMsg)}):Object(r["s"])({multi_statement_id:this.params.multi_statement_id,remark:this.remark}).then(function(t){e.$message.success("å·²é€€å›è‡³è¿è¥"),e.showDialog=!1,e.getInfo(),e.getAction()},function(t){e.$message.error(t.errorMsg)}):this.$message.error("è¯·å¡«å†™åŸå› ")},hasDiff:function(){this.showDialog=!0,this.isFinance&&(this.isFinanceHasDiff=!0)},confirm:function(){var e=this,t={multi_statement_id:this.params.multi_statement_id};this.isOperater?Object(r["t"])(t).then(function(t){e.$message.success("ç¡®è®¤æˆåŠŸ"),e.getInfo(),e.getAction()}):this.isFinance?(this.showDialog=!0,this.isFinanceHasDiff=!1):Object(r["c"])(t).then(function(t){e.$message.success("ç¡®è®¤æˆåŠŸ"),e.getInfo(),e.getAction()})},fmtStatus:function(e){var t="";return this.statusList.forEach(function(a){a.value==e&&(t=a.name)}),t}}},y=g,w=(a("c0e0"),Object(m["a"])(y,n,i,!1,null,"00b9dd48",null));t["default"]=w.exports},"91bd":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("el-tabs",{attrs:{type:"card"},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"å…¨éƒ¨å•†å“",name:"a",disabled:e.isdisabled}}),a("el-tab-pane",{attrs:{label:"å·²æ·»åŠ å•†å“",name:"b",disabled:!e.isdisabled}})],1),a("div",{staticClass:"search-wrapper"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.searchParams}},[a("el-form-item",{attrs:{label:"å•†å“è´§å·"}},[a("el-input",{attrs:{placeholder:"å•†å“è´§å·"},model:{value:e.searchParams.goodsSn,callback:function(t){e.$set(e.searchParams,"goodsSn",t)},expression:"searchParams.goodsSn"}})],1),a("el-form-item",{attrs:{label:"å•†å“åç§°"}},[a("el-input",{attrs:{placeholder:"å•†å“åç§°"},model:{value:e.searchParams.goodsName,callback:function(t){e.$set(e.searchParams,"goodsName",t)},expression:"searchParams.goodsName"}})],1),e.merchant?a("el-form-item",{attrs:{label:"å•†å®¶"}},[a("el-input",{attrs:{placeholder:"å•†å®¶"},model:{value:e.searchParams.suppliersName,callback:function(t){e.$set(e.searchParams,"suppliersName",t)},expression:"searchParams.suppliersName"}})],1):e._e(),a("el-form-item",{attrs:{label:"å•†å“åˆ†ç±»"}},[a("el-cascader",{attrs:{options:e.options,placeholder:"å•†å“åˆ†ç±»",clearable:""},on:{change:e.handleChange},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.search}},[e._v("æŸ¥è¯¢")]),a("el-button",{on:{click:e.clear}},[e._v("æ¸…ç©º")])],1)],1)],1),a("div",{staticClass:"button-wrapper"},[e.isdisabled?e._e():a("el-button",{attrs:{type:"primary"},on:{click:e.addMore}},[e._v("æ‰¹é‡æ·»åŠ ")]),!e.operate&&e.isdisabled?a("el-button",{attrs:{type:"primary"},on:{click:e.removeMore}},[e._v("æ‰¹é‡ç§»é™¤")]):e._e()],1),a("div",{staticClass:"list-wrapper"},[a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.list,"row-key":e.getRowKeys},on:{"selection-change":e.handleSelectionChange}},[e.operate?e._e():a("el-table-column",{attrs:{type:"selection","reserve-selection":!0,selectable:e.checkSelectable,width:"55"}}),a("el-table-column",{attrs:{prop:"goodsId",label:"ç¼–å·",width:"100"}}),a("el-table-column",{attrs:{prop:"goodsName",label:"å•†å“åç§°"}}),a("el-table-column",{attrs:{prop:"goodsSn",label:"è´§å·",width:"100"}}),a("el-table-column",{attrs:{prop:"marketPrice",label:"ä»·æ ¼"}}),a("el-table-column",{attrs:{prop:"goodsNumber",label:"åº“å­˜"}}),a("el-table-column",{attrs:{prop:"catName",label:"å•†å“åˆ†ç±»"}}),a("el-table-column",{attrs:{prop:"sortSales",label:"æ€»é”€é‡"}}),e.merchant?a("el-table-column",{attrs:{prop:"providerName",label:"å•†å®¶"}}):e._e()],1)],1),a("el-pagination",{attrs:{background:"","current-page":e.currentPage,"page-size":e.searchParams.limit,layout:"prev, pager, next, jumper",total:e.total},on:{"current-change":e.handleCurrentChange}})],1)},i=[],s={name:"GoodsOnline",props:["isdisabled","couponid","operate"],data:function(){return{total:12,currentPage:1,searchParams:{page:1,limit:10,couponId:"",goodsSn:"",goodsName:"",suppliersName:"",catId:""},list:[],value:[],options:[],multipleSelection:[],merchant:!0,getRowKeys:function(e){return e.goodsId}}},computed:{activeName:{get:function(){return this.isdisabled?"b":"a"},set:function(){}}},methods:{getList:function(){var e=this,t=this.isdisabled?"hd/itzCouponGoods/page/list":"hd/itzGoods/all/page";this.$api.get(t,this.searchParams,function(t){200==t.status&&(e.total=t.data.total,e.list=t.data.rows,e.merchant=1!=t.userType,e.toggleSelection(e.list))})},getProductList:function(){var e=this;this.$api.get("hd/itzCoupon/category",null,function(t){if(200==t.status){var a=[];t.data.rows.forEach(function(e){var t={value:e.catId,label:e.catName};e.itzCategories.length>0&&(t.children=[],e.itzCategories.forEach(function(e){var a={value:e.catId,label:e.catName};e.itzCategories.length>0&&(a.children=[],e.itzCategories.forEach(function(e){var t={value:e.catId,label:e.catName};a.children.push(t)})),t.children.push(a)})),a.push(t)}),e.options=a}})},handleCurrentChange:function(e){this.searchParams.page=e,this.getList()},handleChange:function(e){console.log(e),this.searchParams.catId=e[e.length-1]},checkSelectable:function(e){return 2==e.check},toggleSelection:function(e){var t=this;e.forEach(function(e){1==e.check&&t.$refs.multipleTable.toggleRowSelection(e,!0)})},clear:function(){this.searchParams.page=1,this.searchParams.goodsName="",this.searchParams.suppliersName="",this.searchParams.goodsSn="",this.searchParams.catId="",this.value=[],this.getList()},search:function(){this.searchParams.page=1,this.getList()},handleSelectionChange:function(e){this.multipleSelection=e,console.log(this.multipleSelection)},addMore:function(){var e=this;if(0==this.multipleSelection.length)this.$message("è¯·é€‰æ‹©è‡³å°‘ä¸€æ¡æ•°æ®");else{var t=[];if(this.multipleSelection.forEach(function(a,n){var i={couponId:e.couponid,goodsId:a.goodsId};2==a.check&&t.push(i)}),0==t.length)return void this.$message("è¯·é€‰æ‹©è‡³å°‘ä¸€æ¡æ•°æ®");this.$confirm("ç¡®å®šæ·»åŠ è¿™".concat(t.length,"ä¸ªå•†å“å—?"),"æ‰¹é‡æ·»åŠ ",{confirmButtonText:"ç¡®å®š",cancelButtonText:"å–æ¶ˆ"}).then(function(){e.$api.post("hd/itzCouponGoods/batch",t,function(t){200==t.status&&e.$emit("add-goods","å·²é€‰å•†å“æ·»åŠ æˆåŠŸ")})}).catch(function(){e.$message("å·²å–æ¶ˆ")})}},removeMore:function(){var e=this;if(0==this.multipleSelection.length)this.$message("è¯·é€‰æ‹©è‡³å°‘ä¸€æ¡æ•°æ®");else{var t=[];this.multipleSelection.forEach(function(e,a){t.push(e.goodsId)});var a=t.join(",");this.$confirm("ç¡®å®šç§»é™¤è¿™".concat(this.multipleSelection.length,"ä¸ªå•†å“å—?"),"ç§»é™¤",{confirmButtonText:"ç¡®å®š",cancelButtonText:"å–æ¶ˆ"}).then(function(){e.$api.put("hd/itzCouponGoods/goods",{couponId:e.couponid,goodsIds:a},function(t){200==t.status&&e.$emit("add-goods","å·²é€‰å•†å“ç§»é™¤æˆåŠŸ")})}).catch(function(){e.$message("å·²å–æ¶ˆ")})}}},created:function(){this.searchParams.couponId=this.couponid,this.getList(),this.getProductList()}},r=s,o=(a("203a"),a("2877")),l=Object(o["a"])(r,n,i,!1,null,"20fe3bdc",null);t["a"]=l.exports},"92d2":function(e,t,a){},9469:function(e,t,a){"use strict";var n=a("b441"),i=a.n(n);i.a},"95d5":function(e,t,a){var n=a("40c3"),i=a("5168")("iterator"),s=a("481b");e.exports=a("584a").isIterable=function(e){var t=Object(e);return void 0!==t[i]||"@@iterator"in t||s.hasOwnProperty(n(t))}},9677:function(e,t,a){"use strict";var n=a("7719"),i=a.n(n);i.a},"9a76":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"header"},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",[e._v(e._s(e.name)+"å¹³å°")]),a("el-breadcrumb-item",[e._v("æµ£è±†è´¦æˆ·æ˜ç»†")])],1)],1),a("div",{staticClass:"search-wrapper"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.searchParams}},[a("el-form-item",{attrs:{label:"æµæ°´å·"}},[a("el-input",{attrs:{placeholder:"æµæ°´å·"},model:{value:e.searchParams.tradeNo,callback:function(t){e.$set(e.searchParams,"tradeNo",t)},expression:"searchParams.tradeNo"}})],1),a("el-form-item",{attrs:{label:"åˆ†ç±»"}},[a("el-select",{attrs:{clearable:"",placeholder:"åˆ†ç±»"},model:{value:e.searchParams.changeType,callback:function(t){e.$set(e.searchParams,"changeType",t)},expression:"searchParams.changeType"}},e._l(e.classList,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.search}},[e._v("æŸ¥è¯¢")]),a("el-button",{on:{click:e.clear}},[e._v("æ¸…ç©º")])],1)],1)],1),a("div",{staticClass:"list-wrapper"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.list}},[a("el-table-column",{attrs:{prop:"createdAt",label:"æ—¶é—´",formatter:e.dateFormat}}),a("el-table-column",{attrs:{prop:"pipelineNo",label:"æµæ°´å·"}}),a("el-table-column",{attrs:{prop:"addToken",label:"å¢åŠ æµ£è±†"}}),a("el-table-column",{attrs:{prop:"reduceToken",label:"å‡å°‘æµ£è±†"}}),a("el-table-column",{attrs:{prop:"currentToken",label:"ä½™é¢"}}),a("el-table-column",{attrs:{prop:"changeTypeStr",label:"ç±»å‹"}})],1)],1),a("el-pagination",{attrs:{background:"","current-page":e.currentPage,"page-size":e.searchParams.limit,layout:"prev, pager, next, jumper",total:e.total},on:{"current-change":e.handleCurrentChange}})],1)},i=[],s={name:"AccountDetails",data:function(){var e=localStorage.getItem("partnerName");return{name:e,total:0,currentPage:1,searchParams:{page:1,limit:10,tradeNo:"",changeType:""},list:[],classList:{2:"å¹³å°ä»£ä»˜",3:"å¹³å°æ‰£å‡",1:"å……å€¼ç»­è´¹"}}},methods:{getList:function(){var e=this;this.replaceDatas(this.searchParams),this.$api.post("hd/itzPartnerAccountLog/payment_detail",this.searchParams,function(t){200==t.status&&(e.list=t.data.rows,e.total=t.data.total)})},replaceDatas:function(e){for(var t in e)""!=e[t]&&null!=e[t]||delete e[t]},handleCurrentChange:function(e){this.searchParams.page=e,this.getList()},clear:function(){this.searchParams.page=1,this.searchParams.size=10,this.searchParams.tradeNo="",this.searchParams.changeType="",this.getList()},search:function(){this.searchParams.page=1,this.getList()},dateFormat:function(e,t,a){return this.utils.formatDate("YYYY-MM-DD HH:mm:ss",1e3*a)}},created:function(){this.getList()}},r=s,o=(a("d89d"),a("2877")),l=Object(o["a"])(r,n,i,!1,null,"77dbc59a",null);t["default"]=l.exports},"9ab7":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("page-title",{attrs:{"first-title":"ä¸‹å•æœ‰ç¤¼"}}),a("div",{staticClass:"search-wrapper"},[a("el-form",{attrs:{model:e.params,size:"small","label-position":"left","label-width":"100px"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:"æ´»åŠ¨åç§°"}},[a("el-input",{attrs:{clearable:""},model:{value:e.params.cashName,callback:function(t){e.$set(e.params,"cashName",t)},expression:"params.cashName"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"æ´»åŠ¨ç±»å‹"}},[a("el-select",{attrs:{placeholder:"æ´»åŠ¨ç±»å‹"},model:{value:e.params.cashType,callback:function(t){e.$set(e.params,"cashType",t)},expression:"params.cashType"}},[a("el-option",{attrs:{label:"ç°é‡‘çº¢åŒ…",value:"1"}}),a("el-option",{attrs:{label:"ä¼˜æƒ åˆ¸",value:"2",disabled:""}})],1)],1)],1)],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:"æ´»åŠ¨æ—¥æœŸ"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"timestamp",type:"daterange","range-separator":"è‡³","start-placeholder":"å¼€å§‹æ—¥æœŸ","end-placeholder":"ç»“æŸæ—¥æœŸ","default-time":["00:00:00","23:59:59"]},model:{value:e.timeinterval,callback:function(t){e.timeinterval=t},expression:"timeinterval"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"æ´»åŠ¨çŠ¶æ€"}},[a("el-select",{model:{value:e.params.cashStatus,callback:function(t){e.$set(e.params,"cashStatus",t)},expression:"params.cashStatus"}},e._l(e.statusList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1)],1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.search}},[e._v("æŸ¥è¯¢")]),a("el-button",{on:{click:e.clear}},[e._v("æ¸…ç©º")])],1)],1)],1),a("div",{staticClass:"button-wrapper"},[a("router-link",{attrs:{to:{name:"newActivity"}}},[a("el-button",{attrs:{type:"primary",size:"small"}},[e._v("æ–°å¢æ´»åŠ¨")])],1)],1),a("div",{staticClass:"list-wrapper"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.list}},[a("el-table-column",{attrs:{type:"index",label:"åºå·"}}),a("el-table-column",{attrs:{prop:"cashName",label:"æ´»åŠ¨åç§°"}}),a("el-table-column",{attrs:{prop:"startTime",label:"æ´»åŠ¨å¼€å§‹æ—¶é—´",formatter:e.dateFormat}}),a("el-table-column",{attrs:{prop:"endTime",label:"æ´»åŠ¨ç»“æŸæ—¶é—´",formatter:e.dateFormat}}),a("el-table-column",{attrs:{prop:"cashType",label:"æ´»åŠ¨ç±»å‹",formatter:e.typeFormat}}),a("el-table-column",{attrs:{label:"æ´»åŠ¨é‡‘é¢"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.cashType?a("span",[e._v(" "+e._s(t.row.cashAmount)+"å…ƒ")]):a("span",[e._v(" "+e._s(t.row.cashAmount)+"%")])]}}])}),a("el-table-column",{attrs:{prop:"priority",label:"ä¼˜å…ˆçº§"}}),a("el-table-column",{attrs:{prop:"status",label:"æ´»åŠ¨çŠ¶æ€",formatter:e.statusType}}),a("el-table-column",{attrs:{prop:"createTime",label:"åˆ›å»ºæ—¶é—´",formatter:e.dateFormat}}),a("el-table-column",{attrs:{label:"æ“ä½œ"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.ShowAcitves(t.row.id)}}},[e._v("æŸ¥çœ‹")]),0===t.row.status?[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.EditAcitves(t.row.id)}}},[e._v("ç¼–è¾‘")])]:e._e(),0!=t.row.status?[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.viewDetail(t.row.id)}}},[e._v("æ´»åŠ¨ç»Ÿè®¡")])]:e._e(),1===t.row.status?[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.stopAct(t.row.id)}}},[e._v("æ‰‹åŠ¨ç»“æŸ")])]:e._e()]}}])})],1)],1),a("el-pagination",{attrs:{background:"","current-page":e.currentPage,"page-size":e.params.limit,layout:"prev, pager, next, jumper",total:e.total},on:{"current-change":e.handleCurrentChange}}),a("el-dialog",{attrs:{title:"æŸ¥çœ‹æ´»åŠ¨",visible:e.showAcitve,width:"40%","close-on-click-modal":!1},on:{"update:visible":function(t){e.showAcitve=t}}},[a("el-form",{attrs:{"label-position":"left",size:"small","label-width":"140px"},model:{value:e.AcitveData,callback:function(t){e.AcitveData=t},expression:"AcitveData"}},[a("el-form-item",{attrs:{label:"æ´»åŠ¨åç§°ï¼š"}},[a("span",[e._v(e._s(e.AcitveData.cashName))])]),a("el-form-item",{attrs:{label:"æ´»åŠ¨å¼€å§‹æ—¶é—´ï¼š"}},[a("span",[e._v(e._s(e.dateFormat0(e.AcitveData.startTime)))])]),a("el-form-item",{attrs:{label:"æ´»åŠ¨ç»“æŸæ—¶é—´ï¼š"}},[a("span",[e._v(e._s(e.dateFormat0(e.AcitveData.endTime)))])]),a("el-form-item",{attrs:{label:"æ´»åŠ¨ç±»å‹ï¼š"}},[a("span",{staticClass:"block"},[e._v("ç°é‡‘çº¢åŒ…")]),1==e.AcitveData.cashType?a("span",[e._v("å›ºå®šé‡‘é¢ "+e._s(e.AcitveData.cashAmount)+" å…ƒ")]):a("span",[e._v("è®¢å•é‡‘é¢ç™¾åˆ†æ¯” "+e._s(e.AcitveData.cashAmount)+" %")])]),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:2==e.AcitveData.cashType,expression:"AcitveData.cashType == 2"}],attrs:{label:"å•æ¬¡æœ€é«˜è¿”ç°é‡‘é¢ï¼š"}},[a("span",[e._v(e._s(e.utils.formatMoney(e.AcitveData.maxSingleCash))+" å…ƒ")])]),a("el-form-item",{attrs:{label:"æ´»åŠ¨æ€»é¢ï¼š"}},[a("span",[e._v(" "+e._s(e.Amounts(e.AcitveData.totalAmount)))])]),a("el-form-item",{attrs:{label:"æ´»åŠ¨äººç¾¤ï¼š"}},[a("span",[e._v(e._s(e.userFormat(e.AcitveData.targetUsers)))])]),a("el-form-item",{attrs:{label:"æœ‰ç¤¼å•æ•°ï¼š"}},[a("span",[e._v(e._s(e.AcitveData.maxNumber))])]),a("el-form-item",{attrs:{label:"æ´»åŠ¨å•†å“ï¼š"}},[a("span",[e._v(e._s(e.scopeFormat(e.AcitveData.cashScope)))])]),a("el-form-item",{attrs:{label:"ä¼˜å…ˆçº§ï¼š"}},[a("span",[e._v(e._s(e.AcitveData.priority))])])],1)],1)],1)},i=[],s=(a("7f7f"),a("7514"),a("c6a9")),r={name:"activityList",data:function(){return{currentPage:0,params:{limit:10,page:1,cashName:"",startTime:"",endTime:"",cashType:"1",cashStatus:""},total:0,AcitveData:{},timeinterval:"",statusList:s["c"],typeList:s["b"],userList:s["e"],scopeList:s["d"],list:[],showAcitve:!1}},created:function(){this.getList()},mounted:function(){},methods:{getList:function(){var e=this;this.timeinterval&&0!=this.timeinterval.length?(this.params.startTime=this.timeinterval[0]/1e3,this.params.endTime=this.timeinterval[1]/1e3):(this.params.startTime="",this.params.endTime=""),this.$api.get("/hd/itzReturnCashActivity/page/list",this.params,function(t){200===t.status?(e.list=t.data.rows,e.total=t.data.total):e.$message.error({title:"é”™è¯¯",message:t.message})})},clear:function(){this.params={limit:10,page:1,cashName:"",startTime:"",endTime:"",cashType:"1",cashStatus:""},this.timeinterval="",this.currentPage=1},search:function(){this.params.page=1,this.getList()},handleCurrentChange:function(e){this.params.page=e,this.getList()},viewDetail:function(e){this.$router.push({name:"activityStatistics",params:{id:e}})},dateFormat:function(e,t){var a=e[t.property];return a?this.utils.formatDate("YYYY-MM-DD HH:mm",1e3*a):"é•¿æœŸæœ‰æ•ˆ"},dateFormat0:function(e){return e?this.utils.formatDate("YYYY-MM-DD HH:mm",e/1e3*1e3):"é•¿æœŸæœ‰æ•ˆ"},statusType:function(e,t){var a=e[t.property],n=this.statusList.find(function(e){return e.id==a});return n?n.name:"æœªçŸ¥çŠ¶æ€"},typeFormat:function(e,t){var a=e[t.property],n=this.typeList.find(function(e){return e.id==a});return n?n.name:"æœªçŸ¥ç±»å‹"},userFormat:function(e){var t=this.userList.find(function(t){return t.id==e});return t?t.name:"æœªçŸ¥ç±»å‹"},scopeFormat:function(e){var t=this.scopeList.find(function(t){return t.id==e});return t?t.name:"æœªçŸ¥ç±»å‹"},acitveDatas:function(e,t){var a=this;e.$api.get("/hd/itzReturnCashActivity/get/detail/".concat(t),null,function(t){200===t.status?(e.AcitveData=t.data,e.AcitveData.startTime=1e3*e.AcitveData.startTime,e.AcitveData.endTime=1e3*e.AcitveData.endTime,2===e.AcitveData.cashType&&(a.Amountflag=!0)):e.$message.error({title:"é”™è¯¯",message:t.message})})},ShowAcitves:function(e){this.showAcitve=!0;var t=this;this.acitveDatas(t,e)},EditAcitves:function(e){this.$router.push({name:"editActivity",params:{id:e}})},stopAct:function(e){var t=this;this.$confirm("ç¡®å®šç»ˆæ­¢æœ¬æ¬¡æ´»åŠ¨å—?",{confirmButtonText:"ç¡®å®š",cancelButtonText:"å–æ¶ˆ",showClose:!1,customClass:"closecous",center:!0}).then(function(){t.$api.get("/hd/itzReturnCashActivity/end/".concat(e),null,function(e){200===e.status?(t.$message("æ“ä½œæˆåŠŸ"),t.getList()):t.$message.error({title:"é”™è¯¯",message:e.message})})}).catch(function(){t.$message({type:"info",message:"å·²å–æ¶ˆ"})})},Amounts:function(e){return"-1"==e?"ä¸é™":"ï¿¥"+this.utils.formatMoney(e)}},watch:{}},o=r,l=(a("c56f"),a("2877")),c=Object(l["a"])(o,n,i,!1,null,"05726fd0",null);t["default"]=c.exports},"9d5d":function(e,t,a){},"9d62":function(e,t,a){"use strict";a.d(t,"n",function(){return s}),a.d(t,"v",function(){return r}),a.d(t,"d",function(){return o}),a.d(t,"x",function(){return l}),a.d(t,"o",function(){return c}),a.d(t,"r",function(){return u}),a.d(t,"b",function(){return p}),a.d(t,"q",function(){return m}),a.d(t,"c",function(){return d}),a.d(t,"a",function(){return f}),a.d(t,"f",function(){return h}),a.d(t,"m",function(){return b}),a.d(t,"i",function(){return _}),a.d(t,"j",function(){return v}),a.d(t,"p",function(){return g}),a.d(t,"l",function(){return y}),a.d(t,"e",function(){return w}),a.d(t,"w",function(){return C}),a.d(t,"s",function(){return k}),a.d(t,"h",function(){return T}),a.d(t,"t",function(){return x}),a.d(t,"g",function(){return D}),a.d(t,"k",function(){return A}),a.d(t,"u",function(){return S});var n=a("cebc"),i=a("65c6"),s=function(e){return Object(i["a"])("/admin/api.remit.settings.get","POST",{suppliers_id:e})},r=function(e){return Object(i["a"])("/admin/api.remit.settings.set","POST",Object(n["a"])({},e))},o=function(e){return Object(i["a"])("/admin/api.multi.statement.create","POST",Object(n["a"])({},e))},l=function(e){return Object(i["a"])("/admin/api.multi.statement.update","POST",Object(n["a"])({},e))},c=function(){return Object(i["a"])("/admin/api.suppliers.role.get","POST",{})},u=function(e){return Object(i["a"])("/admin/api.multi.statement.get","POST",{multi_statement_id:e})},p=function(e,t){return Object(i["a"])("/admin/api.multi.statement.remit","POST",{multi_statement_id:e,remit_log:t})},m=function(e){return Object(i["a"])("/admin/api.multi.statement.list.get","POST",Object(n["a"])({},e))},d=function(e){return Object(i["a"])("/admin/api.multi.statement.suppliers.confirm","POST",Object(n["a"])({},e))},f=function(e,t,a,n){return Object(i["a"])("/admin/api.suppliers.bond.reduce","POST",{suppliers_id:e,bond:t,direction:a,remark:n})},h=function(e){return Object(i["b"])("/admin/api.multi.statement.print","POST",{multi_statement_id:e})},b=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;return Object(i["a"])("/admin/api.suppliers.bond.list","POST",{suppliers_id:e,page:t,size:a})},_=function(e){return Object(i["a"])("/admin/api.suppliers.account.log.list","POST",e)},v=function(e){return Object(i["a"])("/admin/api.suppliers.statement.income.list","POST",e)},g=function(e){return Object(i["a"])("/admin/api.multi.statement.orders","POST",e)},y=function(e){return Object(i["a"])("/admin/api.suppliers.payment.list","POST",e)},w=function(e){return Object(i["b"])("/admin/api.multi.statement.export","POST",e)},C=function(e){return Object(i["a"])("/admin/api.suppliers.payment.upload","POST",e)},k=function(e){return Object(i["a"])("/admin/api.multi.statement.suppliers.rollback","POST",e)},T=function(e){return Object(i["a"])("/admin/api.multi.statement.finance.rollback","POST",e)},x=function(e){return Object(i["a"])("/admin/api.multi.statement.operater.confirm","POST",e)},D=function(e){return Object(i["a"])("/admin/api.multi.statement.finance.confirm","POST",e)},A=function(e){return Object(i["a"])("/admin/api.multi.statement.action","POST",e)},S=function(e){return Object(i["b"])("/admin/api.multi.statement.print","POST",e)}},a15b:function(e,t,a){"use strict";var n=a("f0ef"),i=a.n(n);i.a},a1c2:function(e,t,a){"use strict";var n=a("8c01"),i=a.n(n);i.a},a2e3:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"total-table-container"},[a("div",{staticClass:"left-cash"},[a("el-row",[a("el-col",{attrs:{span:12}},[e._v("ç°é‡‘è®¢å•æ€»æ”¶å…¥é‡‘é¢")]),a("el-col",{attrs:{span:12}},[e._v(e._s(e.info.all_cash_income))])],1),a("el-row",[a("el-col",{attrs:{span:12}},[e._v("ç°é‡‘è®¢å•æ€»æ”¯å‡ºé‡‘é¢")]),a("el-col",{attrs:{span:12}},[e._v(e._s(e.info.all_cash_expend))])],1),a("el-row",[a("el-col",{attrs:{span:12}},[e._v("ç°é‡‘ä½£é‡‘æŠµæ‰£")]),a("el-col",{attrs:{span:12}},[e._v(e._s(parseFloat(e.info.cash_service_fee)+parseFloat(e.info.sales_service_fee)))])],1),a("el-row",[a("el-col",{attrs:{span:12}},[e._v("ç°é‡‘äº¤æ˜“è´¹ç”¨æŠµæ‰£")]),a("el-col",{attrs:{span:12}},[e._v(e._s(e.info.cash_income_fee))])],1),a("el-row",[a("el-col",{attrs:{span:12}},[e._v("ç°é‡‘æ‰“æ¬¾æ‰‹ç»­è´¹")]),a("el-col",{attrs:{span:12}},[e._v(e._s(e.info.cash_remit_fee))])],1),a("el-row",[a("el-col",{attrs:{span:12}},[e._v("ä¿è¯é‡‘è¡¥è¶³")]),a("el-col",{attrs:{span:12}},[e._v(e._s(e.info.bond))])],1),a("el-row",[a("el-col",{attrs:{span:12}},[e._v("ç«æ‹ä¹°å®¶è¿çº¦é‡‘æ”¶å…¥")]),a("el-col",{attrs:{span:12}},[e._v(e._s(e.info.cash_added))])],1),a("el-row",[a("el-col",{attrs:{span:12}},[e._v("å®é™…ç°é‡‘ç»“ç®—é‡‘é¢")]),a("el-col",{attrs:{span:12}},[e._v(e._s(e.info.cash_real_pay))])],1)],1),1==e.cooperateType?a("div",{staticClass:"right-hb"},[a("el-row",[a("el-col",{attrs:{span:12}},[e._v("ç§¯åˆ†è®¢å•æ€»æ”¶å…¥é‡‘é¢")]),a("el-col",{attrs:{span:12}},[e._v(e._s(e.info.all_huanbi_income))])],1),a("el-row",[a("el-col",{attrs:{span:12}},[e._v("ç§¯åˆ†è®¢å•æ€»æ”¯å‡ºé‡‘é¢")]),a("el-col",{attrs:{span:12}},[e._v(e._s(e.info.all_huanbi_expend))])],1),a("el-row",[a("el-col",{attrs:{span:12}},[e._v("ç§¯åˆ†ä½£é‡‘æŠµæ‰£")]),a("el-col",{attrs:{span:12}},[e._v(e._s(e.info.huanbi_service_fee))])],1),a("el-row",[a("el-col",{attrs:{span:12}},[e._v("ç§¯åˆ†äº¤æ˜“è´¹ç”¨æŠµæ‰£")]),a("el-col",{attrs:{span:12}},[e._v(e._s(e.info.huanbi_income_fee))])],1),a("el-row",[a("el-col",{attrs:{span:12}},[e._v("ç§¯åˆ†æ‰“æ¬¾æ‰‹ç»­è´¹")]),a("el-col",{attrs:{span:12}},[e._v(e._s(e.info.huanbi_remit_fee))])],1),a("el-row",[a("el-col",{attrs:{span:12}},[e._v("Â ")]),a("el-col",{attrs:{span:12}},[e._v("Â ")])],1),a("el-row",[a("el-col",{attrs:{span:12}},[e._v("Â ")]),a("el-col",{attrs:{span:12}},[e._v("Â ")])],1),a("el-row",[a("el-col",{attrs:{span:12}},[e._v("å®é™…ç§¯åˆ†ç»“ç®—é‡‘é¢")]),a("el-col",{attrs:{span:12}},[e._v(e._s(e.info.huanbi_real_pay))])],1)],1):e._e()])},i=[],s=a("cebc"),r=a("2f62"),o={name:"",props:["info"],data:function(){return{}},computed:Object(s["a"])({},Object(r["c"])({cooperateType:function(e){return e.suppliers.cooperateType}})),created:function(){},methods:{}},l=o,c=(a("f01a"),a("2877")),u=Object(c["a"])(l,n,i,!1,null,"573c6ece",null);t["a"]=u.exports},a36b:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"header"},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",[e._v("ä¼˜æƒ åˆ¸")]),a("el-breadcrumb-item",[e._v("é¢†åˆ¸æ˜ç»†")])],1)],1),a("div",{staticClass:"coupon-name"},[e._v("ä¼˜æƒ åˆ¸åç§°ï¼š"+e._s(e.name))]),a("div",{staticClass:"search-wrapper"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.searchParams}},[a("el-form-item",{attrs:{label:"ç”¨æˆ·åç§°"}},[a("el-input",{attrs:{placeholder:"ç”¨æˆ·åç§°"},model:{value:e.searchParams.userName,callback:function(t){e.$set(e.searchParams,"userName",t)},expression:"searchParams.userName"}})],1),a("el-form-item",{attrs:{label:"ä¼˜æƒ åˆ¸çŠ¶æ€"}},[a("el-select",{attrs:{clearable:"",placeholder:"ä¼˜æƒ åˆ¸çŠ¶æ€"},model:{value:e.searchParams.couponStatus,callback:function(t){e.$set(e.searchParams,"couponStatus",t)},expression:"searchParams.couponStatus"}},e._l(e.classList,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.search}},[e._v("æŸ¥è¯¢")]),a("el-button",{on:{click:e.clear}},[e._v("æ¸…ç©º")])],1)],1)],1),a("div",{staticClass:"list-wrapper"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.list}},[a("el-table-column",{attrs:{prop:"userName",label:"ç”¨æˆ·"}}),a("el-table-column",{attrs:{prop:"receiveTime",label:"é¢†åˆ¸æ—¶é—´",formatter:e.dateFormat}}),a("el-table-column",{attrs:{prop:"isUse",label:"æ˜¯å¦ä½¿ç”¨",formatter:e.statusFormat}}),a("el-table-column",{attrs:{prop:"useTime",label:"ä½¿ç”¨æ—¶é—´",formatter:e.dateFormat}})],1)],1),a("el-pagination",{attrs:{background:"","current-page":e.currentPage,"page-size":e.searchParams.pageSize,layout:"prev, pager, next, jumper",total:e.total},on:{"current-change":e.handleCurrentChange}})],1)},i=[],s=(a("7f7f"),{name:"couponDetails",data:function(){return{name:"",total:0,currentPage:1,searchParams:{pageNumber:1,pageSize:10,couponId:this.$route.params.id,userName:"",couponStatus:""},list:[],classList:{1:"å·²ä½¿ç”¨",2:"æœªä½¿ç”¨"}}},methods:{getList:function(){var e=this;this.$api.get("hd/itzCouponUsers/user",this.searchParams,function(t){200==t.status&&(e.list=t.data.rows,e.total=t.data.total,e.name=t.data.couponName)})},handleCurrentChange:function(e){this.searchParams.pageNumber=e,this.getList()},clear:function(){this.searchParams.pageNumber=1,this.searchParams.userName="",this.searchParams.couponStatus="",this.getList()},search:function(){this.searchParams.pageNumber=1,this.getList()},statusFormat:function(e,t,a){return this.classList[a]},dateFormat:function(e,t,a){return 0==a?"":this.utils.formatDate("YYYY-MM-DD HH:mm:ss",1e3*a)}},created:function(){this.getList()}}),r=s,o=(a("d2de"),a("2877")),l=Object(o["a"])(r,n,i,!1,null,"bdc92b9c",null);t["default"]=l.exports},a478:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("page-title",{attrs:{"first-title":"è´¦æˆ·ä¸­å¿ƒ","second-title":"ç§¯åˆ†æç°è´¦æˆ·","third-title":"è½¬è´¦è®°å½•"}}),a("section",[a("el-breadcrumb-item",[e._v("ç§¯åˆ†æç°è´¦æˆ·")]),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.isLoading,expression:"isLoading"}],staticStyle:{width:"800px"},attrs:{data:e.list}},[a("el-table-column",{attrs:{prop:"addtime",label:"ç”³è¯·æ—¶é—´",formatter:e.dateFormat}}),a("el-table-column",{attrs:{prop:"remark",label:"å¤‡æ³¨"}}),a("el-table-column",{attrs:{prop:"huanbi_withdraw",label:"é‡‘é¢ï¼ˆå…ƒï¼‰"}}),a("el-table-column",{attrs:{prop:"current_huanbi_withdraw",label:"ç§¯åˆ†ä½™é¢"}})],1),a("el-pagination",{attrs:{background:"","current-page":e.page,"page-size":e.size,layout:"prev, pager, next, jumper",total:e.total},on:{"current-change":e.handleCurrentChange}})],1)],1)},i=[],s=(a("06db"),a("cebc")),r=a("2f62"),o=a("afbd"),l={name:"WithdrawalRecord",data:function(){return{list:[],page:1,size:10,total:0,isLoading:!1}},created:function(){this.getList()},computed:Object(s["a"])({},Object(r["c"])({suppliers_id:function(e){return e.suppliers.suppliers_id}})),methods:{getList:function(){var e=this;this.isLoading=!0,Object(o["s"])(this.suppliers_id,this.page).then(function(t){e.total=t.paged.total,e.list=t.list,e.list.forEach(function(e){e.account="123123"})},function(e){console.log(e)}).finally(function(){e.isLoading=!1})},dateFormat:function(e,t){var a=e[t.property];return this.utils.formatDate("YYYY-MM-DD",1e3*a)},priceFormat:function(e,t){var a=e[t.property];return this.utils.formatDate("YYYY-MM-DD",1e3*a)},handleCurrentChange:function(e){this.page=e,this.getList()}}},c=l,u=(a("1735"),a("2877")),p=Object(u["a"])(c,n,i,!1,null,"dbbb4c50",null);t["default"]=p.exports},a5c9:function(e,t,a){"use strict";var n=a("4ae2"),i=a.n(n);i.a},a60e:function(e,t,a){},a745:function(e,t,a){e.exports=a("f410")},a77a:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("page-title",{attrs:{"first-title":"ä»£ä»˜æ˜ç»†åˆ—è¡¨"}}),a("div",{staticClass:"button-wrapper"}),a("div",{staticClass:"search-wrapper"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[a("el-form-item",{attrs:{label:"æµ£è±†ç±»å‹"}},[a("el-select",{model:{value:e.params.changeType,callback:function(t){e.$set(e.params,"changeType",t)},expression:"params.changeType"}},e._l(e.options,function(e){return a("el-option",{key:e.value,attrs:{label:e.value,value:e.label}})}),1)],1),a("el-form-item",{attrs:{label:"è®¢å•å·"}},[a("el-input",{attrs:{placeholder:"è®¢å•å·"},model:{value:e.params.orderId,callback:function(t){e.$set(e.params,"orderId",t)},expression:"params.orderId"}})],1),a("el-form-item",{attrs:{label:"å¹³å°åç§°"}},[a("el-input",{attrs:{placeholder:"å¹³å°åç§°"},model:{value:e.params.partnerName,callback:function(t){e.$set(e.params,"partnerName",t)},expression:"params.partnerName"}})],1),a("el-form-item",{attrs:{label:"å‡ºå€Ÿäººå§“åæˆ–æ‰‹æœºå·"}},[a("el-input",{attrs:{placeholder:"å‡ºå€Ÿäººå§“åæˆ–æ‰‹æœºå·"},model:{value:e.params.nameOrMobile,callback:function(t){e.$set(e.params,"nameOrMobile",t)},expression:"params.nameOrMobile"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(t){return e.getpaymentDetails()}}},[e._v("æœç´¢")]),a("el-button",{attrs:{type:"primary",icon:"el-icon-refresh"},on:{click:function(t){return e.clear()}}},[e._v("æ¸…ç©º")])],1)],1)],1),a("div",{staticClass:"list-wrapper"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.paymentArr,stripe:"","header-cell-style":{background:"#eef1f6"}}},[a("el-table-column",{attrs:{prop:"orderId",label:"è®¢å•å·"}}),a("el-table-column",{attrs:{prop:"changeToken",label:"ä»£ä»˜æ•°é¢"}}),a("el-table-column",{attrs:{prop:"createdAt",label:"ä»£ä»˜æ—¶é—´"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.utils.format_date(t.row.createdAt)))])]}}])}),a("el-table-column",{attrs:{prop:"userName",label:"å‡ºå€Ÿäºº"}}),a("el-table-column",{attrs:{prop:"mobilePhone",label:"æ‰‹æœºå·"}}),a("el-table-column",{attrs:{prop:"partnerName",label:"ç½‘è´·å¹³å°"}})],1)],1),a("el-pagination",{attrs:{background:"","current-page":e.currentPage,"page-size":e.params.limit,layout:"prev, pager, next, jumper",total:e.total},on:{"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t}}})],1)},i=[],s=(a("7f7f"),{name:"RetailActivityList",data:function(){return{paymentArr:[],currentPage:1,params:{page:1,limit:10,changeType:"",orderId:"",partnerName:"",nameOrMobile:""},total:0,addPlatform_loading:!1,addPlatform:!1,options:[{value:"ä»½é¢å˜åŒ–(åŒ…å«ä¸‹å•å¹³å°ä»£ä»˜å’Œå……å€¼)",label:"0"},{value:"æµ£è±†æ¶ˆè´¹",label:"1"},{value:"ç­¾åˆ°é€è±†",label:"2"},{value:"è®¢å•é€€æ¬¾",label:"3"}]}},created:function(){console.log(this.$route),this.params.partnerName=this.$route.params.partners,this.getpaymentDetails()},methods:{getpaymentDetails:function(){var e=this;this.$api.post("hd/itzUserTokenLog/prepare_detail",this.params,function(t){200==t.status&&(e.paymentArr=t.data.rows,e.total=t.data.total)})},handleCurrentChange:function(e){this.params.page=e,this.getpaymentDetails()},clear:function(){this.params.page=1,this.params.limit=10,this.params={page:1,limit:10,changeType:"",orderId:"",partnerName:"",nameOrMobile:"",partnerId:"1"},this.getpaymentDetails()}},watch:{addPlatform:function(e){!1!==e&&"false"!==e||console.log("é‡ç½®add_Platform")},$route:{handler:function(e){var t=this;console.log(e,"ç›‘æ§è·¯ç”±å˜åŒ–"),"paymentDetails"===e.name&&(t.params.partnerName=e.params.partner?e.params.partner:"")},deep:!0}}}),r=s,o=(a("1127"),a("2877")),l=Object(o["a"])(r,n,i,!1,null,"517dabd3",null);t["default"]=l.exports},adba:function(e,t,a){"use strict";var n=a("67e2"),i=a.n(n);i.a},ae3a:function(e,t,a){"use strict";var n=a("5d2d"),i=a.n(n);i.a},b441:function(e,t,a){},b5c8:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("section",[a("div",{staticClass:"btn-wrapper"},[e.isEdit?[a("el-button",{on:{click:e.cancel}},[e._v("å–æ¶ˆ")]),e.isPreview?a("el-button",{staticClass:"right",attrs:{type:"primary"},on:{click:e.submit}},[e._v("æäº¤å¹¶ç¡®è®¤")]):a("el-button",{staticClass:"right",attrs:{type:"primary"},on:{click:e.editDone}},[e._v("æäº¤å¹¶ç¡®è®¤")])]:[a("el-button",{on:{click:e.goBack}},[e._v("è¿”å›")]),e.settleInfo.status>2?a("el-button",{staticClass:"right",attrs:{type:"primary"},on:{click:e.exportSettlement}},[e._v("æ‰“å°å¯¹è´¦å•")]):e._e()]],2),e.isEdit?e._e():a("div",{staticClass:"table-head"},[a("h1",[e._v("çŠ¶æ€ï¼š"+e._s(e.title))])]),a("div",{staticClass:"table-wrapper"},[e.isEdit?[a("h2",{staticClass:"t-center"},[e._v("å¯¹è´¦å•")]),a("div",{staticClass:"t-head"},[a("p",{staticClass:"line-item"},[a("label",[e._v("æ”¶æ¬¾å•ä½ï¼š")]),e._v(e._s(e.edit_settleInfo.pay_company))]),a("p",{staticClass:"line-item"},[a("label",[e._v("æ”¶æ¬¾äººï¼š")]),e._v(e._s(e.edit_settleInfo.payee))]),e.edit_settleInfo.bank?a("p",{staticClass:"line-item"},[a("label",[e._v("é“¶è¡Œï¼š")]),e._v(e._s(e.bankName(e.edit_settleInfo.bank))+"\n          ")]):e._e(),a("p",{staticClass:"line-item"},[e.edit_settleInfo.bank?a("label",[e._v("é“¶è¡Œè´¦å·ï¼š")]):a("label",[e._v("æ”¯ä»˜å®è´¦å·ï¼š")]),e._v("\n            "+e._s(e.edit_settleInfo.remit_account)+"\n          ")])]),a("div",{staticClass:"edit-body"},[e.edit_settleInfo.commission_type===e.COMMISSIONTYPE.SLAES?[e.reduce.cash1||e.reduce.cash4?a("p",{staticClass:"line-item"},[a("label",[e._v("ç»“ç®—é‡‘é¢ï¼ˆå°å†™ï¼‰ï¼š")]),e.isPreview?a("el-input",{attrs:{disabled:""},model:{value:e.edit_settleInfo.all_cash,callback:function(t){e.$set(e.edit_settleInfo,"all_cash",t)},expression:"edit_settleInfo.all_cash"}}):a("el-input",{attrs:{disabled:""},model:{value:e.real_cash,callback:function(t){e.real_cash=t},expression:"real_cash"}}),a("el-checkbox",{model:{value:e.reduce.cash1,callback:function(t){e.$set(e.reduce,"cash1",t)},expression:"reduce.cash1"}},[e._v("æ‰£é™¤é”€å”®é¢ä½£é‡‘ï¼ˆå…¨æ¬¾ï¼‰")]),a("el-checkbox",{model:{value:e.reduce.cash4,callback:function(t){e.$set(e.reduce,"cash4",t)},expression:"reduce.cash4"}},[e._v("æŠ½å–ä¿è¯é‡‘")])],1):e._e(),e.reduce.cash1?a("p",{staticClass:"line-item"},[a("label",[e._v("é”€å”®é¢ä½£é‡‘ï¼ˆå…¨æ¬¾ï¼‰ï¼š")]),a("el-input",{attrs:{disabled:""},model:{value:e.cash.reduce1,callback:function(t){e.$set(e.cash,"reduce1",t)},expression:"cash.reduce1"}})],1):e._e(),e.reduce.cash4?a("p",{staticClass:"line-item"},[a("label",[e._v("æŠ½å–ä¿è¯é‡‘ï¼š")]),a("el-input",{model:{value:e.cash.reduce4,callback:function(t){e.$set(e.cash,"reduce4",t)},expression:"cash.reduce4"}})],1):e._e(),a("p",{staticClass:"line-item"},[a("label",[e._v("ç°é‡‘ç»“ç®—é‡‘é¢ï¼ˆå°å†™ï¼‰ï¼š")]),a("el-input",{model:{value:e.cash_real_pay,callback:function(t){e.cash_real_pay=t},expression:"cash_real_pay"}}),e.reduce.cash1||e.reduce.cash4?e._e():[a("el-checkbox",{model:{value:e.reduce.cash1,callback:function(t){e.$set(e.reduce,"cash1",t)},expression:"reduce.cash1"}},[e._v("æ‰£é™¤é”€å”®é¢ä½£é‡‘ï¼ˆå…¨æ¬¾ï¼‰")]),a("el-checkbox",{model:{value:e.reduce.cash4,callback:function(t){e.$set(e.reduce,"cash4",t)},expression:"reduce.cash4"}},[e._v("æŠ½å–ä¿è¯é‡‘")])]],2),a("p",{staticClass:"line-item"},[a("label",[e._v("ç°é‡‘ç»“ç®—é‡‘é¢ï¼ˆå¤§å†™ï¼‰ï¼š")]),e._v(e._s(this.utils.getCapMoney(e.cash_real_pay)))])]:[[a("h3",[e._v("ç°é‡‘éƒ¨åˆ†")]),e.reduce.cash1||e.reduce.cash2||e.reduce.cash3||e.reduce.cash4?a("p",{staticClass:"line-item"},[a("label",[e._v("ç»“ç®—é‡‘é¢ï¼ˆå°å†™ï¼‰ï¼š")]),e.isPreview?a("el-input",{attrs:{disabled:""},model:{value:e.edit_settleInfo.all_cash,callback:function(t){e.$set(e.edit_settleInfo,"all_cash",t)},expression:"edit_settleInfo.all_cash"}}):a("el-input",{attrs:{disabled:""},model:{value:e.real_cash,callback:function(t){e.real_cash=t},expression:"real_cash"}}),a("el-checkbox",{model:{value:e.reduce.cash1,callback:function(t){e.$set(e.reduce,"cash1",t)},expression:"reduce.cash1"}},[e._v("æ‰£é™¤ä½£é‡‘")]),a("el-checkbox",{model:{value:e.reduce.cash2,callback:function(t){e.$set(e.reduce,"cash2",t)},expression:"reduce.cash2"}},[e._v("æ‰£é™¤äº¤æ˜“è´¹ç”¨")]),a("el-checkbox",{model:{value:e.reduce.cash3,callback:function(t){e.$set(e.reduce,"cash3",t)},expression:"reduce.cash3"}},[e._v("æ‰£é™¤æ‰“æ¬¾è´¹ç”¨")]),a("el-checkbox",{model:{value:e.reduce.cash4,callback:function(t){e.$set(e.reduce,"cash4",t)},expression:"reduce.cash4"}},[e._v("æŠ½å–ä¿è¯é‡‘")])],1):e._e(),e.reduce.cash1?a("p",{staticClass:"line-item"},[a("label",[e._v("æ‰£é™¤ä½£é‡‘ï¼š")]),a("el-input",{attrs:{disabled:""},model:{value:e.cash.reduce1,callback:function(t){e.$set(e.cash,"reduce1",t)},expression:"cash.reduce1"}})],1):e._e(),e.reduce.cash2?a("p",{staticClass:"line-item"},[a("label",[e._v("æ‰£é™¤äº¤æ˜“è´¹ç”¨ï¼š")]),a("el-input",{attrs:{disabled:""},model:{value:e.cash.reduce2,callback:function(t){e.$set(e.cash,"reduce2",t)},expression:"cash.reduce2"}})],1):e._e(),e.reduce.cash3?a("p",{staticClass:"line-item"},[a("label",[e._v("æ‰£é™¤æ‰“æ¬¾è´¹ç”¨ï¼š")]),a("el-input",{attrs:{disabled:""},model:{value:e.cash.reduce3,callback:function(t){e.$set(e.cash,"reduce3",t)},expression:"cash.reduce3"}})],1):e._e(),e.reduce.cash4?a("p",{staticClass:"line-item"},[a("label",[e._v("æŠ½å–ä¿è¯é‡‘ï¼š")]),a("el-input",{model:{value:e.cash.reduce4,callback:function(t){e.$set(e.cash,"reduce4",t)},expression:"cash.reduce4"}})],1):e._e(),a("p",{staticClass:"line-item"},[a("label",[e._v("ç°é‡‘ç»“ç®—é‡‘é¢ï¼ˆå°å†™ï¼‰ï¼š")]),a("el-input",{model:{value:e.cash_real_pay,callback:function(t){e.cash_real_pay=t},expression:"cash_real_pay"}}),e.reduce.cash1||e.reduce.cash2||e.reduce.cash3||e.reduce.cash4?e._e():[a("el-checkbox",{model:{value:e.reduce.cash1,callback:function(t){e.$set(e.reduce,"cash1",t)},expression:"reduce.cash1"}},[e._v("æ‰£é™¤ä½£é‡‘")]),a("el-checkbox",{model:{value:e.reduce.cash2,callback:function(t){e.$set(e.reduce,"cash2",t)},expression:"reduce.cash2"}},[e._v("æ‰£é™¤äº¤æ˜“è´¹ç”¨")]),a("el-checkbox",{model:{value:e.reduce.cash3,callback:function(t){e.$set(e.reduce,"cash3",t)},expression:"reduce.cash3"}},[e._v("æ‰£é™¤æ‰“æ¬¾è´¹ç”¨")]),a("el-checkbox",{model:{value:e.reduce.cash4,callback:function(t){e.$set(e.reduce,"cash4",t)},expression:"reduce.cash4"}},[e._v("æŠ½å–ä¿è¯é‡‘")])]],2),a("p",{staticClass:"line-item"},[a("label",[e._v("ç°é‡‘ç»“ç®—é‡‘é¢ï¼ˆå¤§å†™ï¼‰ï¼š")]),e._v(e._s(this.utils.getCapMoney(e.cash_real_pay))+"\n              ")])],1==e.cooperateType?[a("h3",[e._v("ç§¯åˆ†éƒ¨åˆ†")]),e.reduce.huan1||e.reduce.huan2||e.reduce.huan3?a("p",{staticClass:"line-item"},[a("label",[e._v("ç»“ç®—é‡‘é¢ï¼ˆå°å†™ï¼‰ï¼š")]),e.isPreview?a("el-input",{attrs:{disabled:""},model:{value:e.edit_settleInfo.all_huanbi,callback:function(t){e.$set(e.edit_settleInfo,"all_huanbi",t)},expression:"edit_settleInfo.all_huanbi"}}):a("el-input",{attrs:{disabled:""},model:{value:e.real_huan,callback:function(t){e.real_huan=t},expression:"real_huan"}}),a("el-checkbox",{model:{value:e.reduce.huan1,callback:function(t){e.$set(e.reduce,"huan1",t)},expression:"reduce.huan1"}},[e._v("æ‰£é™¤ä½£é‡‘")]),a("el-checkbox",{model:{value:e.reduce.huan2,callback:function(t){e.$set(e.reduce,"huan2",t)},expression:"reduce.huan2"}},[e._v("æ‰£é™¤äº¤æ˜“è´¹ç”¨")]),a("el-checkbox",{model:{value:e.reduce.huan3,callback:function(t){e.$set(e.reduce,"huan3",t)},expression:"reduce.huan3"}},[e._v("æ‰£é™¤æ‰“æ¬¾è´¹ç”¨")])],1):e._e(),e.reduce.huan1?a("p",{staticClass:"line-item"},[a("label",[e._v("æ‰£é™¤ä½£é‡‘ï¼š")]),a("el-input",{attrs:{disabled:""},model:{value:e.huanbi.reduce1,callback:function(t){e.$set(e.huanbi,"reduce1",t)},expression:"huanbi.reduce1"}})],1):e._e(),e.reduce.huan2?a("p",{staticClass:"line-item"},[a("label",[e._v("æ‰£é™¤äº¤æ˜“è´¹ç”¨ï¼š")]),a("el-input",{attrs:{disabled:""},model:{value:e.huanbi.reduce2,callback:function(t){e.$set(e.huanbi,"reduce2",t)},expression:"huanbi.reduce2"}})],1):e._e(),e.reduce.huan3?a("p",{staticClass:"line-item"},[a("label",[e._v("æ‰£é™¤æ‰“æ¬¾è´¹ç”¨ï¼š")]),a("el-input",{attrs:{disabled:""},model:{value:e.huanbi.reduce3,callback:function(t){e.$set(e.huanbi,"reduce3",t)},expression:"huanbi.reduce3"}})],1):e._e(),a("p",{staticClass:"line-item"},[a("label",[e._v("ç§¯åˆ†ç»“ç®—é‡‘é¢ï¼ˆå°å†™ï¼‰ï¼š")]),a("el-input",{model:{value:e.huanbi_real_pay,callback:function(t){e.huanbi_real_pay=t},expression:"huanbi_real_pay"}}),e.reduce.huan1||e.reduce.huan2||e.reduce.huan3?e._e():[a("el-checkbox",{model:{value:e.reduce.huan1,callback:function(t){e.$set(e.reduce,"huan1",t)},expression:"reduce.huan1"}},[e._v("æ‰£é™¤ä½£é‡‘")]),a("el-checkbox",{model:{value:e.reduce.huan2,callback:function(t){e.$set(e.reduce,"huan2",t)},expression:"reduce.huan2"}},[e._v("æ‰£é™¤äº¤æ˜“è´¹ç”¨")]),a("el-checkbox",{model:{value:e.reduce.huan3,callback:function(t){e.$set(e.reduce,"huan3",t)},expression:"reduce.huan3"}},[e._v("æ‰£é™¤æ‰“æ¬¾è´¹ç”¨")])]],2),a("p",{staticClass:"line-item"},[a("label",[e._v("ç§¯åˆ†ç»“ç®—é‡‘é¢ï¼ˆå¤§å†™ï¼‰ï¼š")]),e._v(e._s(this.utils.getCapMoney(e.huanbi_real_pay))+"\n              ")])]:e._e()],a("p",{staticClass:"line-item"},[a("label",[e._v("å¤‡æ³¨ï¼š")]),a("el-input",{attrs:{type:"textarea",rows:3},model:{value:e.edit_settleInfo.create_log,callback:function(t){e.$set(e.edit_settleInfo,"create_log",t)},expression:"edit_settleInfo.create_log"}})],1)],2)]:[e.settleInfo.status<4&&("operater"===e.role||"all"===e.role)?a("el-button",{staticClass:"right",on:{click:e.edit}},[e._v("ç¼–è¾‘")]):e._e(),a("h2",{staticClass:"t-center"},[e._v("å¯¹è´¦å•")]),a("p",{staticClass:"t-center"},[a("label",{staticStyle:{"margin-right":"20px"}},[e._v(" æ‰“æ¬¾å•IDï¼š"+e._s(e.multi_statement_id)+" ")]),a("label",[e._v("\n            ç»“ç®—æ—¶é—´ï¼š"+e._s(e._f("convertTime")(1e3*e.settleInfo.settlement_start))+"â€”â€”"+e._s(e._f("convertTime")(1e3*e.settleInfo.settlement_end))+"\n          ")])]),a("div",{staticClass:"t-head"},[a("p",{staticClass:"line-item"},[a("label",[e._v("åˆ›å»ºæ—¶é—´ï¼š")]),e._v(e._s(e._f("convertTime")(1e3*e.settleInfo.addtime)))]),a("p",{staticClass:"line-item"},[a("label",[e._v("æ”¶æ¬¾å•ä½ï¼š")]),e._v(e._s(e.settleInfo.pay_company))]),a("p",{staticClass:"line-item"},[a("label",[e._v("æ”¶æ¬¾äººï¼š")]),e._v(e._s(e.settleInfo.payee))]),a("p",{staticClass:"line-item"},[e.settleInfo.remit_type===e.PAYTYPE.ALIPAY?a("label",[e._v("æ”¯ä»˜å®è´¦å·ï¼š")]):a("label",[e._v("é“¶è¡Œè´¦å·ï¼š")]),e._v("\n            "+e._s(e.settleInfo.remit_account)+"\n          ")])]),a("div",{staticClass:"t-body"},[a("div",{staticClass:"clearfix"},[e.settleInfo.commission_type===e.COMMISSIONTYPE.SLAES?[a("div",{staticClass:"t-body-left"},[a("h2",[e._v("ç°é‡‘")]),a("p",[a("span",[e._v("å¾…ç¡®è®¤ç»“ç®—é‡‘é¢ï¼ˆå°å†™ï¼‰")]),a("label",[e._v(e._s(e.utils.formatMoney(e.settleInfo.all_cash_income-e.settleInfo.all_cash_expend)))])]),a("p",[a("span",[e._v("é”€å”®é¢ä½£é‡‘ï¼ˆå…¨æ¬¾ï¼‰")]),a("label",[e._v(e._s(e.utils.formatMoney(e.settleInfo.sales_service_fee)))])]),a("p",[a("span",[e._v("æŠ½å–ä¿è¯é‡‘")]),a("label",[e._v(e._s(e.utils.formatMoney(e.settleInfo.bond)))])]),a("p",[a("span",[e._v("å®é™…ç»“ç®—é‡‘é¢ï¼ˆå°å†™ï¼‰")]),a("label",[e._v(e._s(e.utils.formatMoney(e.settleInfo.cash_real_pay)))])]),a("p",[a("span",[e._v("é‡‘é¢ï¼ˆå¤§å†™ï¼‰")]),a("label",[e._v(e._s(this.utils.getCapMoney(e.settleInfo.cash_real_pay)))])])]),1==e.cooperateType?a("div",{staticClass:"t-body-right"},[a("h2",[e._v("ç§¯åˆ†")]),a("p",[a("span",[e._v("å¾…ç¡®è®¤é‡‘é¢ï¼ˆå°å†™ï¼‰")]),a("label",[e._v(e._s(e.utils.formatMoney(e.settleInfo.all_huanbi_income-e.settleInfo.all_huanbi_expend)))])]),a("p",[a("span",[e._v("å®é™…ç»“ç®—é‡‘é¢ ï¼ˆå°å†™ï¼‰")]),a("label",[e._v(e._s(e.utils.formatMoney(e.settleInfo.huanbi_real_pay)))])]),a("p",[a("span",[e._v("é‡‘é¢ï¼ˆå¤§å†™ï¼‰")]),a("label",[e._v(e._s(this.utils.getCapMoney(e.settleInfo.huanbi_real_pay)))])])]):e._e()]:[a("div",{staticClass:"t-body-left"},[a("h2",[e._v("ç°é‡‘")]),a("p",[a("span",[e._v("å¾…ç¡®è®¤ç»“ç®—é‡‘é¢ï¼ˆå°å†™ï¼‰")]),a("label",[e._v(e._s(e.utils.formatMoney(e.settleInfo.all_cash_income-e.settleInfo.all_cash_expend)))])]),a("p",[a("span",[e._v("æ‰£é™¤ä½£é‡‘ï¼ˆç°é‡‘ï¼‰")]),a("label",[e._v(e._s(e.utils.formatMoney(e.settleInfo.cash_service_fee)))])]),a("p",[a("span",[e._v("æ‰£é™¤äº¤æ˜“è´¹ç”¨ï¼ˆç°é‡‘ï¼‰")]),a("label",[e._v(e._s(e.utils.formatMoney(e.settleInfo.cash_income_fee)))])]),a("p",[a("span",[e._v("æŠ½å–ä¿è¯é‡‘ï¼ˆç°é‡‘ï¼‰")]),a("label",[e._v(e._s(e.utils.formatMoney(e.settleInfo.bond)))])]),a("p",[a("span",[e._v("æ‰£é™¤æ‰“æ¬¾è´¹ç”¨ï¼ˆç°é‡‘ï¼‰")]),a("label",[e._v(e._s(e.utils.formatMoney(e.settleInfo.cash_remit_fee)))])]),a("p",[a("span",[e._v("å®é™…ç»“ç®—é‡‘é¢ï¼ˆå°å†™ï¼‰")]),a("label",[e._v(e._s(e.utils.formatMoney(e.settleInfo.cash_real_pay)))])]),a("p",[a("span",[e._v("é‡‘é¢ï¼ˆå¤§å†™ï¼‰")]),a("label",[e._v(e._s(this.utils.getCapMoney(e.settleInfo.cash_real_pay)))])])]),1==e.cooperateType?a("div",{staticClass:"t-body-right"},[a("h2",[e._v("ç§¯åˆ†")]),a("p",[a("span",[e._v("å¾…ç¡®è®¤é‡‘é¢ï¼ˆå°å†™ï¼‰")]),a("label",[e._v(e._s(e.utils.formatMoney(e.settleInfo.all_huanbi_income-e.settleInfo.all_huanbi_expend)))])]),a("p",[a("span",[e._v("æ‰£é™¤ç§¯åˆ†ä½£é‡‘ï¼ˆä¸ªï¼‰")]),a("label",[e._v(e._s(e.utils.formatMoney(e.settleInfo.huanbi_service_fee)))])]),a("p",[a("span",[e._v("æ‰£é™¤ç§¯åˆ†äº¤æ˜“è´¹ç”¨ï¼ˆäººï¼‰")]),a("label",[e._v(e._s(e.utils.formatMoney(e.settleInfo.huanbi_income_fee)))])]),a("p",[a("span",[e._v("æ‰£é™¤ç§¯åˆ†æ‰“æ¬¾è´¹ç”¨ï¼ˆäººï¼‰")]),a("label",[e._v(e._s(e.utils.formatMoney(e.settleInfo.huanbi_remit_fee)))])]),a("p",[a("span",[e._v("å®é™…ç»“ç®—é‡‘é¢ ï¼ˆå°å†™ï¼‰")]),a("label",[e._v(e._s(e.utils.formatMoney(e.settleInfo.huanbi_real_pay)))])]),a("p",[a("span",[e._v("é‡‘é¢ï¼ˆå¤§å†™ï¼‰")]),a("label",[e._v(e._s(this.utils.getCapMoney(e.settleInfo.huanbi_real_pay)))])])]):e._e()]],2),a("p",{staticStyle:{display:"block"}},[a("span",{staticStyle:{display:"inline-block",width:"150px"}},[e._v("å¤‡æ³¨")]),a("label",[e._v(e._s(e.settleInfo.create_log))])])])],a("div",{staticClass:"t-bottom clearfix"},[a("div",{staticClass:"t-bottom-left"},[e._v("å¾…ç»“ç®—ç¼–å·")]),a("p",{staticClass:"t-bottom-right"},[e.isPreview?e._l(e.settleInfo.statement_list,function(t,n){return a("span",{key:n},[e._v(e._s(t.statement_no))])}):e._l(e.settleInfo.statement_no,function(t,n){return a("span",{key:n},[e._v(e._s(t))])})],2)]),e.isEdit||3!=e.settleInfo.status||"finance"!==e.role&&"all"!==e.role?e._e():a("div",{staticStyle:{"text-align":"right"}},[a("el-input",{attrs:{type:"textarea",rows:3},model:{value:e.remit_log,callback:function(t){e.remit_log=t},expression:"remit_log"}}),a("el-button",{staticStyle:{"margin-top":"15px"},attrs:{type:"primary"},on:{click:e.confirm}},[e._v("ç¡®è®¤æ‰“æ¬¾")])],1)],2)])])},i=[],s=(a("7f7f"),a("06db"),a("c5f6"),a("75fc")),r=a("cebc"),o=a("fef7"),l=a("9d62"),c=a("2f62"),u=a("21a6"),p={name:"SettlementAdd",data:function(){return{PAYTYPE:o["f"],COMMISSIONTYPE:o["b"],multi_statement_id:this.$route.params.id?this.$route.params.id:"",isEdit:!0,isPreview:!0,cash_real_pay:0,huanbi_real_pay:0,edit_settleInfo:{},settleInfo:{},cash:{reduce1:0,reduce2:0,reduce3:0,reduce4:0},huanbi:{reduce1:0,reduce2:0,reduce3:0},reduce:{cash1:!1,cash2:!1,cash3:!1,cash4:!1,huan1:!1,huan2:!1,huan3:!1},remit_log:"",againEdit:this.$route.query.isedit||""}},created:function(){this.multi_statement_id?(this.isPreview=!1,this.isEdit=!1,this.getStatementInfo()):this.getPreviewInfo()},watch:{sub_settle_cash:function(e){this.cash_real_pay=e},sub_settle_huan:function(e){this.huanbi_real_pay=e}},computed:Object(r["a"])({},Object(c["c"])({suppliers_id:function(e){return e.suppliers.suppliers_id},preview:function(e){return e.suppliers.preview},stateIdList:function(e){return e.suppliers.stateIdList},bankList:function(e){return e.settle.bankList},role:function(e){return e.settle.role},cooperateType:function(e){return e.suppliers.cooperateType}}),{title:function(){var e="";return 1==this.settleInfo.status||2==this.settleInfo.status?e="å¾…å•†å®¶ç¡®è®¤":3==this.settleInfo.status?e="å•†å®¶å·²ç¡®å®šï¼Œå¾…æ‰“æ¬¾":4==this.settleInfo.status&&(e="å•†å®¶å·²ç¡®å®šï¼Œå·²æ‰“æ¬¾"),e},real_cash:function(){return this.edit_settleInfo.all_cash_income-this.edit_settleInfo.all_cash_expend},real_huan:function(){return this.edit_settleInfo.all_huanbi_income-this.edit_settleInfo.all_huanbi_expend},sub_settle_cash:function(){var e=this.isPreview?this.edit_settleInfo.all_cash:this.real_cash;return this.reduce.cash1&&(e-=this.cash.reduce1),this.reduce.cash2&&(e-=this.cash.reduce2),this.reduce.cash3&&(e-=this.cash.reduce3),this.reduce.cash4&&(e-=this.cash.reduce4),e=this.utils.formatFloat(e,!0),e},sub_settle_huan:function(){var e=this.isPreview?this.edit_settleInfo.all_huanbi:this.real_huan;return this.reduce.huan1&&(e-=this.huanbi.reduce1),this.reduce.huan2&&(e-=this.huanbi.reduce2),this.reduce.huan3&&(e-=this.huanbi.reduce3),e=this.utils.formatFloat(e,!0),e},data:function(){var e={};return e["suppliers_statement_id"]=Object(s["a"])(this.stateIdList),e["cash_real_pay"]=this.cash_real_pay,e["huanbi_real_pay"]=this.huanbi_real_pay,e["create_log"]=this.edit_settleInfo.create_log,this.edit_settleInfo.commission_type===o["b"].SLAES?(e["use_sales_service_fee"]=this.reduce.cash1?1:0,e["use_cash_service_fee"]=this.reduce.cash1?0:1):(e["use_sales_service_fee"]=this.reduce.cash1?0:1,e["use_cash_service_fee"]=this.reduce.cash1?1:0),e["use_cash_income_fee"]=this.reduce.cash2?1:0,e["use_cash_remit_fee"]=this.reduce.cash3?1:0,e["bond"]=this.reduce.cash4?this.cash.reduce4:0,e["use_huanbi_service_fee"]=this.reduce.huan1?1:0,e["use_huanbi_income_fee"]=this.reduce.huan2?1:0,e["use_huanbi_remit_fee"]=this.reduce.huan3?1:0,e},bondLimit:function(){var e=this.real_cash-this.cash.reduce1-this.cash.reduce2-this.cash.reduce3;return this.utils.formatFloat(e,!0)}}),methods:Object(r["a"])({},Object(c["b"])({saveCooperateType:"saveCooperateType"}),{getPreviewInfo:function(){this.settleInfo=this.preview,this.transCash(),this.transHuanbi(),this.edit_settleInfo=this.settleInfo},transCash:function(){if(this.settleInfo.commission_type===o["b"].SLAES){var e=this.isPreview?Number(this.settleInfo.all_cash)+Number(this.settleInfo.all_huanbi):Number(this.real_cash)+Number(this.real_huan);this.cash.reduce1=this.utils.formatFloat(e*this.settleInfo.sales_service_percent/100,!0)}else this.cash.reduce1=this.transCashItem(this.settleInfo.cash_service_percent),this.cash.reduce2=this.transCashItem(this.settleInfo.cash_income_percent),this.cash.reduce3=this.transCashLimit(this.settleInfo.cash_remit_percent)},transCashItem:function(e){var t=this.isPreview?this.settleInfo.all_cash:this.real_cash;return this.utils.formatFloat(t*e/100,!0)},transCashLimit:function(e){var t=this.isPreview?this.settleInfo.all_cash:this.real_cash;return t=t*e/100,this.settleInfo.remit_type===o["f"].BANK?(t<o["a"].BANK.MIN&&(t=o["a"].BANK.MIN),t>o["a"].BANK.MAX&&(t=o["a"].BANK.MAX)):(t<o["a"].ALIPAY.MIN&&(t=o["a"].ALIPAY.MIN),t>o["a"].ALIPAY.MAX&&(t=o["a"].ALIPAY.MAX)),this.utils.formatFloat(t,!0)},transHuanbi:function(){this.settleInfo.commission_type!==o["b"].SLAES&&(this.huanbi.reduce1=this.transHuanbiItem(this.settleInfo.huanbi_service_percent),this.huanbi.reduce2=this.transHuanbiItem(this.settleInfo.huanbi_income_percent),this.huanbi.reduce3=this.transHuanbiItem(this.settleInfo.huanbi_remit_percent))},transHuanbiItem:function(e){var t=this.isPreview?this.settleInfo.all_huanbi:this.real_huan;return this.utils.formatFloat(t*e/100,!0)},submit:function(){var e=this;this.edit_settleInfo.create_log?this.edit_settleInfo.remit_account&&this.edit_settleInfo.pay_company&&this.edit_settleInfo.payee?this.cash.reduce4>this.bondLimit?this.$alert("ç°é‡‘ç»“ç®—é‡‘é¢ä¸èƒ½ä¸ºè´Ÿæ•°"):(this.data.suppliers_id=this.suppliers_id,Object(l["d"])(this.data).then(function(t){e.$alert(t.info),e.isPreview=!1,e.isEdit=!1,e.multi_statement_id=t.multi_statement_id,e.getStatementInfo()},function(t){e.$alert(t.errorMsg)})):this.$alert("æœªè®¾ç½®æ±‡æ¬¾ä¿¡æ¯","",{callback:function(){e.$router.push({name:"SettleSetting"})}}):this.$alert("å¤‡æ³¨ä¸èƒ½ä¸ºç©º")},getStatementInfo:function(){var e=this;Object(l["r"])(this.multi_statement_id).then(function(t){e.settleInfo=t,e.saveCooperateType(t.cooperate_type),e.againEdit&&(e.edit_settleInfo=e.settleInfo,e.transCash(),e.transHuanbi(),e.isEdit=!0)},function(e){console.log(e)})},editDone:function(){var e=this;this.data.multi_statement_id=this.multi_statement_id,this.data.statement_no=this.settleInfo.statement_no,Object(l["x"])(this.data).then(function(t){e.$alert(t.info,"",{callback:function(){e.goBack()}}),e.isEdit=!1,e.getStatementInfo()},function(t){e.$alert(t.errorMsg)})},exportSettlement:function(){var e=this,t=this.$loading({lock:!0,text:"ä¸‹è½½ä¸­",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});Object(l["f"])(this.multi_statement_id).then(function(t){var a=e.utils.formatDate("YYYY-MM-DD",(new Date).getTime());Object(u["saveAs"])(new Blob([t.data]),t.filename||e.settleInfo.pay_company+a+"æ±‡æ€»å•.pdf")}).finally(function(){t.close()})},edit:function(){this.edit_settleInfo=this.settleInfo,this.transCash(),this.transHuanbi(),this.isEdit=!0},goBack:function(){this.$router.go(-1)},cancel:function(){this.isPreview||this.againEdit?this.goBack():this.isEdit=!1},confirm:function(){var e=this;this.remit_log?Object(l["b"])(this.multi_statement_id,this.remit_log).then(function(t){e.$alert(t.info),e.$root.reload()},function(t){e.$alert(t.errorMsg)}):this.$alert("è¯·è¾“å…¥æ‰“æ¬¾å¤‡æ³¨")},bankName:function(e){if(this.bankList.length){var t="";return this.bankList.forEach(function(a){if(a.short===e)return t=a.name,!1}),t}return e}})},m=p,d=(a("9677"),a("2877")),f=Object(d["a"])(m,n,i,!1,null,"c6a2c86c",null);t["default"]=f.exports},b9e9:function(e,t,a){a("7445"),e.exports=a("584a").parseInt},bba4:function(e,t,a){"use strict";var n=a("d02f"),i=a.n(n);i.a},c0e0:function(e,t,a){"use strict";var n=a("9d5d"),i=a.n(n);i.a},c56f:function(e,t,a){"use strict";var n=a("1c4b"),i=a.n(n);i.a},c6a9:function(e,t,a){"use strict";a.d(t,"c",function(){return n}),a.d(t,"b",function(){return i}),a.d(t,"e",function(){return s}),a.d(t,"d",function(){return r}),a.d(t,"a",function(){return o});var n=[{name:"å…¨éƒ¨",id:"3"},{name:"æœªå¼€å§‹",id:"0"},{name:"è¿›è¡Œä¸­",id:"1"},{name:"å·²ç»“æŸ",id:"2"}],i=[{name:"ç°é‡‘çº¢åŒ…",id:"1"},{name:"ç°é‡‘çº¢åŒ…",id:"2"},{name:"ä¼˜æƒ åˆ¸",id:"3"}],s=[{name:"æ–°ç”¨æˆ·",id:"1"},{name:"å…¨éƒ¨",id:"2"}],r=[{name:"æŒ‡å®šå•†å“",id:"1"},{name:"å…¨éƒ¨å•†å“",id:"0"}],o=[{name:"å…¨éƒ¨",id:"-1"},{name:"è¿”ç°å†»ç»“",id:"0"},{name:"è¿”ç°åˆ°è´¦",id:"1"},{name:"æ’¤é”€è¿”ç°",id:"2"}]},c819:function(e,t,a){"use strict";var n=a("92d2"),i=a.n(n);i.a},c8bb:function(e,t,a){e.exports=a("54a1")},ccc5:function(e,t,a){"use strict";var n=a("db09"),i=a.n(n);i.a},cd1c:function(e,t,a){var n=a("e853");e.exports=function(e,t){return new(n(e))(t)}},ce70:function(e,t,a){"use strict";var n=a("df16"),i=a.n(n);i.a},d02f:function(e,t,a){},d2d5:function(e,t,a){a("1654"),a("549b"),e.exports=a("584a").Array.from},d2de:function(e,t,a){"use strict";var n=a("2065"),i=a.n(n);i.a},d38a:function(e,t,a){},d4c3:function(e,t,a){},d60a:function(e,t){e.exports=function(e){return e&&"object"===typeof e&&"function"===typeof e.copy&&"function"===typeof e.fill&&"function"===typeof e.readUInt8}},d89d:function(e,t,a){"use strict";var n=a("f008"),i=a.n(n);i.a},db09:function(e,t,a){},df16:function(e,t,a){},df6d:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("page-title",{attrs:{"first-title":"å¯¹è´¦å•åˆ—è¡¨"}}),a("section",{staticClass:"search-wrapper"},[a("el-form",{attrs:{inline:!0,model:e.params}},[a("el-form-item",{attrs:{label:"å¯¹è´¦å•çŠ¶æ€"}},[a("el-select",{staticStyle:{width:"140px"},attrs:{clearable:"",placeholder:""},model:{value:e.params.status,callback:function(t){e.$set(e.params,"status",t)},expression:"params.status"}},e._l(e.statusList,function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.value}})}),1)],1),"supplier"!==e.role?a("el-form-item",{attrs:{label:"å•†å®¶åç§°"}},[a("el-input",{staticStyle:{width:"230px"},attrs:{placeholder:"è¯·è¾“å…¥å•†å®¶åç§°"},model:{value:e.params.suppliers_name,callback:function(t){e.$set(e.params,"suppliers_name",t)},expression:"params.suppliers_name"}})],1):e._e()],1),a("el-form",[a("el-form-item",{attrs:{label:"å¯¹è´¦å•ç”Ÿæˆæ—¶é—´"}},[a("el-date-picker",{staticStyle:{width:"140px"},attrs:{placeholder:"å¼€å§‹æ—¶é—´",type:"date","value-format":"timestamp"},model:{value:e.params.addtime,callback:function(t){e.$set(e.params,"addtime",t)},expression:"params.addtime"}}),e._v("\n        -\n        "),a("el-date-picker",{staticStyle:{width:"140px"},attrs:{placeholder:"ç»“æŸæ—¶é—´",type:"date","value-format":"timestamp"},model:{value:e.params.endtime,callback:function(t){e.$set(e.params,"endtime",t)},expression:"params.endtime"}}),a("div",{staticClass:"radio-wrapper"},[a("el-radio-group",{attrs:{size:"small"},on:{change:e.selecttime},model:{value:e.timeselect,callback:function(t){e.timeselect=t},expression:"timeselect"}},e._l(e.timelist,function(t,n){return a("el-radio-button",{key:n,attrs:{label:t.value}},[e._v("\n              "+e._s(t.name)+"\n            ")])}),1)],1)],1),[a("el-button",{attrs:{type:"primary"},on:{click:e.search}},[e._v("æœç´¢")]),a("el-button",{on:{click:e.clear}},[e._v("æ¸…ç©ºç­›é€‰æ¡ä»¶")])]],2)],1),a("section",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.isLoading,expression:"isLoading"}],staticStyle:{width:"100%"},attrs:{data:e.list,border:"",stripe:"","header-cell-style":{background:"#eef1f6"}}},[a("el-table-column",{attrs:{prop:"multi_statement_id",label:"å¯¹è´¦ID"}}),"supplier"!==e.role?a("el-table-column",{attrs:{prop:"suppliers_name",label:"å•†å®¶åç§°"}}):e._e(),a("el-table-column",{attrs:{prop:"addtime",label:"å¯¹è´¦å•ç”Ÿæˆæ—¶é—´",formatter:e.dateFormat}}),a("el-table-column",{attrs:{prop:"cash_real_pay",label:"å®é™…ç°é‡‘ç»“ç®—é‡‘é¢"}}),1==e.cooperateType?a("el-table-column",{attrs:{prop:"huanbi_real_pay",label:"å®é™…ç§¯åˆ†ç»“ç®—é‡‘é¢"}}):e._e(),a("el-table-column",{attrs:{prop:"",label:"ç»“ç®—æ—¶é—´"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(e.dateFormatCol(t.row.settlement_start))+" --- "),a("br"),e._v(e._s(e.dateFormatCol(t.row.settlement_end))+"\n        ")]}}])}),a("el-table-column",{attrs:{prop:"status",label:"å¯¹è´¦å•çŠ¶æ€",formatter:e.fmtStatus}}),a("el-table-column",{attrs:{label:"æ“ä½œ"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.viewDetail(t.row.multi_statement_id)}}},[e._v("æŸ¥çœ‹")])]}}])})],1),a("el-pagination",{attrs:{background:"","current-page":e.params.page,layout:"prev, pager, next, jumper",total:e.total},on:{"current-change":e.handleCurrentChange,"update:currentPage":function(t){return e.$set(e.params,"page",t)},"update:current-page":function(t){return e.$set(e.params,"page",t)}}})],1)],1)},i=[],s=(a("7f7f"),a("e814")),r=a.n(s),o=(a("6b54"),a("06db"),a("f499")),l=a.n(o),c=a("cebc"),u=a("bd86"),p=a("9d62"),m=a("fef7"),d=a("2f62"),f={name:"WaitSettle",data:function(){var e;return e={params:{page:1,size:10},statusList:m["g"]},Object(u["a"])(e,"params",{addtime:"",endtime:"",suppliers_name:"",status:"",page:1,size:10}),Object(u["a"])(e,"timeselect",""),Object(u["a"])(e,"timelist",m["k"]),Object(u["a"])(e,"list",[]),Object(u["a"])(e,"total",0),Object(u["a"])(e,"isLoading",!1),e},computed:Object(c["a"])({},Object(d["c"])({role:function(e){return e.settle.role},cooperateType:function(e){return e.suppliers.cooperateType}}),{fmtParams:function(){var e=JSON.parse(l()(this.params));return e.addtime.toString().length>10&&(e.addtime=r()(e.addtime/1e3)),e.endtime.toString().length>10&&(e.endtime=r()(e.endtime/1e3)),e}}),created:function(){this.getSettleList(),this.getRole()},methods:Object(c["a"])({},Object(d["b"])({saveRole:"saveRole",saveCooperateType:"saveCooperateType"}),{getRole:function(){var e=this;Object(p["o"])().then(function(t){e.saveRole(t.role),t.cooperate_type&&e.saveCooperateType(t.cooperate_type)})},getSettleList:function(){var e=this;this.isLoading=!0,Object(p["q"])(this.fmtParams).then(function(t){e.list=t.list,e.total=t.paged.total}).finally(function(){e.isLoading=!1})},selecttime:function(e){var t,a=(new Date).getTime(),n=new Date((new Date).toLocaleDateString()).getTime(),i=new Date((new Date).toLocaleDateString()).getTime()-864e5,s=new Date((new Date).toLocaleDateString()).getTime()-6048e5,r=new Date((new Date).toLocaleDateString()).getTime()-2592e6,o=a;e?1===e?(t=i,o=n-1):7===e?t=s:30===e&&(t=r):t=n,this.params.addtime=t,this.params.endtime=o,this.getStateList()},search:function(){this.params.page=1,this.getSettleList()},clear:function(){for(var e in this.timeselect="",this.params)this.params[e]="";this.params.page=1,this.params.size=10,this.getSettleList()},dateFormat:function(e,t){var a=e[t.property];return this.utils.formatDate("YYYY-MM-DD HH:mm:ss",1e3*a)},dateFormatCol:function(e){return this.utils.formatDate("YYYY-MM-DD",1e3*e)},fmtStatus:function(e,t,a){var n="";return this.statusList.forEach(function(e){e.value==a&&(n=e.name)}),n},viewDetail:function(e){this.role&&this.$router.push({name:"waitConfirm",query:{id:e}})},handleCurrentChange:function(e){this.params.page=e,this.getSettleList()}})},h=f,b=(a("bba4"),a("2877")),_=Object(b["a"])(h,n,i,!1,null,"5d64d8ec",null);t["default"]=_.exports},e350:function(e,t,a){},e769:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"header"},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",[e._v(e._s(e.name)+"å¹³å°")]),a("el-breadcrumb-item",[e._v("ä»£ä»˜æ˜ç»†")])],1)],1),a("div",{staticClass:"search-wrapper"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.searchParams}},[a("el-form-item",{attrs:{label:"è®¢å•å·"}},[a("el-input",{attrs:{placeholder:"è®¢å•å·"},model:{value:e.searchParams.orderId,callback:function(t){e.$set(e.searchParams,"orderId",t)},expression:"searchParams.orderId"}})],1),a("el-form-item",{attrs:{label:"å‡ºå€Ÿäºº"}},[a("el-input",{attrs:{placeholder:"å‡ºå€Ÿäººæˆ–æ‰‹æœºå·"},model:{value:e.searchParams.nameOrMobile,callback:function(t){e.$set(e.searchParams,"nameOrMobile",t)},expression:"searchParams.nameOrMobile"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.search}},[e._v("æŸ¥è¯¢")]),a("el-button",{on:{click:e.clear}},[e._v("æ¸…ç©º")])],1)],1)],1),a("div",{staticClass:"list-wrapper"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.list}},[a("el-table-column",{attrs:{prop:"createdAt",label:"æ—¶é—´",formatter:e.dateFormat}}),a("el-table-column",{attrs:{prop:"userName",label:"å‡ºå€Ÿäºº"}}),a("el-table-column",{attrs:{prop:"mobilePhone",label:"æ‰‹æœºå·"}}),a("el-table-column",{attrs:{prop:"orderId",label:"è®¢å•å·"}}),a("el-table-column",{attrs:{prop:"changeToken",label:"ä»£ä»˜æ•°é¢"}})],1)],1),a("el-pagination",{attrs:{background:"","current-page":e.currentPage,"page-size":e.searchParams.limit,layout:"prev, pager, next, jumper",total:e.total},on:{"current-change":e.handleCurrentChange}})],1)},i=[],s={name:"PayDetails",data:function(){var e=localStorage.getItem("partnerName");return{name:e,total:0,currentPage:1,searchParams:{page:1,limit:10,orderId:"",nameOrMobile:""},list:[]}},methods:{getList:function(){var e=this;this.replaceDatas(this.searchParams),this.$api.post("hd/itzUserTokenLog/prepare_detail",this.searchParams,function(t){200==t.status&&(e.list=t.data.rows,e.total=t.data.total)})},replaceDatas:function(e){for(var t in e)""!=e[t]&&null!=e[t]||delete e[t]},handleCurrentChange:function(e){this.searchParams.page=e,this.getList()},clear:function(){this.searchParams.page=1,this.searchParams.size=10,this.searchParams.nameOrMobile="",this.searchParams.orderId="",this.getList()},search:function(){this.searchParams.page=1,this.getList()},dateFormat:function(e,t,a){return this.utils.formatDate("YYYY-MM-DD HH:mm:ss",1e3*a)}},created:function(){this.getList()}},r=s,o=(a("90f8"),a("2877")),l=Object(o["a"])(r,n,i,!1,null,"253367d1",null);t["default"]=l.exports},e814:function(e,t,a){e.exports=a("b9e9")},e829:function(e,t,a){a("2f37"),e.exports=a("584a").Date.now},e853:function(e,t,a){var n=a("d3f4"),i=a("1169"),s=a("2b4c")("species");e.exports=function(e){var t;return i(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!i(t.prototype)||(t=void 0),n(t)&&(t=t[s],null===t&&(t=void 0))),void 0===t?Array:t}},e8ae:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"header"},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",[e._v("ä¼˜æƒ åˆ¸")]),a("el-breadcrumb-item",[e._v("æ–°å»ºä¼˜æƒ åˆ¸")])],1)],1),a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.newCouponLoading,expression:"newCouponLoading"}],staticClass:"list-wrapper"},[a("el-form",{ref:"newCouponData",attrs:{"label-position":"center",model:e.newCouponData,rules:e.rules,"label-width":"110px"}},[a("el-form-item",{attrs:{label:"ä¼˜æƒ åˆ¸åç§°ï¼š",prop:"couponName"}},[a("el-input",{staticStyle:{width:"30%"},attrs:{type:"text",placeholder:"ä¼˜æƒ åˆ¸åç§°"},on:{input:function(t){return e.checkTel("coupon",t)}},model:{value:e.newCouponData.couponName,callback:function(t){e.$set(e.newCouponData,"couponName","string"===typeof t?t.trim():t)},expression:"newCouponData.couponName"}})],1),a("el-form-item",{attrs:{label:"å‘æ”¾æ€»é‡ï¼š",prop:"totalCount"}},[a("el-input",{staticStyle:{width:"30%"},attrs:{type:"text",placeholder:"å‘æ”¾æ•°é‡"},on:{input:function(t){return e.checkTel("amount",t)}},model:{value:e.newCouponData.totalCount,callback:function(t){e.$set(e.newCouponData,"totalCount","string"===typeof t?t.trim():t)},expression:"newCouponData.totalCount"}})],1),a("el-form-item",{attrs:{label:"ä½¿ç”¨é—¨æ§›ï¼š",prop:"thresholdType"}},[a("el-radio-group",{attrs:{size:"mini"},model:{value:e.newCouponData.thresholdType,callback:function(t){e.$set(e.newCouponData,"thresholdType",t)},expression:"newCouponData.thresholdType"}},[a("el-radio",{attrs:{label:0}},[e._v("æ— é—¨æ§›")]),a("div",{staticStyle:{"margin-top":"10px"}},[a("el-radio",{attrs:{label:1}},[e._v("è®¢å•æ»¡")])],1)],1),1==e.newCouponData.thresholdType?a("el-form-item",{staticClass:"left_flex",attrs:{prop:"thresholdAmount"}},[a("el-input",{staticStyle:{width:"80%"},attrs:{type:"text",placeholder:"é‡‘é¢( 0.1-999999.99 )"},on:{input:function(t){return e.checkTel("reduction",t)}},model:{value:e.newCouponData.thresholdAmount,callback:function(t){e.$set(e.newCouponData,"thresholdAmount","string"===typeof t?t.trim():t)},expression:"newCouponData.thresholdAmount"}}),e._v("\n          å…ƒ")],1):e._e()],1),a("el-form-item",{attrs:{label:"ä¼˜æƒ å†…å®¹ï¼š",prop:"preferentialAmount"}},[a("span",{staticStyle:{"margin-right":"10px"}},[e._v("å‡")]),a("el-input",{staticStyle:{width:"120px"},attrs:{type:"text",placeholder:"é‡‘é¢(å…ƒ)"},on:{input:function(t){return e.checkTel("couponPro",t)}},model:{value:e.newCouponData.preferentialAmount,callback:function(t){e.$set(e.newCouponData,"preferentialAmount","string"===typeof t?t.trim():t)},expression:"newCouponData.preferentialAmount"}}),a("span",{staticStyle:{"margin-left":"10px"}},[e._v("å…ƒ")])],1),a("el-form-item",{attrs:{label:"æœ‰æ•ˆæœŸï¼š",prop:"order_valid",required:""}},[a("el-radio-group",{attrs:{size:"mini"},model:{value:e.newCouponData.order_valid,callback:function(t){e.$set(e.newCouponData,"order_valid",t)},expression:"newCouponData.order_valid"}},[a("div",{staticStyle:{"margin-bottom":"10px"}},[a("el-radio",{attrs:{label:0}},[e._v("é€‰æ—¥æœŸ")]),0==e.newCouponData.order_valid?a("el-form-item",{staticStyle:{display:"inline-block"},attrs:{prop:"time_value"}},[a("el-date-picker",{attrs:{type:"datetimerange","range-separator":"è‡³","start-placeholder":"å¼€å§‹æ—¥æœŸ","end-placeholder":"ç»“æŸæ—¥æœŸ"},on:{change:e.optTime},model:{value:e.time_value,callback:function(t){e.time_value=t},expression:"time_value"}})],1):e._e()],1),a("div",{staticClass:"coup_time"},[a("el-radio",{attrs:{label:2}},[e._v("é¢†åŠµå")]),2==e.newCouponData.order_valid?a("el-form-item",{staticStyle:{display:"inline-block"},attrs:{prop:"periodType"}},[a("el-input",{staticStyle:{width:"100px"},attrs:{type:"text",placeholder:"1-999"},on:{input:function(t){return e.checkTel("timeDay",t)}},model:{value:e.newCouponData.periodType,callback:function(t){e.$set(e.newCouponData,"periodType","string"===typeof t?t.trim():t)},expression:"newCouponData.periodType"}})],1):e._e()],1)]),2==e.newCouponData.order_valid?a("div",{staticClass:"left_flex",staticStyle:{"vertical-align":"bottom","margin-left":"10px"}},[e._v("\n          å¤©\n        ")]):e._e()],1),a("el-form-item",{attrs:{label:"é€‚ç”¨å•†å“ï¼š",prop:"applicableGoods"}},[a("el-radio-group",{attrs:{size:"mini"},model:{value:e.newCouponData.applicableGoods,callback:function(t){e.$set(e.newCouponData,"applicableGoods",t)},expression:"newCouponData.applicableGoods"}},[a("div",{staticClass:"coup_time"},[a("el-radio",{attrs:{label:2}},[e._v("æŒ‡å®šå•†å“")]),a("el-button",{staticClass:"input-box",attrs:{type:"primary",size:"small"}},[e._v("\n              æ‰¹é‡å¯¼å…¥å•†å“\n              "),a("input",{ref:"referenceUpload",attrs:{type:"file"},on:{change:function(t){return e.ossUpload(t)}}})])],1)]),a("div",{staticStyle:{"margin-left":"100px"}},[a("el-button",{staticClass:"input-box",attrs:{type:"text",size:"small"}},[a("a",{attrs:{href:e.down}},[e._v("ä¸‹è½½æ¨¡æ¿")])])],1),a("div",{staticClass:"add-online"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.dialogTableVisible=!0,e.goodsType=!1}}},[e._v("æ‰¹é‡æ·»åŠ å•†å“")]),a("span",{staticClass:"goods-in"},[e._v("å·²æ·»åŠ å•†å“ï¼š")]),a("span",{staticStyle:{color:"#41a5e1",cursor:"pointer"},on:{click:function(t){e.dialogTableVisible=!0,e.goodsType=!0}}},[e._v(e._s(e.addAmount))])],1)],1),a("el-form-item",{attrs:{label:"é¢†å–äººï¼š",prop:"targetUsers"}},[a("el-radio-group",{attrs:{size:"mini"},model:{value:e.newCouponData.targetUsers,callback:function(t){e.$set(e.newCouponData,"targetUsers",t)},expression:"newCouponData.targetUsers"}},[a("el-radio",{attrs:{label:1}},[e._v("å…¨éƒ¨")]),a("el-radio",{attrs:{label:2}},[e._v("æ–°ç”¨æˆ·")])],1)],1),a("el-form-item",{attrs:{label:"é¢†å–é™åˆ¶ï¼š",prop:"order_number"}},[a("el-radio-group",{attrs:{size:"mini"},model:{value:e.newCouponData.order_number,callback:function(t){e.$set(e.newCouponData,"order_number",t)},expression:"newCouponData.order_number"}},[a("el-radio",{attrs:{label:-1}},[e._v("ä¸é™")]),a("div",{staticStyle:{"margin-top":"10px"}},[a("el-radio",{attrs:{label:2}},[e._v("æ¬¡æ•°")]),2==e.newCouponData.order_number?a("el-form-item",{staticStyle:{display:"inline-block"},attrs:{prop:"receiveLimit"}},[a("el-input",{staticStyle:{width:"100px"},attrs:{type:"text",placeholder:"1-99"},on:{input:function(t){return e.checkTel("receive",t)}},model:{value:e.newCouponData.receiveLimit,callback:function(t){e.$set(e.newCouponData,"receiveLimit","string"===typeof t?t.trim():t)},expression:"newCouponData.receiveLimit"}})],1):e._e()],1)],1)],1),a("el-form-item",{attrs:{label:"ä½¿ç”¨è¯´æ˜ï¼š",prop:"useDescription"}},[a("el-input",{staticStyle:{width:"300px"},attrs:{type:"textarea",autosize:{minRows:2,maxRows:4},placeholder:"è¯·è¾“å…¥å†…å®¹",maxlength:"60"},model:{value:e.newCouponData.useDescription,callback:function(t){e.$set(e.newCouponData,"useDescription",t)},expression:"newCouponData.useDescription"}})],1),a("el-form-item",{attrs:{label:"å¤‡æ³¨ï¼š"}},[a("el-input",{staticStyle:{width:"300px"},attrs:{type:"textarea",autosize:{minRows:2,maxRows:4},placeholder:"è¯·è¾“å…¥å†…å®¹",maxlength:"60"},model:{value:e.newCouponData.remarks,callback:function(t){e.$set(e.newCouponData,"remarks",t)},expression:"newCouponData.remarks"}})],1),a("div",{staticStyle:{width:"80%",margin:"0 auto","text-align":"center"}},[a("el-button",{staticStyle:{margin:"0 20px"},on:{click:function(t){return e.resetForm("newCouponData")}}},[e._v("å–æ¶ˆ")]),a("el-button",{staticStyle:{margin:"0 20px"},attrs:{type:"primary"},on:{click:function(t){return e.submitForm("newCouponData")}}},[e._v("ç¡®è®¤")])],1)],1)],1),a("el-dialog",{attrs:{title:"å•†å“åˆ—è¡¨",visible:e.dialogTableVisible,width:"90%"},on:{"update:visible":function(t){e.dialogTableVisible=t}}},[e.dialogTableVisible?a("goods-online",{attrs:{isdisabled:e.goodsType,couponid:e.newCouponData.id},on:{"add-goods":e.addGoodsOnline}}):e._e()],1)],1)},i=[],s=(a("7f7f"),a("5d73")),r=a.n(s),o=a("e814"),l=a.n(o),c=(a("a481"),a("91bd")),u=a("ccd9"),p={name:"newCoupon",components:{goodsOnline:c["a"]},data:function(){var e=this,t=function(t,a,n){null==e.time_value?n(new Error("è¯·é€‰æ‹©æœ‰æ•ˆæœŸé™")):n()};return{newCoupon:!1,newCouponData:{id:"",couponName:"",totalCount:"",thresholdAmount:"",preferentialAmount:"",order_valid:0,periodType:"",periodStartTime:"",periodEndTime:"",applicableGoods:2,targetUsers:1,receiveLimit:"",useDescription:"",remarks:"",instructions:"0",thresholdType:0,order_number:-1},rules:{couponName:[{required:!0,message:"è¯·è¾“å…¥ä¼˜æƒ åˆ¸åç§°ï¼",trigger:"blur"},{min:3,max:15,message:"é•¿åº¦3~15ä¸ªå­—ç¬¦",trigger:"blur"}],totalCount:{required:!0,message:"è¯·è¾“å…¥0-99999999æ•´æ•°ï¼",trigger:"blur"},thresholdType:{required:!0,message:"è¯·é€‰æ‹©ä½¿ç”¨æ¡ä»¶ï¼",trigger:"change"},preferentialAmount:{required:!0,message:"è¯·è¾“å…¥0.1-999999.99çš„æ•°å­—",trigger:"blur"},time_value:{validator:t,trigger:"blur"},periodType:{required:!0,message:"è¯·é€‰æ‹©å¤±æ•ˆå¤©æ•°ï¼",trigger:"blur"},thresholdAmount:{required:!0,message:"è¯·å¡«å†™æ»¡å‡é‡‘é¢ï¼",trigger:"blur"},receiveLimit:{required:!0,message:"è¯·å¡«å†™æ¬¡æ•°ï¼",trigger:"blur"},applicableGoods:{required:!0,message:"è¯·é€‰æ‹©é€‚ç”¨å•†å“ï¼",trigger:"change"},targetUsers:{required:!0,message:"è¯·é€‰æ‹©é¢†åˆ¸äººï¼",trigger:"change"},order_number:{required:!0,message:"è¯·é€‰æ‹©é¢†å–é™åˆ¶ï¼",trigger:"change"},useDescription:{required:!0,message:"è¯·å¡«å†™ä½¿ç”¨è¯´æ˜ï¼",trigger:"blur"}},newCouponLoading:!1,isShowAdem:!0,down:"#",time_value:null,addAmount:0,dialogTableVisible:!1,goodsType:!1}},methods:{addGoodsOnline:function(e){this.$message.success(e),this.dialogTableVisible=!1,this.getAmount()},getAmount:function(){var e=this;this.$api.get("hd/itzCouponGoods/page/list",{couponId:this.newCouponData.id,page:1,limit:10},function(t){200==t.status&&(e.addAmount=t.data.total)})},getList:function(){var e=this;this.$api.post("hd/itzCoupon/to",{},function(t){200==t.status&&(e.newCouponData.id=t.data)})},checkTel:function(e,t){"coupon"==e?this.newCouponData.couponName=this.utils.checkTel("15",t):"amount"==e?this.newCouponData.totalCount=this.utils.checkTel("8",t).replace(/[^\d]+/g,""):"reduction"==e?this.newCouponData.thresholdAmount=this.utils.checkTel("9",t).replace(/^\D*([1-9]\d*\.?\d{0,2})?.*$/,"$1"):"couponPro"==e?this.newCouponData.preferentialAmount=this.utils.checkTel("9",t).replace(/^\D*([1-9]\d*\.?\d{0,2})?.*$/,"$1"):"timeDay"==e?this.newCouponData.periodType=this.utils.checkTel("3",t).replace(/[^\d]+/g,""):"receive"==e&&(this.newCouponData.receiveLimit=this.utils.checkTel("2",t).replace(/[^\d]+/g,""))},optTime:function(){var e=this.time_value?this.time_value:[];e.length>0?(this.newCouponData.periodStartTime=this.utils.format_date(e[0],"-1")/1e3,this.newCouponData.periodEndTime=this.utils.format_date(e[1],"-1")/1e3):(this.newCouponData.periodStartTime="",this.newCouponData.periodEndTime="")},submit:function(e){var t=this;0==this.newCouponData.thresholdType&&(this.newCouponData.thresholdAmount=""),2==this.newCouponData.order_valid?(this.newCouponData.periodStartTime=l()((new Date).getTime()/1e3),this.newCouponData.periodEndTime=0):0==this.newCouponData.order_valid&&(this.newCouponData.periodType=0),-1==this.newCouponData.order_number&&(this.newCouponData.receiveLimit=-1),this.newCouponLoading=!0,this.$api.put("hd/itzCoupon/"+this.newCouponData.id,this.newCouponData,function(e){200===e.status&&(t.newCoupon=!1,t.newCouponLoading=!1,t.$message.success("æ·»åŠ æˆåŠŸï¼"),setTimeout(function(){t.$router.push({name:"couponList"})},2e3))},function(e){t.$message.error(e),t.newCouponLoading=!1})},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){return e?2==t.newCouponData.applicableGoods&&0==t.addAmount?(t.$message.error("è¯·æ·»åŠ å•†å“ï¼"),!1):void t.submit():(console.log("error submit!!"),!1)})},resetForm:function(e){this.newCoupon=!1,this.$refs[e].resetFields(),this.$router.push({name:"couponList"})},ossUpload:function(e){var t=this,a=e.target.files,n=!0,i=!1,s=void 0;try{for(var o,l=r()(a);!(n=(o=l.next()).done);n=!0){var c=o.value;if(c.name&&-1==c.name.indexOf(".csv"))return t.$message.error("è¯·ä¸Šä¼  .CSV æ–‡ä»¶"),!1}}catch(p){i=!0,s=p}finally{try{n||null==l.return||l.return()}finally{if(i)throw s}}t.online_loading=!0;var u=new FormData;u.append("goodsFile",a[0]),u.append("id",this.newCouponData.id),t.newCouponLoading=!0,t.$api.post("hd/itzCoupon/goods/csv",u,function(e){200===e.status&&(t.newCouponLoading=!1,t.$message.success("æ–‡ä»¶ä¸Šä¼ æˆåŠŸï¼"),t.$refs.referenceUpload.value=null,t.getAmount())},function(e){console.log(e),t.newCouponLoading=!1})}},created:function(){for(var e in this.getList(),u["a"])"hd/"==u["a"][e].key&&(this.down=u["a"][e].val+"/coupon-template(GBK).csv")}},m=p,d=(a("3784"),a("2877")),f=Object(d["a"])(m,n,i,!1,null,"71b07e5b",null);t["default"]=f.exports},ebbc:function(e,t,a){"use strict";var n=a("9009"),i=a.n(n);i.a},f008:function(e,t,a){},f01a:function(e,t,a){"use strict";var n=a("a60e"),i=a.n(n);i.a},f0ef:function(e,t,a){},f410:function(e,t,a){a("1af6"),e.exports=a("584a").Array.isArray},f4a3:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("page-title",{attrs:{"first-title":"å‡ºå€Ÿäººåˆ—è¡¨"}}),a("div",{staticClass:"button-wrapper"}),a("div",{staticClass:"search-wrapper"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[a("el-form-item",{attrs:{label:"ç½‘è´·å¹³å°åç§°"}},[a("el-input",{attrs:{placeholder:"ç½‘è´·å¹³å°åç§°"},model:{value:e.params.platformName,callback:function(t){e.$set(e.params,"platformName",t)},expression:"params.platformName"}})],1),a("el-form-item",{attrs:{label:"å‡ºå€Ÿäººåç§°"}},[a("el-input",{attrs:{placeholder:"å‡ºå€Ÿäººåç§°"},model:{value:e.params.userName,callback:function(t){e.$set(e.params,"userName",t)},expression:"params.userName"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(t){return e.getlenderList()}}},[e._v("æœç´¢")]),a("el-button",{attrs:{type:"primary",icon:"el-icon-refresh"},on:{click:function(t){return e.clear()}}},[e._v("æ¸…ç©º")])],1)],1)],1),a("div",{staticClass:"list-wrapper"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.lebder_loading,expression:"lebder_loading"}],staticStyle:{width:"100%"},attrs:{data:e.lebderArr,stripe:"","header-cell-style":{background:"#eef1f6"}}},[a("el-table-column",{attrs:{prop:"userName",label:"å§“å"}}),a("el-table-column",{attrs:{prop:"mobilePhone",label:"æ‰‹æœºå·"}}),a("el-table-column",{attrs:{prop:"partnerName",label:"ç½‘è´·å¹³å°"}}),a("el-table-column",{attrs:{prop:"totalToken",label:"ä»£ä»˜é¢åº¦"}}),a("el-table-column",{attrs:{prop:"useToken",label:"å·²ä»£ä»˜æ•°é¢"}}),a("el-table-column",{attrs:{prop:"token",label:"å‰©ä½™é¢åº¦"}}),a("el-table-column",{attrs:{prop:"",label:"å¯¼å…¥æ—¶é—´"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.utils.format_date(t.row.createTime)))])]}}])})],1)],1),a("el-pagination",{attrs:{background:"","current-page":e.currentPage,"page-size":e.params.limit,layout:"prev, pager, next, jumper",total:e.total},on:{"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t}}})],1)},i=[],s=a("f499"),r=a.n(s),o=(a("a481"),{name:"RetailActivityList",data:function(){return{lebder_loading:!1,lebderArr:[],currentPage:1,params:{platformName:"",userName:"",page:1,limit:10},total:0,addPlatform_loading:!1,addPlatform:!1}},created:function(){this.params.platformName=this.$route.params.partners,this.getlenderList()},methods:{replaceDatas:function(e){for(var t in e)""!=e[t]&&null!=e[t]||delete e[t]},getlenderList:function(){var e=this;this.lebder_loading=!0,this.replaceDatas(this.params);var t=r()(this.params).replace(/:/g,"=").replace("{","").replace("}","").replace(/,/g,"&").replace(/"/g,"").replace(/\s+/g,"");this.$api.get("hd/itzPartnerUser/page/list?"+t,null,function(t){console.log(t.data),200===t.status&&(e.lebderArr=t.data.rows,e.total=t.data.total,e.lebder_loading=!1)})},handleCurrentChange:function(e){this.params.page=e,this.getlenderList()},clear:function(){this.params={platformName:"",userName:"",page:1,limit:10},this.getlenderList()}},watch:{addPlatform:function(e){!1!==e&&"false"!==e||console.log("é‡ç½®add_Platform")}}}),l=o,c=(a("2123"),a("2877")),u=Object(c["a"])(l,n,i,!1,null,"6e2fa731",null);t["default"]=u.exports},fef7:function(e,t,a){"use strict";a.d(t,"j",function(){return n}),a.d(t,"i",function(){return i}),a.d(t,"k",function(){return s}),a.d(t,"f",function(){return r}),a.d(t,"b",function(){return o}),a.d(t,"a",function(){return l}),a.d(t,"c",function(){return c}),a.d(t,"e",function(){return u}),a.d(t,"d",function(){return p}),a.d(t,"g",function(){return m}),a.d(t,"h",function(){return d});var n=["","å¾…ç¡®è®¤","","å·²ç¡®è®¤","å·²æ‰“æ¬¾"],i={UNCONFIRM:1,UNREMIT:3,HADREMIT:4},s=(i.UNCONFIRM,i.UNREMIT,i.HADREMIT,[{name:"ä»Š",value:0},{name:"æ˜¨",value:1},{name:"è¿‘7å¤©",value:7},{name:"è¿‘30å¤©",value:30}]),r={ALIPAY:1,BANK:2},o={SLAES:1,CASHHUAN:2},l={ALIPAY:{MIN:2,MAX:25},BANK:{MIN:1,MAX:25}},c={COR_RESIDENT:1,COR_SUPPLIERS:2},u={1:"ç»“ç®—",0:"ä¸ç»“ç®—"},p={SETTLEMENT:1,UNSETTLEMENT:0},m=[{name:"å¾…è¿è¥ç¡®è®¤",value:1},{name:"å¾…å•†å®¶ç¡®è®¤",value:2},{name:"å¾…è´¢åŠ¡ç¡®è®¤",value:3},{name:"å·²å®Œæˆ",value:4}],d=[{name:"å¾…æ‰“æ¬¾",value:1},{name:"å·²å®Œæˆ",value:2}]}}]);
//# sourceMappingURL=Settle-legacy.78faff91.js.map